/*! For license information please see main.932b4074.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function F(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,_e=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Ee||null!==_e)&&(Ne(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,je=null,Ue=!1,Ve=null,Fe={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,_t,St,Tt=!1,Ct=[],It=null,Nt=null,At=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function Ft(){Tt=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Rt.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Kt(e,t,n,r){var i=kt,a=Ht.transition;Ht.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,Ht.transition=a}}function Gt(e,t,n,r){if(qt){var i=Xt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&qr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=j({},ln,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),gn=an(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(j({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return _n}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),In=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,jn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Xn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Sr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Sr("animationend"),Cr=Sr("animationiteration"),Ir=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),u(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Ir,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=je;Me=!1,je=null,Ue||(Ue=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Cr:case Ir:u=gn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(qn(s))if($n)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Fn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(g=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=zn(n))&&(k.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Fn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Pe(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function _i(e){return{current:e}}function Si(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ti(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ci={},Ii=_i(Ci),Ni=_i(!1),Ai=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ii)}function Di(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ti(Ii,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ii.current,Ti(Ii,e),Ti(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ii),Ti(Ii,e)):Si(Ni),Ti(Ni,n)}var Ui=null,Vi=!1,Fi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Fi&&null!==Ui){Fi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Fi=!1}}return null}var Hi=[],qi=0,Wi=null,Ki=0,Gi=[],Qi=0,Xi=null,Yi=1,$i="";function Ji(e,t){Hi[qi++]=Ki,Hi[qi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Xi,Xi=e;var r=Yi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Yi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Hi[--qi],Hi[qi]=null,Ki=Hi[--qi],Hi[qi]=null;for(;e===Xi;)Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=_i(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function xa(e){var t=ga.current;Si(ga),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ca(e){null===Ta?Ta=[e]:Ta.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nl(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Ha(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Pi(t)?Ai:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Pi(t)?Ai:Ii.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Ul(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,l);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?c=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return ia&&Ji(i,m),c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Ll(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dl(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case P:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Xa(!0),$a=Xa(!1),Ja={},Za=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ti(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=_i(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Co(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Mu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=Co(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nl(t,e,1,-1)}function Uo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return Co().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function Ho(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Co().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nl(n,e,r,el()),as(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ca(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(nl(n,e,r,i=el()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Uo,useDebugValue:Xo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Nu.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:$o,useReducer:No,useRef:Fo,useState:function(){return No(Io)},useDebugValue:Xo,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1},ls={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:qo,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:$o,useReducer:Ao,useRef:Fo,useState:function(){return Ao(Io)},useDebugValue:Xo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Io)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qu||(qu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ya(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_s(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Ol(a,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Cs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ou,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ou,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ou,Pu),Pu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ou,Pu),Pu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Pi(n)?Ai:Ii.current;return a=Ri(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Is(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Hs(e,t),Ha(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=Ri(t,l=Pi(n)?Ai:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&qa(t,o,r,l),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Aa?("function"===typeof c&&(Fa(t,n,c,r),u=t.memoizedState),(s=Aa||Ba(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ri(t,u=Pi(n)?Ai:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&qa(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Fa(t,n,d,r),p=t.memoizedState),(l=Aa||Ba(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),qs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Os,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ml(u,i,0,null),e=Ll(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(o=Ll(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nl(r,e,i,-1))}return vl(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Xi,Yi=e.id,$i=e.overflow,Xi=t),(t=Us(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ol(r,s):(s=Ll(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Ol(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Ks(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ps(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Vr("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Bu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*$e()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Vr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_l(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){_l(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=cu,i=fu;cu=null,hu(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_l(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(a(160));du(o,s,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){_l(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){_l(e,e.return,m)}try{nu(5,e,e.return)}catch(m){_l(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_l(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_l(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_l(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){_l(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=$e())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||f,vu(t,e),Ys=c):vu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_l(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){_l(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){_l(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){_l(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Js=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Xs;var l=Ys;if(Xs=o,(Ys=u)&&!l)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Js=u):xu(i);for(;null!==a;)Js=a,ku(a,t,n),a=a.sibling;Js=i,Xs=s,Ys=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(d){_l(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){_l(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_l(t,i,u)}}var a=t.return;try{iu(t)}catch(u){_l(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){_l(t,o,u)}}}catch(u){_l(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Eu,_u=Math.ceil,Su=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Cu=b.ReactCurrentBatchConfig,Iu=0,Nu=null,Au=null,Ru=0,Pu=0,Ou=_i(0),Du=0,Lu=null,Mu=0,ju=0,Uu=0,Vu=null,Fu=null,zu=0,Bu=1/0,Hu=null,qu=!1,Wu=null,Ku=null,Gu=!1,Qu=null,Xu=0,Yu=0,$u=null,Ju=-1,Zu=0;function el(){return 0!==(6&Iu)?$e():-1!==Ju?Ju:Ju=$e()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Yu)throw Yu=0,$u=null,Error(a(185));gt(e,n,r),0!==(2&Iu)&&e===Nu||(e===Nu&&(0===(2&Iu)&&(ju|=n),4===Du&&sl(e,Ru)),rl(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Bu=$e()+500,Vi&&Bi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(ul.bind(null,e)):zi(ul.bind(null,e)),oi((function(){0===(6&Iu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,Zu=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Iu;Iu|=2;var o=pl();for(Nu===e&&Ru===t||(Hu=null,Bu=$e()+500,hl(e,t));;)try{yl();break}catch(u){dl(e,u)}wa(),Su.current=o,Iu=i,null!==Au?t=0:(Nu=null,Ru=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Lu,hl(e,0),sl(e,r),rl(e,$e()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Lu,hl(e,0),sl(e,r),rl(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Fu,Hu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=zu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Fu,Hu),t);break}wl(e,Fu,Hu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Fu,Hu),r);break}wl(e,Fu,Hu);break;default:throw Error(a(329))}}}return rl(e,$e()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Fu,Fu=n,null!==t&&ol(t)),e}function ol(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function sl(e,t){for(t&=~Uu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Iu))throw Error(a(327));xl();var t=ht(e,0);if(0===(1&t))return rl(e,$e()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Lu,hl(e,0),sl(e,t),rl(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Fu,Hu),rl(e,$e()),null}function ll(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Bu=$e()+500,Vi&&Bi())}}function cl(e){null!==Qu&&0===Qu.tag&&0===(6&Iu)&&xl();var t=Iu;Iu|=1;var n=Cu.transition,r=kt;try{if(Cu.transition=null,kt=1,e)return e()}finally{kt=r,Cu.transition=n,0===(6&(Iu=t))&&Bi()}}function fl(){Pu=Ou.current,Si(Ou)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Si(Ni),Si(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:xa(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Nu=e,Au=e=Ol(e.current,null),Ru=Pu=t,Du=0,Lu=null,Uu=ju=Mu=0,Fu=Vu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dl(e,t){for(;;){var n=Au;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Tu.current=null,null===n||null===n.return){Du=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Du&&(Du=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pl(){var e=Su.current;return Su.current=os,null===e?os:e}function vl(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Nu||0===(268435455&Mu)&&0===(268435455&ju)||sl(Nu,Ru)}function ml(e,t){var n=Iu;Iu|=2;var r=pl();for(Nu===e&&Ru===t||(Hu=null,hl(e,t));;)try{gl();break}catch(i){dl(e,i)}if(wa(),Iu=n,Su.current=r,null!==Au)throw Error(a(261));return Nu=null,Ru=0,Du}function gl(){for(;null!==Au;)kl(Au)}function yl(){for(;null!==Au&&!Xe();)kl(Au)}function kl(e){var t=Eu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?bl(e):Au=t,Tu.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Pu)))return void(Au=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Du=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Du&&(Du=5)}function wl(e,t,n){var r=kt,i=Cu.transition;try{Cu.transition=null,kt=1,function(e,t,n,r){do{xl()}while(null!==Qu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Au=Nu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nl(tt,(function(){return xl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=kt;kt=1;var u=Iu;Iu|=4,Tu.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_l(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Ye(),Iu=u,kt=s,Cu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Xu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qu)throw qu=!1,e=Wu,Wu=null,e;0!==(1&Xu)&&0!==e.tag&&xl(),0!==(1&(o=e.pendingLanes))?e===$u?Yu++:(Yu=0,$u=e):Yu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,kt=r}return null}function xl(){if(null!==Qu){var e=bt(Xu),t=Cu.transition,n=kt;try{if(Cu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Xu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var k=e.current;for(Js=k;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=k;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){_l(u,u.return,x)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Iu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cu.transition=t}}return!1}function El(e,t,n){e=Da(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(gt(e,1,t),rl(e,t))}function _l(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Da(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(gt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ru&n)===n&&(4===Du||3===Du&&(130023424&Ru)===Ru&&500>$e()-zu?hl(e,0):Uu|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Na(e,t))&&(gt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Nl(e,t){return Ge(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Al(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ll(n.children,i,o,t);case _:s=8,i|=8;break;case S:return(e=Rl(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Rl(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rl(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Ml(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case I:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ll(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,i,a,o,s,u){return e=new Vl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bl(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Hl(e,t,n,r,i,a,o,s,u){return(e=Fl(n,r,!0,e,0,a,0,s,u)).context=Bl(null),n=e.current,(a=Oa(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),rl(e,r),e}function ql(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nl(e,i,o,a),La(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ti(so,1&so.current),null!==(e=qs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return qs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ri(t,Ii.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,_a(t,n),Ha(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}ql(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=Hl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Fl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),cl((function(){ql(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ql(e,t,null,null)},Yl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){ql(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,$e()),0===(6&Iu)&&(Bu=$e()+500,Bi()))}break;case 13:cl((function(){var t=Na(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=Na(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},_t=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Ne=cl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ce,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,b(e),!v)if(null!==r(l))v=!0,O(x);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,S=null,T=-1,C=5,I=-1;function N(){return!(t.unstable_now()-I<C)}function A(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?E():(_=!1,S=null)}}else _=!1}if("function"===typeof k)E=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){g(A,0)};function O(e){S=e,_||(_=!0,E())}function D(e,n){T=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.p="./",function(){var e=n(791),t=n(164);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=c;var h={};function d(){}function p(){}function v(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,o)&&(m=y);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,o,s,u){var l=f(e[a],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==r(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,u)}))}u(l.arg)}var a;this._invoke=function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return p.prototype=v,l(k,"constructor",v),l(v,"constructor",p),p.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),l(k,u,"Generator"),l(k,o,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function a(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n.p+"static/media/logo.0f99324454e3c3ccba98.png",f={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h=e.createContext&&e.createContext(f),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function v(t){return t&&t.map((function(t,n){return e.createElement(t.tag,d({key:n},t.attr),v(t.child))}))}function m(t){return function(n){return e.createElement(g,d({attr:d({},t.attr)},n),v(t.child))}}function g(t){var n=function(n){var r,i=t.attr,a=t.size,o=t.title,s=p(t,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:d(d({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==h?e.createElement(h.Consumer,null,(function(e){return n(e)})):n(f)}function y(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function k(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}}]})(e)}function b(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17.21 9l-4.38-6.56a.993.993 0 00-.83-.42c-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}}]})(e)}function w(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(e)}function x(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19.35 10.04A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 000 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}}]})(e)}function E(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29v8.05zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1zm15.03-7c0-8-15.03-8-15.03 0h15.03zM1.02 17h15v2h-15z"}}]})(e)}function _(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}}]})(e)}function S(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}}]})(e)}function T(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 3L4 9v12h16V9l-8-6zm.5 9.5c0 .83-.67 1.5-1.5 1.5v4h-1v-4c-.83 0-1.5-.67-1.5-1.5v-3h1v3h.5v-3h1v3h.5v-3h1v3zM15 18h-1v-3.5h-1v-3c0-1.1.9-2 2-2V18z"}}]})(e)}function C(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21v-2z"}}]})(e)}var I=n.p+"static/media/avatar.68cdc4513e601d28a382.png";function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=(0,e.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),O=(0,e.createContext)({});var D=(0,e.createContext)(null),L="undefined"!==typeof document,M=L?e.useLayoutEffect:e.useEffect,j=(0,e.createContext)({strict:!1});function U(t,n,r,i){var a=(0,e.useContext)(O).visualElement,o=(0,e.useContext)(j),s=(0,e.useContext)(D),u=(0,e.useContext)(P).reducedMotion,l=(0,e.useRef)(void 0);i=i||o.renderer,!l.current&&i&&(l.current=i(t,{visualState:n,parent:a,props:r,presenceId:s?s.id:void 0,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:u}));var c=l.current;return M((function(){c&&c.syncRender()})),(0,e.useEffect)((function(){c&&c.animationState&&c.animationState.animateChanges()})),M((function(){return function(){return c&&c.notifyUnmount()}}),[]),c}function V(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function F(e){return"string"===typeof e||Array.isArray(e)}function z(e){return"object"===typeof e&&"function"===typeof e.start}var B=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function H(e){return z(e.animate)||B.some((function(t){return F(e[t])}))}function q(e){return Boolean(H(e)||e.variants)}function W(t){var n=function(e,t){if(H(e)){var n=e.initial,r=e.animate;return{initial:!1===n||F(n)?n:void 0,animate:F(r)?r:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(O)),r=n.initial,i=n.animate;return(0,e.useMemo)((function(){return{initial:r,animate:i}}),[K(r),K(i)])}function K(e){return Array.isArray(e)?e.join(" "):e}var G=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},Q={measureLayout:G(["layout","layoutId","drag"]),animation:G(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:G(["exit"]),drag:G(["drag","dragControls"]),focus:G(["whileFocus"]),hover:G(["whileHover","onHoverStart","onHoverEnd"]),tap:G(["whileTap","onTap","onTapStart","onTapCancel"]),pan:G(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:G(["whileInView","onViewportEnter","onViewportLeave"])};function X(t){var n=(0,e.useRef)(null);return null===n.current&&(n.current=t()),n.current}var Y={hasAnimatedSinceResize:!0,hasEverUpdated:!1},$=1;var J=(0,e.createContext)({});function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oe(e)}function ue(e){var t=ae();return function(){var n,r=ie(e);if(t){var i=ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return se(this,n)}}var le=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.apply(this,arguments)}return te(n,[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.props,t=e.visualElement,n=e.props;return t&&t.setProps(n),null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(e.Component),ce=(0,e.createContext)({});function fe(t){var n=t.preloadedFeatures,r=t.createVisualElement,i=t.projectionNodeConstructor,a=t.useRender,o=t.useVisualState,s=t.Component;return n&&function(e){for(var t in e)"projectionNodeConstructor"===t?Q.projectionNodeConstructor=e[t]:Q[t].Component=e[t]}(n),(0,e.forwardRef)((function(t,u){var l=R(R(R({},(0,e.useContext)(P)),t),{},{layoutId:he(t)}),c=l.isStatic,f=null,h=W(t),d=c?void 0:X((function(){if(Y.hasEverUpdated)return $++})),p=o(t,c);if(!c&&L){h.visualElement=U(s,p,l,r);var v=(0,e.useContext)(j).strict,m=(0,e.useContext)(ce);h.visualElement&&(f=h.visualElement.loadFeatures(t,v,n,d,i||Q.projectionNodeConstructor,m))}return e.createElement(le,{visualElement:h.visualElement,props:l},f,e.createElement(O.Provider,{value:h},a(s,t,d,function(t,n,r){return(0,e.useCallback)((function(e){e&&t.mount&&t.mount(e),n&&(e?n.mount(e):n.unmount()),r&&("function"===typeof r?r(e):V(r)&&(r.current=e))}),[n])}(p,h.visualElement,u),p,c,h.visualElement)))}))}function he(t){var n=t.layoutId,r=(0,e.useContext)(J).id;return r&&void 0!==n?r+"-"+n:n}function de(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fe(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var pe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function ve(e){return"string"===typeof e&&!e.includes("-")&&!!(pe.indexOf(e)>-1||/[A-Z]/.test(e))}var me={};var ge=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","skew","skewX","skewY"],ye=new Set(ge);function ke(e,t){var n=t.layout,r=t.layoutId;return ye.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!me[e]||"opacity"===e)}var be=function(e){return void 0!==e&&!!e.getVelocity};function we(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var xe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ee=function(e,t){return ge.indexOf(e)-ge.indexOf(t)};function _e(e){return e.startsWith("--")}var Se=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Te=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Ce=function(e){return e%1?Number(e.toFixed(5)):e},Ie=/(-)?([\d]*\.?[\d])+/g,Ne=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ae=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Re(e){return"string"===typeof e}var Pe=function(e){return{test:function(t){return Re(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},Oe=Pe("deg"),De=Pe("%"),Le=Pe("px"),Me=Pe("vh"),je=Pe("vw"),Ue=Object.assign(Object.assign({},De),{parse:function(e){return De.parse(e)/100},transform:function(e){return De.transform(100*e)}}),Ve={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},Fe=Object.assign(Object.assign({},Ve),{transform:Te(0,1)}),ze=Object.assign(Object.assign({},Ve),{default:1}),Be=R(R({},Ve),{},{transform:Math.round}),He={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,size:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,rotate:Oe,rotateX:Oe,rotateY:Oe,rotateZ:Oe,scale:ze,scaleX:ze,scaleY:ze,scaleZ:ze,skew:Oe,skewX:Oe,skewY:Oe,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:Fe,originX:Ue,originY:Ue,originZ:Le,zIndex:Be,fillOpacity:Fe,strokeOpacity:Fe,numOctaves:Be};function qe(e,t,n,r){var i=e.style,a=e.vars,o=e.transform,s=e.transformKeys,u=e.transformOrigin;s.length=0;var l=!1,c=!1,f=!0;for(var h in t){var d=t[h];if(_e(h))a[h]=d;else{var p=He[h],v=Se(d,p);if(ye.has(h)){if(l=!0,o[h]=v,s.push(h),!f)continue;d!==(p.default||0)&&(f=!1)}else h.startsWith("origin")?(c=!0,u[h]=v):i[h]=v}}if(l||r?i.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,s=void 0===o||o,u=t.allowTransformNone,l=void 0===u||u,c="";a.sort(Ee);var f,h=we(a);try{for(h.s();!(f=h.n()).done;){var d=f.value;c+="".concat(xe[d]||d,"(").concat(i[d],") ")}}catch(p){h.e(p)}finally{h.f()}return s&&!i.z&&(c+="translateZ(0)"),c=c.trim(),r?c=r(i,n?"":c):l&&n&&(c="none"),c}(e,n,f,r):!t.transform&&i.transform&&(i.transform="none"),c){var m=u.originX,g=void 0===m?"50%":m,y=u.originY,k=void 0===y?"50%":y,b=u.originZ,w=void 0===b?0:b;i.transformOrigin="".concat(g," ").concat(k," ").concat(w)}}var We=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Ke(e,t,n){for(var r in t)be(t[r])||ke(r,n)||(e[r]=t[r])}function Ge(t,n,r){var i={};return Ke(i,t.style||{},t),Object.assign(i,function(t,n,r){var i=t.transformTemplate;return(0,e.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return qe(e,n,{enableHardwareAcceleration:!r},i),Object.assign({},e.vars,e.style)}),[n])}(t,n,r)),t.transformValues?t.transformValues(i):i}function Qe(e,t,n){var r={},i=Ge(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var Xe=new Set(["initial","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll"].concat(["whileInView","onViewportEnter","onViewportLeave","viewport"],["whileTap","onTap","onTapStart","onTapCancel"],["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],["onPan","onPanStart","onPanSessionStart","onPanEnd"]));function Ye(e){return Xe.has(e)}var $e,Je=function(e){return!Ye(e)};try{($e=require("@emotion/is-prop-valid").default)&&(Je=function(e){return e.startsWith("on")?!Ye(e):$e(e)})}catch(IE){}function Ze(e,t,n){var r={};for(var i in e)(Je(i)||!0===n&&Ye(i)||!t&&!Ye(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function et(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tt(e,t,n){return"string"===typeof e?e:Le.transform(t+n*e)}var nt={offset:"stroke-dashoffset",array:"stroke-dasharray"},rt={offset:"strokeDashoffset",array:"strokeDasharray"};var it=["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"];function at(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,s=t.originY,u=t.pathLength,l=t.pathSpacing,c=void 0===l?1:l,f=t.pathOffset,h=void 0===f?0:f;qe(e,et(t,it),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,v=e.dimensions;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(void 0!==o||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=tt(t,e.x,e.width),i=tt(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==o?o:.5,void 0!==s?s:.5)),void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==u&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?nt:rt;e[a.offset]=Le.transform(-r);var o=Le.transform(t),s=Le.transform(n);e[a.array]="".concat(o," ").concat(s)}(d,u,c,h,!1)}var ot=function(){return R(R({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{},{attrs:{}})};function st(t,n){var r=(0,e.useMemo)((function(){var e=ot();return at(e,n,{enableHardwareAcceleration:!1},t.transformTemplate),R(R({},e.attrs),{},{style:R({},e.style)})}),[n]);if(t.style){var i={};Ke(i,t.style,t),r.style=R(R({},i),r.style)}return r}function ut(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n,r,i,a,o,s){var u=o.latestValues,l=(ve(n)?st:Qe)(r,u,s),c=R(R(R({},Ze(r,"string"===typeof n,t)),l),{},{ref:a});return i&&(c["data-projection-id"]=i),(0,e.createElement)(n,c)};return n}var lt=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};function ct(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var ft=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function ht(e,t,n,r){for(var i in ct(e,t,void 0,r),t.attrs)e.setAttribute(ft.has(i)?i:lt(i),t.attrs[i])}function dt(e){var t=e.style,n={};for(var r in t)(be(t[r])||ke(r,e))&&(n[r]=t[r]);return n}function pt(e){var t=dt(e);for(var n in e){if(be(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function vt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var mt=function(e){return Array.isArray(e)},gt=function(e){return mt(e)?e[e.length-1]||0:e};function yt(e){var t=be(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var kt=["transitionEnd","transition"];var bt=function(t){return function(n,r){var i=(0,e.useContext)(O),a=(0,e.useContext)(D),o=function(){return function(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:wt(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}(t,n,i,a)};return r?o():X(o)}};function wt(e,t,n,r){var i={},a=r(e);for(var o in a)i[o]=yt(a[o]);var s=e.initial,u=e.animate,l=H(e),c=q(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===u&&(u=t.animate));var f=!!n&&!1===n.initial,h=(f=f||!1===s)?u:s;h&&"boolean"!==typeof h&&!z(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=vt(e,t);if(n){var r=n.transitionEnd,a=(n.transition,et(n,kt));for(var o in a){var s=a[o];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(i[o]=s)}for(var u in r)i[u]=r[u]}}));return i}var xt,Et={useVisualState:bt({scrapeMotionValuesFromProps:pt,createRenderState:ot,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}at(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),ht(t,r)}})},_t={useVisualState:bt({scrapeMotionValuesFromProps:dt,createRenderState:We})};function St(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function Tt(t,n,r,i){(0,e.useEffect)((function(){var e=t.current;if(r&&e)return St(e,n,r,i)}),[t,n,r,i])}function Ct(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function It(e){return!!e.touches}function Nt(e){return function(t){var n=t instanceof MouseEvent;(!n||n&&0===t.button)&&e(t)}}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(xt||(xt={}));var At={pageX:0,pageY:0};function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=e.touches[0]||e.changedTouches[0],r=n||At;return{x:r[t+"X"],y:r[t+"Y"]}}function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{x:e[t+"X"],y:e[t+"Y"]}}function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:It(e)?Rt(e,t):Pt(e,t)}}var Dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(t){return e(t,Ot(t))};return t?Nt(n):n},Lt={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Mt={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function jt(e){return L&&null===window.onpointerdown?e:L&&null===window.ontouchstart?Mt[e]:L&&null===window.onmousedown?Lt[e]:e}function Ut(e,t,n,r){return St(e,jt(t),Dt(n,"pointerdown"===t),r)}function Vt(e,t,n,r){return Tt(e,jt(t),n&&Dt(n,"pointerdown"===t),r)}function Ft(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var zt=Ft("dragHorizontal"),Bt=Ft("dragVertical");function Ht(e){var t=!1;if("y"===e)t=Bt();else if("x"===e)t=zt();else{var n=zt(),r=Bt();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function qt(){var e=Ht(!0);return!e||(e(),!1)}function Wt(e,t,n){return function(r,i){Ct(r)&&!qt()&&(e.animationState&&e.animationState.setActive(xt.Hover,t),n&&n(r,i))}}var Kt=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function Gt(t){return(0,e.useEffect)((function(){return function(){return t()}}),[])}var Qt=function(e,t){return function(n){return t(e(n))}},Xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Qt)};var Yt=new Set;function $t(e,t,n){e||Yt.has(t)||(console.warn(t),n&&console.warn(n),Yt.add(t))}var Jt=["root"],Zt=new WeakMap,en=new WeakMap,tn=function(e){var t=Zt.get(e.target);t&&t(e)},nn=function(e){e.forEach(tn)};function rn(e,t,n){var r=function(e){var t=e.root,n=et(e,Jt),r=t||document;en.has(r)||en.set(r,{});var i=en.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(nn,R({root:t},n))),i[a]}(t);return Zt.set(e,n),r.observe(e),function(){Zt.delete(e),r.unobserve(e)}}var an={some:0,all:1};function on(t,n,r,i){var a=i.root,o=i.margin,s=i.amount,u=void 0===s?"some":s,l=i.once;(0,e.useEffect)((function(){if(t){var e={root:null===a||void 0===a?void 0:a.current,rootMargin:o,threshold:"number"===typeof u?u:an[u]};return rn(r.getInstance(),e,(function(e){var t=e.isIntersecting;if(n.isInView!==t&&(n.isInView=t,!l||t||!n.hasEnteredView)){t&&(n.hasEnteredView=!0),r.animationState&&r.animationState.setActive(xt.InView,t);var i=r.getProps(),a=t?i.onViewportEnter:i.onViewportLeave;a&&a(e)}}))}}),[t,a,o,u])}function sn(t,n,r,i){var a=i.fallback,o=void 0===a||a;(0,e.useEffect)((function(){t&&o&&requestAnimationFrame((function(){n.hasEnteredView=!0;var e=r.getProps().onViewportEnter;e&&e(null),r.animationState&&r.animationState.setActive(xt.InView,!0)}))}),[t])}var un=function(e){return function(t){return e(t),null}},ln={inView:un((function(t){var n=t.visualElement,r=t.whileInView,i=t.onViewportEnter,a=t.onViewportLeave,o=t.viewport,s=void 0===o?{}:o,u=(0,e.useRef)({hasEnteredView:!1,isInView:!1}),l=Boolean(r||i||a);s.once&&u.current.hasEnteredView&&(l=!1),("undefined"===typeof IntersectionObserver?sn:on)(l,u.current,n,s)})),tap:un((function(t){var n=t.onTap,r=t.onTapStart,i=t.onTapCancel,a=t.whileTap,o=t.visualElement,s=n||r||i||a,u=(0,e.useRef)(!1),l=(0,e.useRef)(null),c={passive:!(r||n||i||v)};function f(){l.current&&l.current(),l.current=null}function h(){return f(),u.current=!1,o.animationState&&o.animationState.setActive(xt.Tap,!1),!qt()}function d(e,t){h()&&(Kt(o.getInstance(),e.target)?n&&n(e,t):i&&i(e,t))}function p(e,t){h()&&i&&i(e,t)}function v(e,t){f(),u.current||(u.current=!0,l.current=Xt(Ut(window,"pointerup",d,c),Ut(window,"pointercancel",p,c)),o.animationState&&o.animationState.setActive(xt.Tap,!0),r&&r(e,t))}Vt(o,"pointerdown",s?v:void 0,c),Gt(f)})),focus:un((function(e){var t=e.whileFocus,n=e.visualElement,r=n.animationState;Tt(n,"focus",t?function(){r&&r.setActive(xt.Focus,!0)}:void 0),Tt(n,"blur",t?function(){r&&r.setActive(xt.Focus,!1)}:void 0)})),hover:un((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;Vt(i,"pointerenter",t||r?Wt(i,!0,t):void 0,{passive:!t}),Vt(i,"pointerleave",n||r?Wt(i,!1,n):void 0,{passive:!n})}))};function cn(){var t=(0,e.useContext)(D);if(null===t)return[!0,null];var n=t.isPresent,r=t.onExitComplete,i=t.register,a=(0,e.useId)();(0,e.useEffect)((function(){return i(a)}),[]);return!n&&r?[!1,function(){return r&&r(a)}]:[!0]}function fn(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function dn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var pn=function(e,t,n){return Math.min(Math.max(n,e),t)},vn=.001;function mn(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,l=e.mass,c=void 0===l?1:l,f=1-o;f=pn(.05,1,f),i=pn(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=gn(e,f),o=Math.exp(-n);return vn-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=gn(Math.pow(e,2),f);return(-t(e)+vn>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*c;return{stiffness:d,damping:2*f*Math.sqrt(c*d),duration:i}}function gn(e,t){return e*Math.sqrt(1-t*t)}var yn=["duration","bounce"],kn=["stiffness","damping","mass"];function bn(e,t){return t.some((function(t){return void 0!==e[t]}))}function wn(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,s=e.restDelta,u=dn(e,["from","to","restSpeed","restDelta"]),l={done:!1,value:n},c=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!bn(e,kn)&&bn(e,yn)){var n=mn(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=c.stiffness,h=c.damping,d=c.mass,p=c.velocity,v=c.duration,m=c.isResolvedFromDuration,g=xn,y=xn;function k(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(void 0===s&&(s=Math.min(Math.abs(i-n)/100,.4)),r<1){var o=gn(a,r);g=function(n){var s=Math.exp(-r*a*n);return i-s*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},y=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)g=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var u=a*Math.sqrt(r*r-1);g=function(n){var o=Math.exp(-r*a*n),s=Math.min(u*n,300);return i-o*((e+r*a*t)*Math.sinh(s)+u*t*Math.cosh(s))/u}}}return k(),{next:function(e){var t=g(e);if(m)l.done=e>=v;else{var n=1e3*y(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=s;l.done=r&&a}return l.value=l.done?i:t,l},flipTarget:function(){p=-p;var e=[i,n];n=e[0],i=e[1],k()}}}wn.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var xn=function(e){return 0},En=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},_n=function(e,t,n){return-n*e+n*t+e},Sn=function(e,t){return function(n){return Boolean(Re(n)&&Ae.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},Tn=function(e,t,n){return function(r){var i;if(!Re(r))return r;var a=l(r.match(Ie),4),o=a[0],s=a[1],u=a[2],c=a[3];return N(i={},e,parseFloat(o)),N(i,t,parseFloat(s)),N(i,n,parseFloat(u)),N(i,"alpha",void 0!==c?parseFloat(c):1),i}},Cn=Te(0,255),In=Object.assign(Object.assign({},Ve),{transform:function(e){return Math.round(Cn(e))}}),Nn={test:Sn("rgb","red"),parse:Tn("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+In.transform(t)+", "+In.transform(n)+", "+In.transform(r)+", "+Ce(Fe.transform(a))+")"}};var An={test:Sn("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Nn.transform},Rn={test:Sn("hsl","hue"),parse:Tn("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+De.transform(Ce(n))+", "+De.transform(Ce(r))+", "+Ce(Fe.transform(a))+")"}};function Pn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function On(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,l=2*r-u;a=Pn(l,u,t+1/3),o=Pn(l,u,t),s=Pn(l,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}var Dn=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},Ln=[An,Nn,Rn],Mn=function(e){return Ln.find((function(t){return t.test(e)}))},jn=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},Un=function(e,t){var n=Mn(e),r=Mn(t);jn(e),jn(t);var i=n.parse(e),a=r.parse(t);n===Rn&&(i=On(i),n=Nn),r===Rn&&(a=On(a),r=Nn);var o=Object.assign({},i);return function(e){for(var t in o)"alpha"!==t&&(o[t]=Dn(i[t],a[t],e));return o.alpha=_n(i.alpha,a.alpha,e),n.transform(o)}},Vn={test:function(e){return Nn.test(e)||An.test(e)||Rn.test(e)},parse:function(e){return Nn.test(e)?Nn.parse(e):Rn.test(e)?Rn.parse(e):An.parse(e)},transform:function(e){return Re(e)?e:e.hasOwnProperty("red")?Nn.transform(e):Rn.transform(e)}},Fn="${c}",zn="${n}";function Bn(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(Ne);r&&(n=r.length,e=e.replace(Ne,Fn),t.push.apply(t,fn(r.map(Vn.parse))));var i=e.match(Ie);return i&&(e=e.replace(Ie,zn),t.push.apply(t,fn(i.map(Ve.parse)))),{values:t,numColors:n,tokenised:e}}function Hn(e){return Bn(e).values}function qn(e){var t=Bn(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?Fn:zn,n<r?Vn.transform(e[n]):Ce(e[n]));return t}}var Wn=function(e){return"number"===typeof e?0:e};var Kn={test:function(e){var t,n,r,i;return isNaN(e)&&Re(e)&&(null!==(n=null===(t=e.match(Ie))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Ne))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:Hn,createTransformer:qn,getAnimatableNone:function(e){var t=Hn(e);return qn(e)(t.map(Wn))}},Gn=function(e){return"number"===typeof e};function Qn(e,t){return Gn(e)?function(n){return _n(e,t,n)}:Vn.test(e)?Un(e,t):Jn(e,t)}var Xn=function(e,t){var n=fn(e),r=n.length,i=e.map((function(e,n){return Qn(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},Yn=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Qn(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function $n(e){for(var t=Kn.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var Jn=function(e,t){var n=Kn.createTransformer(t),r=$n(e),i=$n(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?Xt(Xn(r.parsed,i.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},Zn=function(e,t){return function(n){return _n(e,t,n)}};function er(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?Zn:"string"===typeof e?Vn.test(e)?Un:Jn:Array.isArray(e)?Xn:"object"===typeof e?Yn:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]:t;s=Xt(u,s)}r.push(s)}return r}function tr(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,1)[0];return function(e){return a(En(r,i,e))}}function nr(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var s=1;s<n&&!(e[s]>i||s===r);s++);a=s-1}var u=En(e[a],e[a+1],i);return t[a](u)}}function rr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=er(t,a,o),l=2===s?tr(e,u):nr(e,u);return i?function(t){return l(pn(e[0],e[s-1],t))}:l}var ir,ar=function(e){return function(t){return 1-e(1-t)}},or=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},sr=function(e){return function(t){return t*t*((e+1)*t-e)}},ur=function(e){return e},lr=(ir=2,function(e){return Math.pow(e,ir)}),cr=ar(lr),fr=or(lr),hr=function(e){return 1-Math.sin(Math.acos(e))},dr=ar(hr),pr=or(dr),vr=sr(1.525),mr=ar(vr),gr=or(vr),yr=function(e){var t=sr(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),kr=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},br=ar(kr);function wr(e,t){return e.map((function(){return t||fr})).splice(0,e.length-1)}function xr(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,s=e.duration,u=void 0===s?300:s,l={done:!1,value:n},c=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===c.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(c),u);function h(){return rr(f,c,{ease:Array.isArray(a)?a:wr(c,a)})}var d=h();return{next:function(e){return l.value=d(e),l.done=e>=u,l},flipTarget:function(){c.reverse(),d=h()}}}var Er={keyframes:xr,spring:wn,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,u=void 0===s?350:s,l=e.restDelta,c=void 0===l?.5:l,f=e.modifyTarget,h={done:!1,value:i},d=o*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/u);return h.done=!(t>c||t<-c),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};var _r=1/60*1e3,Sr="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},Tr="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Sr())}),_r)};var Cr=!0,Ir=!1,Nr=!1,Ar={delta:0,timestamp:0},Rr=["read","update","preRender","render","postRender"],Pr=Rr.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var l=[n,t];if(t=l[0],(n=l[1]).length=0,r=t.length)for(var c=0;c<r;c++){var f=t[c];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return Ir=!0})),e}),{}),Or=Rr.reduce((function(e,t){var n=Pr[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ir||Ur(),n.schedule(e,t,r)},e}),{}),Dr=Rr.reduce((function(e,t){return e[t]=Pr[t].cancel,e}),{}),Lr=Rr.reduce((function(e,t){return e[t]=function(){return Pr[t].process(Ar)},e}),{}),Mr=function(e){return Pr[e].process(Ar)},jr=function e(t){Ir=!1,Ar.delta=Cr?_r:Math.max(Math.min(t-Ar.timestamp,40),1),Ar.timestamp=t,Nr=!0,Rr.forEach(Mr),Nr=!1,Ir&&(Cr=!1,Tr(e))},Ur=function(){Ir=!0,Cr=!0,Nr||Tr(jr)},Vr=function(){return Ar},Fr=Or;function zr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var Br=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return Fr.update(t,!0)},stop:function(){return Dr.update(t)}}};function Hr(e){var t,n,r,i,a,o=e.from,s=e.autoplay,u=void 0===s||s,l=e.driver,c=void 0===l?Br:l,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,m=void 0===v?"loop":v,g=e.repeatDelay,y=void 0===g?0:g,k=e.onPlay,b=e.onStop,w=e.onComplete,x=e.onRepeat,E=e.onUpdate,_=dn(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),S=_.to,T=0,C=_.duration,I=!1,N=!0,A=function(e){if(Array.isArray(e.to))return xr;if(Er[e.type])return Er[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?xr:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?wn:xr}(_);(null===(n=(t=A).needsInterpolation)||void 0===n?void 0:n.call(t,o,S))&&(a=rr([0,100],[o,S],{clamp:!1}),o=0,S=100);var R=A(Object.assign(Object.assign({},_),{from:o,to:S}));function P(){T++,"reverse"===m?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:zr(t+-e,t,n)}(h,C,y,N=T%2===0):(h=zr(h,C,y),"mirror"===m&&R.flipTarget()),I=!1,x&&x()}function O(e){if(N||(e=-e),h+=e,!I){var t=R.next(Math.max(0,h));i=t.value,a&&(i=a(i)),I=N?t.done:h<=0}null===E||void 0===E||E(i),I&&(0===T&&(null!==C&&void 0!==C||(C=h)),T<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,C,y,N)&&P():(r.stop(),w&&w()))}return u&&(null===k||void 0===k||k(),(r=c(O)).start()),{stop:function(){null===b||void 0===b||b(),r.stop()}}}function qr(e,t){return t?e*(1e3/t):0}var Wr=function(e){return 1e3*e},Kr=function(e,t){return 1-3*t+3*e},Gr=function(e,t){return 3*t-6*e},Qr=function(e){return 3*e},Xr=function(e,t,n){return((Kr(t,n)*e+Gr(t,n))*e+Qr(t))*e},Yr=function(e,t,n){return 3*Kr(t,n)*e*e+2*Gr(t,n)*e+Qr(t)};var $r=.1;function Jr(e,t,n,r){if(e===t&&n===r)return ur;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=Xr(a*$r,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=$r;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*$r,s=Yr(o,e,n);return s>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var a=Yr(t,n,r);if(0===a)return t;t-=(Xr(t,n,r)-e)/a}return t}(t,o,e,n):0===s?o:function(e,t,n,r,i){var a,o,s=0;do{(a=Xr(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,r,r+$r,e,n)}return function(e){return 0===e||1===e?e:Xr(o(e),t,r)}}var Zr={linear:ur,easeIn:lr,easeInOut:fr,easeOut:cr,circIn:hr,circInOut:pr,circOut:dr,backIn:vr,backInOut:gr,backOut:mr,anticipate:yr,bounceIn:br,bounceInOut:function(e){return e<.5?.5*(1-kr(1-2*e)):.5*kr(2*e-1)+.5},bounceOut:kr},ei=function(e){if(Array.isArray(e)){e.length;var t=l(e,4);return Jr(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),Zr[e]):e},ti=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Kn.test(t)||t.startsWith("url(")))},ni=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},ri=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},ii=function(){return{type:"keyframes",ease:"linear",duration:.3}},ai=function(e){return{type:"keyframes",duration:.8,values:e}},oi={x:ni,y:ni,z:ni,rotate:ni,rotateX:ni,rotateY:ni,rotateZ:ni,scaleX:ri,scaleY:ri,scale:ri,opacity:ii,backgroundColor:ii,color:ii,default:ri},si=new Set(["brightness","contrast","saturate","opacity"]);function ui(e){var t=l(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=l(r.match(Ie)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=si.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var li=/([a-z-]*)\(.*?\)/g,ci=Object.assign(Object.assign({},Kn),{getAnimatableNone:function(e){var t=e.match(li);return t?t.map(ui).join(" "):e}}),fi=R(R({},He),{},{color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:ci,WebkitFilter:ci}),hi=function(e){return fi[e]};function di(e,t){var n,r=hi(e);return r!==ci&&(r=Kn),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var pi=!1,vi=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"],mi=["ease","times","yoyo","flip","loop"];function gi(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=et(e,mi),s=R({},o);return n&&(s.offset=n),o.duration&&(s.duration=Wr(o.duration)),o.repeatDelay&&(s.repeatDelay=Wr(o.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(ei):ei(t)),"tween"===o.type&&(s.type="keyframes"),(r||a||i)&&(!0,r?s.repeatType="reverse":a?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=a||r||i||o.repeat),"spring"!==o.type&&(s.type="keyframes"),s}function yi(e,t){var n,r;return null!==(r=null!==(n=(Ei(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}function ki(e,t,n){return Array.isArray(t.to)&&void 0===e.duration&&(e.duration=.8),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=fn(e.to),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=et(e,vi);return!!Object.keys(t).length}(e)||(e=R(R({},e),function(e,t){return R({to:t},(mt(t)?ai:oi[e]||oi.default)(t))}(n,t.to))),R(R({},t),gi(e))}function bi(e,t,n,r,i){var a=Ei(r,e)||{},o=void 0!==a.from?a.from:t.get(),s=ti(e,n);"none"===o&&s&&"string"===typeof n?o=di(e,n):wi(o)&&"string"===typeof n?o=xi(n):!Array.isArray(n)&&wi(n)&&"string"===typeof o&&(n=xi(o));var u=ti(e,o);return"You are trying to animate ".concat(e,' from "').concat(o,'" to "').concat(n,'". ').concat(o," is not an animatable value - to enable this animation set ").concat(o," to a value animatable to ").concat(n," via the `style` property."),u&&s&&!1!==a.type?function(){var r={from:o,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,s=e.max,u=e.power,l=void 0===u?.8:u,c=e.timeConstant,f=void 0===c?750:c,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,g=void 0===m?1:m,y=e.modifyTarget,k=e.driver,b=e.onUpdate,w=e.onComplete,x=e.onStop;function E(e){return void 0!==o&&e<o||void 0!==s&&e>s}function _(e){return void 0===o?s:void 0===s||Math.abs(o-e)<Math.abs(s-e)?o:s}function S(e){null===t||void 0===t||t.stop(),t=Hr(Object.assign(Object.assign({},e),{driver:k,onUpdate:function(t){var n;null===b||void 0===b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:x}))}function T(e){S(Object.assign({type:"spring",stiffness:d,damping:v,restDelta:g},e))}if(E(r))T({from:r,velocity:a,to:_(r)});else{var C=l*a+r;"undefined"!==typeof y&&(C=y(C));var I,N,A=_(C),R=A===o?-1:1;S({type:"decay",from:r,velocity:a,timeConstant:f,power:l,restDelta:g,modifyTarget:y,onUpdate:E(C)?function(e){I=N,N=e,a=qr(e-I,Vr().delta),(1===R&&e>A||-1===R&&e<A)&&T({from:e,to:A,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(R(R({},r),a)):Hr(R(R({},ki(a,r,e)),{},{onUpdate:function(e){r.onUpdate(e),a.onUpdate&&a.onUpdate(e)},onComplete:function(){r.onComplete(),a.onComplete&&a.onComplete()}}))}:function(){var e=gt(n);return t.set(e),i(),a.onUpdate&&a.onUpdate(e),a.onComplete&&a.onComplete(),{stop:function(){}}}}function wi(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function xi(e){return"number"===typeof e?0:di("",e)}function Ei(e,t){return e[t]||e.default||e}function _i(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return pi&&(r={type:!1}),t.start((function(i){var a,o,s=bi(e,t,n,r,i),u=yi(r,e),l=function(){return o=s()};return u?a=window.setTimeout(l,Wr(u)):l(),function(){clearTimeout(a),o&&o.stop()}}))}var Si=function(e){return/^\-?\d*\.?\d+$/.test(e)},Ti=function(e){return/^0[^.\s]+$/.test(e)};function Ci(e,t){-1===e.indexOf(t)&&e.push(t)}function Ii(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Ni=function(){function e(){Z(this,e),this.subscriptions=[]}return te(e,[{key:"add",value:function(e){var t=this;return Ci(this.subscriptions,e),function(){return Ii(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),Ai=function(){function e(t){var n,r=this;Z(this,e),this.version="7.2.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Ni,this.velocityUpdateSubscribers=new Ni,this.renderSubscribers=new Ni,this.canTrackVelocity=!1,this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=Vr(),i=n.delta,a=n.timestamp;r.lastUpdated!==a&&(r.timeDelta=i,r.lastUpdated=a,Fr.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),t&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return Fr.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n)))}return te(e,[{key:"onChange",value:function(e){return this.updateSubscribers.add(e)}},{key:"clearListeners",value:function(){this.updateSubscribers.clear()}},{key:"onRenderRequest",value:function(e){return e(this.get()),this.renderSubscribers.add(e)}},{key:"attach",value:function(e){this.passiveEffect=e}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?qr(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))}},{key:"stop",value:function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.stopAnimation}},{key:"clearAnimation",value:function(){this.stopAnimation=null}},{key:"destroy",value:function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}]),e}();function Ri(e){return new Ai(e)}var Pi=function(e){return function(t){return t.test(e)}},Oi=[Ve,Le,De,Oe,je,Me,{test:function(e){return"auto"===e},parse:function(e){return e}}],Di=function(e){return Oi.find(Pi(e))},Li=[].concat(fn(Oi),[Vn,Kn]),Mi=function(e){return Li.find(Pi(e))};function ji(e,t,n){var r=e.getProps();return vt(r,t,void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}var Ui=["transitionEnd","transition"];function Vi(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ri(n))}function Fi(e,t){var n=ji(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,et(r,Ui));for(var s in o=R(R({},o),a)){Vi(e,s,gt(o[s]))}}function zi(e,t,n){var r,i,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),o=a.length;if(o)for(var s=0;s<o;s++){var u=a[s],l=t[u],c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(i=null!==(r=n[u])&&void 0!==r?r:e.readValue(u))&&void 0!==i?i:t[u]),void 0!==c&&null!==c&&("string"===typeof c&&(Si(c)||Ti(c))?c=parseFloat(c):!Mi(c)&&Kn.test(l)&&(c=di(u,l)),e.addValue(u,Ri(c)),void 0===n[u]&&(n[u]=c),e.setBaseTarget(u,c))}}function Bi(e,t){if(t)return(t[e]||t.default||t).from}function Hi(e,t,n){var r,i={};for(var a in e){var o=Bi(a,t);i[a]=void 0!==o?o:null===(r=n.getValue(a))||void 0===r?void 0:r.get()}return i}function qi(e){return Boolean(be(e)&&e.add)}var Wi=["transition","transitionEnd"];function Ki(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=ji(e,t,r.custom),a=i||{},o=a.transition,s=void 0===o?e.getDefaultTransition()||{}:o;r.transitionOverride&&(s=r.transitionOverride);var u=i?function(){return Gi(e,i,r)}:function(){return Promise.resolve()},c=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=s,a=i.delayChildren,o=void 0===a?0:a,u=i.staggerChildren,l=i.staggerDirection;return Qi(e,t,o+n,u,l,r)}:function(){return Promise.resolve()},f=s,h=f.when;if(h){var d="beforeChildren"===h?[u,c]:[c,u],p=l(d,2),v=p[0],m=p[1];return v().then(m)}return Promise.all([u(),c(r.delay)])}function Gi(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,a=void 0===i?0:i,o=r.transitionOverride,s=r.type,u=e.makeTargetAnimatable(t),l=u.transition,c=void 0===l?e.getDefaultTransition():l,f=u.transitionEnd,h=et(u,Wi),d=e.getValue("willChange");o&&(c=o);var p=[],v=s&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[s]),m=function(t){var n=e.getValue(t),r=h[t];if(!n||void 0===r||v&&Yi(v,t))return"continue";var i=R({delay:a},c);e.shouldReduceMotion&&ye.has(t)&&(i=R(R({},i),{},{type:!1,delay:0}));var o=_i(t,n,r,i);qi(d)&&(d.add(t),o=o.then((function(){return d.remove(t)}))),p.push(o)};for(var g in h)m(g);return Promise.all(p).then((function(){f&&Fi(e,f)}))}function Qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return s-e*r};return Array.from(e.variantChildren).sort(Xi).forEach((function(e,r){o.push(Ki(e,t,R(R({},a),{},{delay:n+u(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}function Xi(e,t){return e.sortNodePosition(t)}function Yi(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var $i=["transition","transitionEnd"],Ji=[xt.Animate,xt.InView,xt.Focus,xt.Hover,xt.Tap,xt.Drag,xt.Exit],Zi=[].concat(Ji).reverse(),ea=Ji.length;function ta(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return Ki(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=Ki(e,t,r);else{var a="function"===typeof t?ji(e,t,r.custom):t;n=Gi(e,a,r)}return n.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function na(e){var t=ta(e),n=function(){var e;return N(e={},xt.Animate,ra(!0)),N(e,xt.InView,ra()),N(e,xt.Hover,ra()),N(e,xt.Tap,ra()),N(e,xt.Drag,ra()),N(e,xt.Focus,ra()),N(e,xt.Exit,ra()),e}(),r=!0,i=function(t,n){var r=ji(e,n);if(r){r.transition;var i=r.transitionEnd,a=et(r,$i);t=R(R(R({},t),a),i)}return t};function a(a,o){for(var s,u=e.getProps(),l=e.getVariantContext(!0)||{},c=[],f=new Set,h={},d=1/0,p=function(t){var p=Zi[t],v=n[p],m=null!==(s=u[p])&&void 0!==s?s:l[p],g=F(m),y=p===o?v.isActive:null;!1===y&&(d=t);var k=m===l[p]&&m!==u[p]&&g;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys=R({},h),!v.isActive&&null===y||!m&&!v.prevProp||z(m)||"boolean"===typeof m)return"continue";var b=function(e,t){if("string"===typeof t)return t!==e;if(Array.isArray(t))return!hn(t,e);return!1}(v.prevProp,m),w=b||p===o&&v.isActive&&!k&&g||t>d&&g,x=Array.isArray(m)?m:[m],E=x.reduce(i,{});!1===y&&(E={});var _=v.prevResolvedValues,S=void 0===_?{}:_,T=R(R({},S),E),C=function(e){w=!0,f.delete(e),v.needsAnimating[e]=!0};for(var I in T){var N=E[I],A=S[I];h.hasOwnProperty(I)||(N!==A?mt(N)&&mt(A)?!hn(N,A)||b?C(I):v.protectedKeys[I]=!0:void 0!==N?C(I):f.add(I):void 0!==N&&f.has(I)?C(I):v.protectedKeys[I]=!0)}v.prevProp=m,v.prevResolvedValues=E,v.isActive&&(h=R(R({},h),E)),r&&e.blockInitialAnimation&&(w=!1),w&&!k&&c.push.apply(c,fn(x.map((function(e){return{animation:e,options:R({type:p},a)}}))))},v=0;v<ea;v++)p(v);if(f.size){var m={};f.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(m[t]=n)})),c.push({animation:m})}var g=Boolean(c.length);return r&&!1===u.initial&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function ra(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var ia={animation:un((function(t){var n=t.visualElement,r=t.animate;n.animationState||(n.animationState=na(n)),z(r)&&(0,e.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:un((function(t){var n=t.custom,r=t.visualElement,i=l(cn(),2),a=i[0],o=i[1],s=(0,e.useContext)(D);(0,e.useEffect)((function(){r.isPresent=a;var e=r.animationState&&r.animationState.setActive(xt.Exit,!a,{custom:s&&s.custom||n});e&&!a&&e.then(o)}),[a])}))},aa=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},oa=function(e){return aa(e)&&e.hasOwnProperty("z")},sa=function(e,t){return Math.abs(e-t)};function ua(e,t){if(Gn(e)&&Gn(t))return sa(e,t);if(aa(e)&&aa(t)){var n=sa(e.x,t.x),r=sa(e.y,t.y),i=oa(e)&&oa(t)?sa(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var la=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.transformPagePoint;if(Z(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=ha(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=ua(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=Vr().timestamp;r.history.push(R(R({},i),{},{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=ca(t,r.transformPagePoint),Ct(e)&&0===e.buttons?r.handlePointerUp(e,t):Fr.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=ha(ca(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(It(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=a;var o=Ot(t),s=ca(o,this.transformPagePoint),u=s.point,l=Vr(),c=l.timestamp;this.history=[R(R({},u),{},{timestamp:c})];var f=n.onSessionStart;f&&f(t,ha(s,this.history)),this.removeListeners=Xt(Ut(window,"pointermove",this.handlePointerMove),Ut(window,"pointerup",this.handlePointerUp),Ut(window,"pointercancel",this.handlePointerUp))}}return te(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),Dr.update(this.updatePoint)}}]),e}();function ca(e,t){return t?{point:t(e.point)}:e}function fa(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ha(e,t){var n=e.point;return{point:n,delta:fa(n,pa(t)),offset:fa(n,da(t)),velocity:va(t,.1)}}function da(e){return e[0]}function pa(e){return e[e.length-1]}function va(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=pa(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Wr(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ma(e){return e.max-e.min}function ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return ua(e,t)<n}function ya(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=_n(t.min,t.max,e.origin),e.scale=ma(n)/ma(t),(ga(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=_n(n.min,n.max,e.origin)-e.originPoint,(ga(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ka(e,t,n,r){ya(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),ya(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function ba(e,t,n){e.min=n.min+t.min,e.max=e.min+ma(t)}function wa(e,t,n){e.min=t.min-n.min,e.max=e.min+ma(t)}function xa(e,t,n){wa(e.x,t.x,n.x),wa(e.y,t.y,n.y)}function Ea(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function _a(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var Sa=.35;function Ta(e,t,n){return{min:Ca(e,t),max:Ca(e,n)}}function Ca(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function Ia(e){return[e("x"),e("y")]}function Na(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Aa(e){return void 0===e||1===e}function Ra(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Aa(t)||!Aa(n)||!Aa(r)}function Pa(e){return Ra(e)||Oa(e.x)||Oa(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function Oa(e){return e&&"0%"!==e}function Da(e,t,n){return n+t*(e-n)}function La(e,t,n,r,i){return void 0!==i&&(e=Da(e,i,r)),Da(e,n,r)+t}function Ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=La(e.min,t,n,r,i),e.max=La(e.max,t,n,r,i)}function ja(e,t){var n=t.x,r=t.y;Ma(e.x,n.translate,n.scale,n.originPoint),Ma(e.y,r.translate,r.scale,r.originPoint)}function Ua(e,t){e.min=e.min+t,e.max=e.max+t}function Va(e,t,n){var r=l(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=_n(e.min,e.max,s);Ma(e,t[i],t[a],u,t.scale)}var Fa=["x","scaleX","originX"],za=["y","scaleY","originY"];function Ba(e,t){Va(e.x,t,Fa),Va(e.y,t,za)}function Ha(e,t){return Na(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var qa=new WeakMap,Wa=function(){function e(t){Z(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}return te(e,[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){var a=function(e){t.stopAnimation(),i&&t.snapToCursor(Ot(e,"page").point)},o=function(e,n){var r,i=t.getProps(),a=i.drag,o=i.dragPropagation,s=i.onDragStart;(!a||o||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=Ht(a),t.openGlobalLock))&&(t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),Ia((function(e){var n,r,i=t.getAxisMotionValue(e).get()||0;if(De.test(i)){var a=null===(r=null===(n=t.visualElement.projection)||void 0===n?void 0:n.layout)||void 0===r?void 0:r.actual[e];if(a)i=ma(a)*(parseFloat(i)/100)}t.originPoint[e]=i})),null===s||void 0===s||s(e,n),null===(r=t.visualElement.animationState)||void 0===r||r.setActive(xt.Drag,!0))},s=function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||t.openGlobalLock){var u=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=Ga(u),void(null!==t.currentDirection&&(null===o||void 0===o||o(t.currentDirection)));t.updateAxis("x",n.point,u),t.updateAxis("y",n.point,u),t.visualElement.syncRender(),null===s||void 0===s||s(e,n)}},u=function(e,n){return t.stop(e,n)};this.panSession=new la(e,{onSessionStart:a,onStart:o,onMove:s,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}}},{key:"cancel",value:function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(xt.Drag,!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&Ka(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?_n(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?_n(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&V(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:Ea(e.x,r,a),y:Ea(e.y,n,i)}}(i.actual,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa;return!1===e?e=0:!0===e&&(e=Sa),{x:Ta(e,"left","right"),y:Ta(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ia((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!V(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=Ha(e,n),i=t.scroll;return i&&(Ua(r.x,i.x),Ua(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:_a(e.x,t.x),y:_a(e.y,t.y)}}(i.layout.actual,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=Na(s))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,l=this.constraints||{},c=Ia((function(n){var u;if(Ka(n,r,t.currentDirection)){var c=null!==(u=null===l||void 0===l?void 0:l[n])&&void 0!==u?u:{};s&&(c={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=R(R({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),c);return t.startAxisValueAnimation(n,d)}}));return Promise.all(c).then(u)}},{key:"startAxisValueAnimation",value:function(e,t){return _i(e,this.getAxisMotionValue(e),0,t)}},{key:"stopAnimation",value:function(){var e=this;Ia((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)}},{key:"snapToCursor",value:function(e){var t=this;Ia((function(n){if(Ka(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],o=a.min,s=a.max;i.set(e[n]-_n(o,s,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(V(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};Ia((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=ma(e),i=ma(t);return i>r?n=En(t.min,t.max-r,e.min):r>i&&(n=En(e.min,e.max-i,t.min)),pn(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),Ia((function(e){if(Ka(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,s=i.max;n.set(_n(a,s,o[e]))}}))}}},{key:"addListeners",value:function(){var e,t=this;qa.set(this.visualElement,this);var n=Ut(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){V(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=St(window,"resize",(function(){return t.scalePositionWithinConstraints()})),s=i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(Ia((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())}));return function(){o(),n(),a(),null===s||void 0===s||s()}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,l=e.dragElastic,c=void 0===l?Sa:l,f=e.dragMomentum,h=void 0===f||f;return R(R({},e),{},{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:h})}}]),e}();function Ka(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}function Ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}var Qa={pan:un((function(t){var n=t.onPan,r=t.onPanStart,i=t.onPanEnd,a=t.onPanSessionStart,o=t.visualElement,s=n||r||i||a,u=(0,e.useRef)(null),l=(0,e.useContext)(P).transformPagePoint,c={onSessionStart:a,onStart:r,onMove:n,onEnd:function(e,t){u.current=null,i&&i(e,t)}};(0,e.useEffect)((function(){null!==u.current&&u.current.updateHandlers(c)})),Vt(o,"pointerdown",s&&function(e){u.current=new la(e,c,{transformPagePoint:l})}),Gt((function(){return u.current&&u.current.end()}))})),drag:un((function(t){var n=t.dragControls,r=t.visualElement,i=X((function(){return new Wa(r)}));(0,e.useEffect)((function(){return n&&n.subscribe(i)}),[i,n]),(0,e.useEffect)((function(){return i.addListeners()}),[i])}))},Xa={current:null},Ya={current:!1};function $a(){if(Ya.current=!0,L)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Xa.current=e.matches};e.addListener(t),t()}else Xa.current=!1}var Ja=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function Za(){var e=Ja.map((function(){return new Ni})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){Ja.forEach((function(r){var i,a="on"+r,o=e[a];null===(i=t[r])||void 0===i||i.call(t),o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+Ja[t]]=function(t){return e.add(t)},n["notify"+Ja[t]]=function(){return e.notify.apply(e,arguments)}})),n}function eo(e,t,n){var r=t.willChange;for(var i in t){var a=t[i],o=n[i];if(be(a))e.addValue(i,a),qi(r)&&r.add(i);else if(be(o))e.addValue(i,Ri(a)),qi(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else{var u=e.getStaticValue(i);e.addValue(i,Ri(void 0!==u?u:a))}}for(var l in n)void 0===t[l]&&e.removeValue(l);return t}var to=["willChange"],no=Object.keys(Q),ro=no.length,io=function(t){var n=t.treeType,r=void 0===n?"":n,i=t.build,a=t.getBaseTarget,o=t.makeTargetAnimatable,s=t.measureViewportBox,u=t.render,l=t.readValueFromInstance,c=t.removeValueFromRenderState,f=t.sortNodePosition,h=t.scrapeMotionValuesFromProps;return function(t){var n,d,p=t.parent,v=t.props,m=t.presenceId,g=t.blockInitialAnimation,y=t.visualState,k=t.reducedMotionConfig,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=!1,x=y.latestValues,E=y.renderState,_=Za(),S=new Map,T=new Map,C={},I=R({},x);function N(){n&&w&&(A(),u(n,E,v.style,W.projection))}function A(){i(W,E,x,b,v)}function P(){_.notifyUpdate(x)}function O(e,t){var n=t.onChange((function(t){x[e]=t,v.onUpdate&&Fr.update(P,!1,!0)})),r=t.onRenderRequest(W.scheduleRender);T.set(e,(function(){n(),r()}))}var D=h(v),L=D.willChange,M=et(D,to);for(var j in M){var U=M[j];void 0!==x[j]&&be(U)&&(U.set(x[j],!1),qi(L)&&L.add(j))}var z=H(v),B=q(v),W=R(R({treeType:r,current:null,depth:p?p.depth+1:0,parent:p,children:new Set,presenceId:m,shouldReduceMotion:null,variantChildren:B?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===p||void 0===p?void 0:p.isMounted()),blockInitialAnimation:g,isMounted:function(){return Boolean(n)},mount:function(e){w=!0,n=W.current=e,W.projection&&W.projection.mount(e),B&&p&&!z&&(d=null===p||void 0===p?void 0:p.addVariantChild(W)),S.forEach((function(e,t){return O(t,e)})),Ya.current||$a(),W.shouldReduceMotion="never"!==k&&("always"===k||Xa.current),null===p||void 0===p||p.children.add(W),W.setProps(v)},unmount:function(){var e;null===(e=W.projection)||void 0===e||e.unmount(),Dr.update(P),Dr.render(N),T.forEach((function(e){return e()})),null===d||void 0===d||d(),null===p||void 0===p||p.children.delete(W),_.clearAllListeners(),n=void 0,w=!1},loadFeatures:function(t,n,r,i,a,o){var s=[];for(var u=0;u<ro;u++){var l=no[u],c=Q[l],f=c.isEnabled,h=c.Component;f(v)&&h&&s.push((0,e.createElement)(h,R(R({key:l},t),{},{visualElement:W})))}if(!W.projection&&a){W.projection=new a(i,W.getLatestValues(),p&&p.projection);var d=t.layoutId,m=t.layout,g=t.drag,y=t.dragConstraints,k=t.layoutScroll;W.projection.setOptions({layoutId:d,layout:m,alwaysMeasureLayout:Boolean(g)||y&&V(y),visualElement:W,scheduleRender:function(){return W.scheduleRender()},animationType:"string"===typeof m?m:"both",initialPromotionConfig:o,layoutScroll:k})}return s},addVariantChild:function(e){var t,n=W.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return f&&r===e.treeType?f(W.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return B?W:null===p||void 0===p?void 0:p.getClosestVariantNode()},getLayoutId:function(){return v.layoutId},getInstance:function(){return n},getStaticValue:function(e){return x[e]},setStaticValue:function(e,t){return x[e]=t},getLatestValues:function(){return x},setVisibility:function(e){W.isVisible!==e&&(W.isVisible=e,W.scheduleRender())},makeTargetAnimatable:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o(W,e,v,t)},measureViewportBox:function(){return s(n,v)},addValue:function(e,t){W.hasValue(e)&&W.removeValue(e),S.set(e,t),x[e]=t.get(),O(e,t)},removeValue:function(e){var t;S.delete(e),null===(t=T.get(e))||void 0===t||t(),T.delete(e),delete x[e],c(e,E)},hasValue:function(e){return S.has(e)},getValue:function(e,t){var n=S.get(e);return void 0===n&&void 0!==t&&(n=Ri(t),W.addValue(e,n)),n},forEachValue:function(e){return S.forEach(e)},readValue:function(e){return void 0!==x[e]?x[e]:l(n,e,b)},setBaseTarget:function(e,t){I[e]=t},getBaseTarget:function(e){if(a){var t=a(v,e);if(void 0!==t&&!be(t))return t}return I[e]}},_),{},{build:function(){return A(),E},scheduleRender:function(){Fr.render(N,!1,!0)},syncRender:N,setProps:function(e){(e.transformTemplate||v.transformTemplate)&&W.scheduleRender(),v=e,_.updatePropListeners(e),C=eo(W,h(v),C)},getProps:function(){return v},getVariant:function(e){var t;return null===(t=v.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return v.transition},getTransformPagePoint:function(){return v.transformPagePoint},getVariantContext:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return null===p||void 0===p?void 0:p.getVariantContext();if(!z){var t=(null===p||void 0===p?void 0:p.getVariantContext())||{};return void 0!==v.initial&&(t.initial=v.initial),t}for(var n={},r=0;r<oo;r++){var i=ao[r],a=v[i];(F(a)||!1===a)&&(n[i]=a)}return n}});return W}},ao=["initial"].concat(fn(Ji)),oo=ao.length;function so(e){return"string"===typeof e&&e.startsWith("var(--")}var uo=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function lo(e){var t=uo.exec(e);if(!t)return[,];var n=l(t,3);return[n[1],n[2]]}function co(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=lo(e),i=l(r,2),a=i[0],o=i[1];if(a){var s=window.getComputedStyle(t).getPropertyValue(a);return s?s.trim():so(o)?co(o,t,n+1):o}}var fo,ho=new Set(["width","height","top","left","right","bottom","x","y"]),po=function(e){return ho.has(e)},vo=function(e,t){e.set(t,!1),e.set(t)},mo=function(e){return e===Ve||e===Le};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(fo||(fo={}));var go=function(e,t){return parseFloat(e.split(", ")[t])},yo=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return go(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?go(o[1],e):0}},ko=new Set(["x","y","z"]),bo=ge.filter((function(e){return!ko.has(e)}));function wo(e){var t=[];return bo.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}var xo={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:yo(4,13),y:yo(5,14)},Eo=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=xo[e](r,a)})),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);vo(r,s[n]),e[n]=xo[n](u,a)})),e};function _o(e,t,n,r){return function(e){return Object.keys(e).some(po)}(t)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=R({},t),r=R({},r);var i=Object.keys(t).filter(po),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var l,c=n[i],f=Di(c),h=t[i];if(mt(h)){var d=h.length,p=null===h[0]?1:0;c=h[p],f=Di(c);for(var v=p;v<d;v++)l?Di(h[v]):(l=Di(h[v]))===f||mo(f)&&mo(l)}else l=Di(h);if(f!==l)if(mo(f)&&mo(l)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&l===Le&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===l||void 0===l?void 0:l.transform)&&(0===c||0===h)?0===c?u.set(l.transform(c)):t[i]=f.transform(h):(o||(a=wo(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],vo(u,h))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,c=Eo(t,e,s);return a.length&&a.forEach((function(t){var n=l(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),L&&null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var So=function(e,t,n,r){var i=function(e,t,n){var r=Object.assign({},t),i=e.getInstance();if(!(i instanceof Element))return{target:r,transitionEnd:n};for(var a in n&&(n=R({},n)),e.forEachValue((function(e){var t=e.get();if(so(t)){var n=co(t,i);n&&e.set(n)}})),r){var o=r[a];if(so(o)){var s=co(o,i);s&&(r[a]=s,n&&void 0===n[a]&&(n[a]=o))}}return{target:r,transitionEnd:n}}(e,t,r);return _o(e,t=i.target,n,r=i.transitionEnd)},To=["transition","transitionEnd"];var Co={treeType:"dom",readValueFromInstance:function(e,t){if(ye.has(t)){var n=hi(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(_e(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return Ha(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n){var r=t.transition,i=t.transitionEnd,a=et(t,To),o=n.transformValues,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=Hi(a,r||{},e);if(o&&(i&&(i=o(i)),a&&(a=o(a)),u&&(u=o(u))),s){zi(e,a,u);var l=So(e,a,u,i);i=l.transitionEnd,a=l.target}return R({transition:r,transitionEnd:i},a)},scrapeMotionValuesFromProps:dt,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),qe(t,n,r,i.transformTemplate)},render:ct},Io=io(Co),No=io(R(R({},Co),{},{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return ye.has(t)?(null===(n=hi(t))||void 0===n?void 0:n.default)||0:(t=ft.has(t)?t:lt(t),e.getAttribute(t))},scrapeMotionValuesFromProps:pt,build:function(e,t,n,r,i){at(t,n,r,i.transformTemplate)},render:ht})),Ao=function(e,t){return ve(e)?No(t,{enableHardwareAcceleration:!1}):Io(t,{enableHardwareAcceleration:!0})};function Ro(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Po={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!Le.test(e))return e;e=parseFloat(e)}var n=Ro(e,t.target.x),r=Ro(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Oo="_$css",Do={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(uo,(function(e){return o.push(e),Oo})));var s=Kn.parse(e);if(s.length>5)return i;var u=Kn.createTransformer(e),l="number"!==typeof s[0]?1:0,c=r.x.scale*n.x,f=r.y.scale*n.y;s[0+l]/=c,s[1+l]/=f;var h=_n(c,f,.5);"number"===typeof s[2+l]&&(s[2+l]/=h),"number"===typeof s[3+l]&&(s[3+l]/=h);var d=u(s);if(a){var p=0;d=d.replace(Oo,(function(){var e=o[p];return p++,e}))}return d}},Lo=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.apply(this,arguments)}return te(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=Mo,Object.assign(me,e),s&&(i.group&&i.group.add(s),a&&a.register&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(R(R({},s.options),{},{onExitComplete:function(){return t.safeToRemove()}}))),Y.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Fr.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;null===e||void 0===e||e()}},{key:"render",value:function(){return null}}]),n}(e.Component);var Mo={borderRadius:R(R({},Po),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Po,borderTopRightRadius:Po,borderBottomLeftRadius:Po,borderBottomRightRadius:Po,boxShadow:Do},jo={measureLayout:function(t){var n=l(cn(),2),r=n[0],i=n[1],a=(0,e.useContext)(J);return e.createElement(Lo,R(R({},t),{},{layoutGroup:a,switchLayoutGroup:(0,e.useContext)(ce),isPresent:r,safeToRemove:i}))}};function Uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=be(e)?e:Ri(e);return _i("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var Vo=["TopLeft","TopRight","BottomLeft","BottomRight"],Fo=Vo.length,zo=function(e){return"string"===typeof e?parseFloat(e):e},Bo=function(e){return"number"===typeof e||Le.test(e)};function Ho(e,t,n,r,i,a){var o,s,u,l;i?(e.opacity=_n(0,null!==(o=n.opacity)&&void 0!==o?o:1,Wo(r)),e.opacityExit=_n(null!==(s=t.opacity)&&void 0!==s?s:1,0,Ko(r))):a&&(e.opacity=_n(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(l=n.opacity)&&void 0!==l?l:1,r));for(var c=0;c<Fo;c++){var f="border".concat(Vo[c],"Radius"),h=qo(t,f),d=qo(n,f);if(void 0!==h||void 0!==d)h||(h=0),d||(d=0),0===h||0===d||Bo(h)===Bo(d)?(e[f]=Math.max(_n(zo(h),zo(d),r),0),(De.test(d)||De.test(h))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=_n(t.rotate||0,n.rotate||0,r))}function qo(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var Wo=Go(0,.5,dr),Ko=Go(.5,.95,ur);function Go(e,t,n){return function(r){return r<e?0:r>t?1:n(En(e,t,r))}}function Qo(e,t){e.min=t.min,e.max=t.max}function Xo(e,t){Qo(e.x,t.x),Qo(e.y,t.y)}function Yo(e,t,n,r,i){return e=Da(e-=t,1/n,r),void 0!==i&&(e=Da(e,1/i,r)),e}function $o(e,t,n,r,i){var a=l(n,3),o=a[0],s=a[1],u=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(De.test(t)){t=parseFloat(t),t=_n(o.min,o.max,t/100)-o.min}if("number"===typeof t){var s=_n(a.min,a.max,r);e===a&&(s-=t),e.min=Yo(e.min,t,n,s,i),e.max=Yo(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var Jo=["x","scaleX","originX"],Zo=["y","scaleY","originY"];function es(e,t,n,r){$o(e.x,t,Jo,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),$o(e.y,t,Zo,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function ts(e){return 0===e.translate&&1===e.scale}function ns(e){return ts(e.x)&&ts(e.y)}function rs(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var is=function(){function e(){Z(this,e),this.members=[]}return te(e,[{key:"add",value:function(e){Ci(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(Ii(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function as(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(a+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(a+="rotate(".concat(o,"deg) ")),s&&(a+="rotateX(".concat(s,"deg) ")),u&&(a+="rotateY(".concat(u,"deg) "))}var l=e.x.scale*t.x,c=e.y.scale*t.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(a+="scale(".concat(l,", ").concat(c,")"))?"none":a}var os=function(e,t){return e.depth-t.depth},ss=function(){function e(){Z(this,e),this.children=[],this.isDirty=!1}return te(e,[{key:"add",value:function(e){Ci(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){Ii(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(os),this.isDirty=!1,this.children.forEach(e)}}]),e}(),us=["","X","Y","Z"];function ls(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===n||void 0===n?void 0:n();Z(this,e),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(ms),r.nodes.forEach(gs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=t,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[].concat(fn(a.path),[a]):[],this.parent=a,this.depth=a?a.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new ss)}return te(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ni),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===t||void 0===t||t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"registerPotentialNode",value:function(e,t){this.potentialNodes.set(e,t)}},{key:"mount",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(n=this.parent)||void 0===n||n.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),i&&(s||o)&&(this.isLayoutDirty=!0),t){var l,c=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,clearTimeout(l),l=window.setTimeout(c,250),Y.hasAnimatedSinceResize&&(Y.hasAnimatedSinceResize=!1,r.nodes.forEach(vs))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t,n,i,a,o,s=e.delta,l=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,f=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var h=null!==(n=null!==(t=r.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:_s,d=u.getProps(),p=d.onLayoutAnimationStart,v=d.onLayoutAnimationComplete,m=!r.targetLayout||!rs(r.targetLayout,f)||c,g=!l&&c;if((null===(i=r.resumeFrom)||void 0===i?void 0:i.instance)||g||l&&(m||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(s,g);var y=R(R({},Ei(h,"layout")),{},{onPlay:p,onComplete:v});u.shouldReduceMotion&&(y.delay=0,y.type=!1),r.startAnimation(y)}else l||0!==r.animationProgress||r.finishAnimation(),r.isLead()&&(null===(o=(a=r.options).onExitComplete)||void 0===o||o.call(a));r.targetLayout=f}))}}},{key:"unmount",value:function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Dr.preRender(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1}},{key:"startUpdate",value:function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(ys))}},{key:"willUpdate",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.isUpdateBlocked())null===(t=(e=this.options).onExitComplete)||void 0===t||t.call(e);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll()}var o=this.options,s=o.layoutId,u=o.layout;if(void 0!==s||u){var l=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate;this.prevTransformTemplateValue=null===l||void 0===l?void 0:l(this.latestValues,""),this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}}}},{key:"didUpdate",value:function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ds);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Ss),this.potentialNodes.clear()),this.nodes.forEach(ps),this.nodes.forEach(cs),this.nodes.forEach(fs),this.clearAllSnapshots(),Lr.update(),Lr.preRender(),Lr.render())}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(hs),this.sharedNodes.forEach(ks)}},{key:"scheduleUpdateProjection",value:function(){Fr.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;Fr.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));Cs(t),this.snapshot={measured:e,layout:t,latestValues:{}}}}},{key:"updateLayout",value:function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();Cs(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}}},{key:"updateScroll",value:function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=r(this.instance))}},{key:"resetTransform",value:function(){var e;if(a){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!ns(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),o=i!==this.prevTransformTemplateValue;t&&(n||Pa(this.latestValues)||o)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(Ua(t.x,n.x),Ua(t.y,n.y)),t}},{key:"removeElementScroll",value:function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};Xo(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options,o=r.isScrollRoot;if(r!==this.root&&i&&a.layoutScroll){if(o){Xo(t,e);var s=this.root.scroll;s&&(Ua(t.x,-s.x),Ua(t.y,-s.y))}Ua(t.x,i.x),Ua(t.y,i.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={x:{min:0,max:0},y:{min:0,max:0}};Xo(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ba(n,{x:-i.scroll.x,y:-i.scroll.y}),Pa(i.latestValues)&&Ba(n,i.latestValues)}return Pa(this.latestValues)&&Ba(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};Xo(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&Pa(i.latestValues)){Ra(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};Xo(a,i.measure()),es(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,a)}}return Pa(this.latestValues)&&es(n,this.latestValues),n}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()}},{key:"setOptions",value:function(e){this.options=R(R(R({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"resolveTargetDelta",value:function(){var e,t,n,r,i=this.options,a=i.layout,o=i.layoutId;this.layout&&(a||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xa(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Xo(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,ba(t.x,n.x,r.x),ba(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):Xo(this.target,this.layout.actual),ja(this.target,this.targetDelta)):Xo(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xa(this.relativeTargetOrigin,this.target,this.relativeParent.target),Xo(this.relativeTarget,this.relativeTargetOrigin)))))}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!Pa(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}},{key:"calcProjection",value:function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();Xo(this.layoutCorrected,this.layout.actual),function(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.length;if(o){var s,u;t.x=t.y=1;for(var l=0;l<o;l++)u=(s=n[l]).projectionDelta,"contents"!==(null===(i=null===(r=s.instance)||void 0===r?void 0:r.style)||void 0===i?void 0:i.display)&&(a&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ba(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,ja(e,u)),a&&Pa(s.latestValues)&&Ba(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var a=i.target;if(a){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var o=this.treeScale.x,s=this.treeScale.y,u=this.projectionTransform;ka(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=as(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(t=(e=this.options).scheduleRender)||void 0===t||t.call(e),r&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.snapshot,a=(null===i||void 0===i?void 0:i.latestValues)||{},o=R({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!r;var u={x:{min:0,max:0},y:{min:0,max:0}},l=null===i||void 0===i?void 0:i.isShared,c=((null===(t=this.getStack())||void 0===t?void 0:t.members.length)||0)<=1,f=Boolean(l&&!c&&!0===this.options.crossfade&&!this.path.some(Es));this.animationProgress=0,this.mixTargetDelta=function(t){var r,i=t/1e3;bs(s.x,e.x,i),bs(s.y,e.y,i),n.setTargetDelta(s),n.relativeTarget&&n.relativeTargetOrigin&&n.layout&&(null===(r=n.relativeParent)||void 0===r?void 0:r.layout)&&(xa(u,n.layout.actual,n.relativeParent.layout.actual),xs(n.relativeTarget,n.relativeTargetOrigin,u,i)),l&&(n.animationValues=o,Ho(o,a,n.latestValues,i,f,c)),n.root.scheduleUpdateProjection(),n.scheduleRender(),n.animationProgress=i},this.mixTargetDelta(0)}},{key:"startAnimation",value:function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Dr.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fr.update((function(){Y.hasAnimatedSinceResize=!0,r.currentAnimation=Uo(0,1e3,R(R({},e),{},{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(Xo(t,n),Ba(t,i),ka(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))}},{key:"registerSharedNode",value:function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new is),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<us.length;r++){var i="rotate"+us[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var a in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(a,n[a]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};if(!this.instance||this.isSVG)return i;if(!this.isVisible)return{visibility:"hidden"};i.visibility="";var a=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=yt(r.pointerEvents)||"",i.transform=a?a(this.latestValues,""):"none",i;var o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){var s={};return this.options.layoutId&&(s.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,s.pointerEvents=yt(r.pointerEvents)||""),this.hasProjected&&!Pa(this.latestValues)&&(s.transform=a?a({},""):"none",this.hasProjected=!1),s}var u=o.animationValues||o.latestValues;this.applyTransformsToTarget(),i.transform=as(this.projectionDeltaWithTransform,this.treeScale,u),a&&(i.transform=a(u,i.transform));var l=this.projectionDelta,c=l.x,f=l.y;for(var h in i.transformOrigin="".concat(100*c.origin,"% ").concat(100*f.origin,"% 0"),o.animationValues?i.opacity=o===this?null!==(n=null!==(t=u.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=o===this?void 0!==u.opacity?u.opacity:"":void 0!==u.opacityExit?u.opacityExit:0,me)if(void 0!==u[h]){var d=me[h],p=d.correct,v=d.applyTo,m=p(u[h],o);if(v)for(var g=v.length,y=0;y<g;y++)i[v[y]]=m;else i[h]=m}return this.options.layoutId&&(i.pointerEvents=o===this?yt(r.pointerEvents)||"":"none"),i}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ds),this.root.sharedNodes.clear()}}]),e}()}function cs(e){e.updateLayout()}function fs(e){var t,n,r,i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){var a=e.layout,o=a.actual,s=a.measured;"size"===e.options.animationType?Ia((function(e){var t=i.isShared?i.measured[e]:i.layout[e],n=ma(t);t.min=o[e].min,t.max=t.min+n})):"position"===e.options.animationType&&Ia((function(e){var t=i.isShared?i.measured[e]:i.layout[e],n=ma(o[e]);t.max=t.min+n}));var u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ka(u,o,i.layout);var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i.isShared?ka(l,e.applyTransform(s,!0),i.measured):ka(l,o,i.layout);var c=!ns(u),f=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var h=e.relativeParent,d=h.snapshot,p=h.layout;if(d&&p){var v={x:{min:0,max:0},y:{min:0,max:0}};xa(v,i.layout,d.layout);var m={x:{min:0,max:0},y:{min:0,max:0}};xa(m,o,p.actual),rs(v,m)||(f=!0)}}e.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:l,layoutDelta:u,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else e.isLead()&&(null===(r=(n=e.options).onExitComplete)||void 0===r||r.call(n));e.options.transition=void 0}function hs(e){e.clearSnapshot()}function ds(e){e.clearMeasurements()}function ps(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function vs(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function ms(e){e.resolveTargetDelta()}function gs(e){e.calcProjection()}function ys(e){e.resetRotation()}function ks(e){e.removeLeadSnapshot()}function bs(e,t,n){e.translate=_n(t.translate,0,n),e.scale=_n(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ws(e,t,n,r){e.min=_n(t.min,n.min,r),e.max=_n(t.max,n.max,r)}function xs(e,t,n,r){ws(e.x,t.x,n.x,r),ws(e.y,t.y,n.y,r)}function Es(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var _s={duration:.45,ease:[.4,0,.1,1]};function Ss(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function Ts(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Cs(e){Ts(e.x),Ts(e.y)}var Is=ls({attachResizeListener:function(e,t){return St(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),Ns={current:void 0},As=ls({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Ns.current){var e=new Is(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Ns.current=e}return Ns.current},resetTransform:function(e,t){e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),Rs=R(R(R(R({},ia),ln),Qa),jo),Ps=de((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a;return R(R({},ve(e)?Et:_t),{},{preloadedFeatures:n,useRender:ut(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,Rs,Ao,As)}));var Os,Ds="SET_USER",Ls="SET_FOOD_ITEMS",Ms="SET_CART_SHOW",js="SET_CARTITEMS",Us=function(e,t){switch(console.log(t),t.type){case Ds:return R(R({},e),{},{user:t.user});case Ls:return R(R({},e),{},{foodItems:t.foodItems});case Ms:return R(R({},e),{},{cartShow:t.cartShow});case js:return R(R({},e),{},{cartItems:t.cartItems});default:return e}},Vs=n(184),Fs=(0,e.createContext)(),zs=function(t){var n=t.reducer,r=t.initialState,i=t.children;return(0,Vs.jsx)(Fs.Provider,{value:(0,e.useReducer)(n,r),children:i})},Bs=function(){return(0,e.useContext)(Fs)};function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Os||(Os={}));var qs=function(e){return e};var Ws="beforeunload",Ks="popstate";function Gs(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=Js(n.location.hash.substr(1)),t=e.pathname,i=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,s=e.hash,u=void 0===s?"":s,l=r.state||{};return[l.idx,qs({pathname:i,search:o,hash:u,state:l.usr||null,key:l.key||"default"})]}var a=null;function o(){if(a)h.call(a),a=null;else{var e=Os.Pop,t=i(),n=t[0],r=t[1];if(h.length){if(null!=n){var o=l-n;o&&(a={action:e,location:r,retry:function(){y(-1*o)}},y(o))}}else g(e)}}n.addEventListener(Ks,o),n.addEventListener("hashchange",(function(){$s(i()[1])!==$s(c)&&o()}));var s=Os.Pop,u=i(),l=u[0],c=u[1],f=Xs(),h=Xs();function d(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:$s(e))}function p(e,t){return void 0===t&&(t=null),qs(Hs({pathname:c.pathname,hash:"",search:""},"string"===typeof e?Js(e):e,{state:t,key:Ys()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function m(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function g(e){s=e;var t=i();l=t[0],c=t[1],f.call({action:s,location:c})}function y(e){r.go(e)}null==l&&(l=0,r.replaceState(Hs({},r.state,{idx:l}),""));var k={get action(){return s},get location(){return c},createHref:d,push:function e(t,i){var a=Os.Push,o=p(t,i);if(m(a,o,(function(){e(t,i)}))){var s=v(o,l+1),u=s[0],c=s[1];try{r.pushState(u,"",c)}catch(f){n.location.assign(c)}g(a)}},replace:function e(t,n){var i=Os.Replace,a=p(t,n);if(m(i,a,(function(){e(t,n)}))){var o=v(a,l),s=o[0],u=o[1];r.replaceState(s,"",u),g(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return f.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&n.addEventListener(Ws,Qs),function(){t(),h.length||n.removeEventListener(Ws,Qs)}}};return k}function Qs(e){e.preventDefault(),e.returnValue=""}function Xs(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Ys(){return Math.random().toString(36).substr(2,8)}function $s(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Js(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Zs=(0,e.createContext)(null);var eu=(0,e.createContext)(null);var tu=(0,e.createContext)({outlet:null,matches:[]});function nu(e,t){if(!e)throw new Error(t)}function ru(e,t,n){void 0===n&&(n="/");var r=fu(("string"===typeof t?Js(t):t).pathname||"/",n);if(null==r)return null;var i=iu(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=uu(i[o],r);return a}function iu(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||nu(!1),a.relativePath=a.relativePath.slice(r.length));var o=hu([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&nu(!1),iu(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:su(o,e.index),routesMeta:s})})),t}var au=/^:\w+$/,ou=function(e){return"*"===e};function su(e,t){var n=e.split("/"),r=n.length;return n.some(ou)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!ou(e)})).reduce((function(e,t){return e+(au.test(t)?3:""===t?1:10)}),r)}function uu(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=lu({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:hu([i,c.pathname]),pathnameBase:du(hu([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=hu([i,c.pathnameBase]))}return a}function lu(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function cu(e,t,n){var r,i="string"===typeof e?Js(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Js(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:pu(a),hash:vu(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function fu(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var hu=function(e){return e.join("/").replace(/\/\/+/g,"/")},du=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},pu=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},vu=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function mu(t){gu()||nu(!1);var n=(0,e.useContext)(Zs),r=n.basename,i=n.navigator,a=bu(t),o=a.hash,s=a.pathname,u=a.search,l=s;if("/"!==r){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?Js(e).pathname:e.pathname}(t),f=null!=c&&c.endsWith("/");l="/"===s?r+(f?"/":""):hu([r,s])}return i.createHref({pathname:l,search:u,hash:o})}function gu(){return null!=(0,e.useContext)(eu)}function yu(){return gu()||nu(!1),(0,e.useContext)(eu).location}function ku(){gu()||nu(!1);var t=(0,e.useContext)(Zs),n=t.basename,r=t.navigator,i=(0,e.useContext)(tu).matches,a=yu().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=cu(e,JSON.parse(o),a);"/"!==n&&(i.pathname=hu([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function bu(t){var n=(0,e.useContext)(tu).matches,r=yu().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return cu(t,JSON.parse(i),r)}),[t,i,r])}function wu(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(tu.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function xu(e){nu(!1)}function Eu(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?Os.Pop:s,l=t.navigator,c=t.static,f=void 0!==c&&c;gu()&&nu(!1);var h=du(r),d=(0,e.useMemo)((function(){return{basename:h,navigator:l,static:f}}),[h,l,f]);"string"===typeof o&&(o=Js(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,E=p.key,_=void 0===E?"default":E,S=(0,e.useMemo)((function(){var e=fu(m,h);return null==e?null:{pathname:e,search:y,hash:b,state:x,key:_}}),[h,m,y,b,x,_]);return null==S?null:(0,e.createElement)(Zs.Provider,{value:d},(0,e.createElement)(eu.Provider,{children:a,value:{location:S,navigationType:u}}))}function _u(t){var n=t.children,r=t.location;return function(t,n){gu()||nu(!1);var r,i=(0,e.useContext)(tu).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,yu());if(n){var l,c="string"===typeof n?Js(n):n;"/"===s||(null==(l=c.pathname)?void 0:l.startsWith(s))||nu(!1),r=c}else r=u;var f=r.pathname||"/",h=ru(t,{pathname:"/"===s?f:f.slice(s.length)||"/"});return wu(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:hu([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:hu([s,e.pathnameBase])})})),i)}(Su(n),r)}function Su(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==xu&&nu(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=Su(t.props.children)),n.push(r)}else n.push.apply(n,Su(t.props.children))})),n}function Tu(){return Tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tu.apply(this,arguments)}function Cu(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Iu=["onClick","reloadDocument","replace","state","target","to"];function Nu(t){var n=t.basename,r=t.children,i=t.window,a=(0,e.useRef)();null==a.current&&(a.current=Gs({window:i}));var o=a.current,s=l((0,e.useState)({action:o.action,location:o.location}),2),u=s[0],c=s[1];return(0,e.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,e.createElement)(Eu,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var Au=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,a=t.replace,o=void 0!==a&&a,s=t.state,u=t.target,l=t.to,c=Cu(t,Iu),f=mu(l),h=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=ku(),u=yu(),l=bu(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!a||$s(u)===$s(l);s(t,{replace:n,state:o})}}),[u,s,l,a,o,i,t])}(l,{replace:o,state:s,target:u});return(0,e.createElement)("a",Tu({},c,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var Ru=function(){var t=l(Bs(),2),n=t[0],r=n.user,i=n.cartShow,a=n.cartItems,o=t[1],s=l((0,e.useState)(!1),2),u=s[0],f=s[1],h=function(){f(!u)},d=function(){f(!1),localStorage.clear(),o({type:Ds,user:null})},p=function(){o({type:Ms,cartShow:!i})};return(0,Vs.jsxs)("header",{className:"fixed z-50 w-screen p-3 px-4 md:p-6 md:px-16 bg-primary",children:[(0,Vs.jsxs)("div",{className:"hidden md:flex w-full h-full items-center justify-between",children:[(0,Vs.jsxs)(Au,{to:"/",className:"flex items-center gap-2",children:[(0,Vs.jsx)("img",{src:c,className:"w-8 object-cover",alt:"logo"}),(0,Vs.jsx)("p",{className:"text-headingColor text-xl font-bold",children:"FoodHack"})]}),(0,Vs.jsxs)("div",{className:"flex items-center gap-8",children:[(0,Vs.jsxs)(Ps.ul,{initial:{opacity:0,x:200},animate:{opacity:1,x:0},exit:{opacity:0,x:200},className:"flex items-center gap-8 ",children:[(0,Vs.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer",children:(0,Vs.jsx)(Au,{to:"/#home",children:"Home"})}),(0,Vs.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer",children:(0,Vs.jsx)("a",{href:"#menu",children:"Menu"})}),(0,Vs.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer",children:"Latest Offers"}),(0,Vs.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer",children:"About"})]}),(0,Vs.jsxs)("div",{className:"relative flex items-center justify-center",onClick:p,children:[(0,Vs.jsx)(b,{className:"text-textColor text-2xl cursor-pointer"}),a&&a.length>0&&(0,Vs.jsx)("div",{className:"absolute -top-2 -right-2 w-4 h-4 rounded-full flex items-center bg-cartNumBg text-center justify-center",children:(0,Vs.jsx)("p",{className:"text-sm text-white font-semibold",children:a.length})})]}),(0,Vs.jsxs)("div",{className:"relative ",children:[(0,Vs.jsx)(Ps.img,{whileTap:{scale:.6},src:r?r.photoURL:I,className:"w-10 min-w-[40px] h-10 min-h-[40px] drop- shadow-xl cursor-pointer rounded-full",alt:"userprofile",onClick:h}),u&&(0,Vs.jsxs)(Ps.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},className:"w-40 bg-gray-50 shadow-xl rounded-lg flex flex-col absolute top-12 right-0",children:[r?("atif.2124mca1052@kiet.edu"===r.email||"brahm.2124mca1099@kiet.edu"===r.email)&&(0,Vs.jsx)(Au,{to:"/adminPanel",children:(0,Vs.jsx)("p",{className:"px-4 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-100 transition-all duration-100 ease-in-out text-textColor text-base",children:"Admin Panel"})}):(0,Vs.jsx)(Au,{to:"/login",children:(0,Vs.jsx)("p",{className:"px-4 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-100 transition-all duration-100 ease-in-out text-textColor text-base",children:"Login"})}),(0,Vs.jsxs)("p",{className:"px-4 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-100 transition-all duration-100 ease-in-out text-textColor text-base",onClick:d,children:["Logout",(0,Vs.jsx)(k,{})]})]})]})]})]}),(0,Vs.jsxs)("div",{className:"flex items-center justify-between md:hidden w-full h-full",children:[(0,Vs.jsxs)("div",{className:"relative flex items-center justify-center",onClick:p,children:[(0,Vs.jsx)(b,{className:"text-textColor text-2xl cursor-pointer"}),a&&a.length>0&&(0,Vs.jsx)("div",{className:"absolute -top-2 -right-2 w-4 h-4 rounded-full flex items-center bg-cartNumBg text-center justify-center",children:(0,Vs.jsx)("p",{className:"text-sm text-white font-semibold",children:a.length})})]}),(0,Vs.jsxs)(Au,{to:"/",className:"flex items-center gap-2",children:[(0,Vs.jsx)("img",{src:c,className:"w-8 object-cover",alt:"logo"}),(0,Vs.jsx)("p",{className:"text-headingColor text-xl font-bold",children:"KIET Amul Parlour"})]}),(0,Vs.jsxs)("div",{className:"relative ",children:[(0,Vs.jsx)(Ps.img,{whileTap:{scale:.6},src:r?r.photoURL:I,className:"w-10 min-w-[40px] h-10 min-h-[40px] drop- shadow-xl cursor-pointer rounded-full",alt:"userprofile",onClick:h}),u&&(0,Vs.jsxs)(Ps.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},className:"w-40 bg-gray-50 shadow-xl rounded-lg flex flex-col absolute top-12 right-0",children:[r&&("atif.2124mca1052@kiet.edu"===r.email||"brahm.2124mca1099@kiet.edu"===r.email)&&(0,Vs.jsx)(Au,{to:"/createItem",children:(0,Vs.jsx)("p",{className:"px-4 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-100 transition-all duration-100 ease-in-out text-textColor text-base ",onClick:function(){return f(!1)},children:"Admin Panel"})}),(0,Vs.jsxs)("ul",{className:"flex flex-col",children:[(0,Vs.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer hover:bg-slate-100 px-4 py-2 ",onClick:function(){return f(!1)},children:"Home"}),(0,Vs.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer hover:bg-slate-100 px-4 py-2 ",onClick:function(){return f(!1)},children:"Menu"}),(0,Vs.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer hover:bg-slate-100 px-4 py-2 ",onClick:function(){return f(!1)},children:"About"}),(0,Vs.jsx)("li",{className:"text-base text-textColor hover:text-headingColor duration-100 transition-all ease-in-out cursor-pointer hover:bg-slate-100 px-4 py-2 ",onClick:function(){return f(!1)},children:"Services"})]}),(0,Vs.jsxs)("p",{className:"m-2 p-2 rounded-md shadow-md flex items-center justify-center bg-gray-200  gap-3 cursor-pointer hover:bg-gray-300 transition-all duration-100 ease-in-out text-textColor text-base",onClick:d,children:["Logout",(0,Vs.jsx)(k,{})]})]})]})]})]})},Pu=n.p+"static/media/delivery.bf9130a0962fbe091abc.png",Ou=n.p+"static/media/heroBg.c43c4862422e70d88698.png",Du=[{id:1,name:"Icecream",decp:"Chocolate & vanilla",price:"149",imageSrc:n.p+"static/media/i1.3d9b129d2c5432c6f1fb.png"},{id:2,name:"Strawberries",decp:"Fresh Strawberries",price:"129",imageSrc:n.p+"static/media/f1.c52686695ee9a5c4cd0d.png"},{id:3,name:"Chicken Kabab",decp:"Mixed Kabab Plate",price:"289",imageSrc:n.p+"static/media/c3.55f83414f33f66456b35.png"},{id:4,name:"Fish Kabab",decp:"Mixed Kabab Plate",price:"269",imageSrc:n.p+"static/media/fi1.3f43e51b6058550d1f44.png"}],Lu=[{id:1,name:"Chicken",urlParamName:"chicken"},{id:2,name:"Curry",urlParamName:"curry"},{id:3,name:"Rice",urlParamName:"rice"},{id:4,name:"Fish",urlParamName:"fish"},{id:5,name:"Fruits",urlParamName:"fruits"},{id:6,name:"Icecreams",urlParamName:"icecreams"},{id:7,name:"Soft Drinks",urlParamName:"drinks"}],Mu=function(){return(0,Vs.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 w-full",id:"home",children:[(0,Vs.jsxs)("div",{className:"py-2 flex-1 flex flex-col items-start  justify-center gap-6",children:[(0,Vs.jsxs)("div",{className:"flex items-center gap-2 justify-center bg-orange-100 px-4 py-1 rounded-full",children:[(0,Vs.jsx)("p",{className:"text-base text-orange-500 font-semibold",children:"Bike Delivery"}),(0,Vs.jsx)("div",{className:"w-8 h-8 bg-white rounded-full overflow-hidden drop-shadow-xl",children:(0,Vs.jsx)("img",{src:Pu,className:"w-full h-full object-contain",alt:"delivery"})})]}),(0,Vs.jsxs)("p",{className:"text-[2.5rem] lg:text-[4.5rem] font-bold tracking-wide text-headingColor ",children:["The fastest delivery at",(0,Vs.jsx)("span",{className:"text-orange-600 text-[3rem] lg:text-[5rem]",children:"Your Place"})]}),(0,Vs.jsx)("p",{className:"text-base text-textColor text-center md:text-left md:w-[80%]",children:"Save your time. Order your food and get it delivered at your own place."}),(0,Vs.jsx)("button",{type:"button",className:"bg-gradient-to-br from-orange-400 to-orange-500 w-full md:w-auto px-4 py-2 rounded-lg hover:shadow-lg transition-all ease-in-out duration-100",children:"Order Now"})]}),(0,Vs.jsxs)("div",{className:"py-2 flex-1 flex items-center relative",children:[(0,Vs.jsx)("img",{src:Ou,className:"ml-auto h-400 w-full lg:w-auto lg:h-650",alt:"hero-bg"}),(0,Vs.jsx)("div",{className:"w-full h-full absolute top-0 left-0 flex items-center justify-center lg:px-16 py-4 gap-4 flex-wrap ",children:Du&&Du.map((function(e){return(0,Vs.jsxs)("div",{className:"lg:w-120 p-4 bg-cardOverlay backdrop-blur-md rounded-3xl flex flex-col items-center justify-center drop-shadow-lg",children:[(0,Vs.jsx)("img",{src:e.imageSrc,className:"w-20 lg:w-40 -mt-10 lg:-mt-20",alt:"I1"}),(0,Vs.jsx)("p",{className:"text-base lg:text-xl font-semibold text-textColor mt-2 lg:mt-4",children:e.name}),(0,Vs.jsx)("p",{className:"text-[12px] lg:text-sm text-lighttextGray font-semibold my-1 lg:my-2 ",children:e.decp}),(0,Vs.jsxs)("p",{className:"text-sm font-semibold text-headingColor",children:[(0,Vs.jsx)("span",{className:"text-xs text-red-600",children:"Rs. "}),e.price]})]},e.id)}))})]})]})};var ju=n.p+"static/media/NotFound.4e90bb93460bfd8d9e2c86b42ef91a4a.svg";function Uu(){return Uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uu.apply(this,arguments)}var Vu="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,Fu={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},zu=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],Bu=function(e,t,n,r,i){var a=i.offsetX,o=i.offsetY,s=r?8:0,u=n.split(" "),l=e.top+e.height/2,c=e.left+e.width/2,f=t.height,h=t.width,d=l-f/2,p=c-h/2,v="",m="0%",g="0%";switch(u[0]){case"top":d-=f/2+e.height/2+s,v="rotate(180deg)  translateX(50%)",m="100%",g="50%";break;case"bottom":d+=f/2+e.height/2+s,v="rotate(0deg) translateY(-100%) translateX(-50%)",g="50%";break;case"left":p-=h/2+e.width/2+s,v=" rotate(90deg)  translateY(50%) translateX(-25%)",g="100%",m="50%";break;case"right":p+=h/2+e.width/2+s,v="rotate(-90deg)  translateY(-150%) translateX(25%)",m="50%"}switch(u[1]){case"top":d=e.top,m=e.height/2+"px";break;case"bottom":d=e.top-f+e.height,m=f-e.height/2+"px";break;case"left":p=e.left,g=e.width/2+"px";break;case"right":p=e.left-h+e.width,g=h-e.width/2+"px"}return{top:d="top"===u[0]?d-o:d+o,left:p="left"===u[0]?p-a:p+a,transform:v,arrowLeft:g,arrowTop:m}},Hu=function(e,t,n,r,i,a){var o=i.offsetX,s=i.offsetY,u={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},l=0,c=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"===typeof e){var n=document.querySelector(e);null!==n&&(t=n.getBoundingClientRect())}return t}(a),f=Array.isArray(n)?n:[n];for((a||Array.isArray(n))&&(f=[].concat(f,zu));l<f.length;){var h={top:(u=Bu(e,t,f[l],r,{offsetX:o,offsetY:s})).top,left:u.left,width:t.width,height:t.height};if(!(h.top<=c.top||h.left<=c.left||h.top+h.height>=c.top+c.height||h.left+h.width>=c.left+c.width))break;l++}return u},qu=0,Wu=(0,e.forwardRef)((function(n,r){var i=n.trigger,a=void 0===i?null:i,o=n.onOpen,s=void 0===o?function(){}:o,u=n.onClose,l=void 0===u?function(){}:u,c=n.defaultOpen,f=void 0!==c&&c,h=n.open,d=void 0===h?void 0:h,p=n.disabled,v=void 0!==p&&p,m=n.nested,g=void 0!==m&&m,y=n.closeOnDocumentClick,k=void 0===y||y,b=n.repositionOnResize,w=void 0===b||b,x=n.closeOnEscape,E=void 0===x||x,_=n.on,S=void 0===_?["click"]:_,T=n.contentStyle,C=void 0===T?{}:T,I=n.arrowStyle,N=void 0===I?{}:I,A=n.overlayStyle,R=void 0===A?{}:A,P=n.className,O=void 0===P?"":P,D=n.position,L=void 0===D?"bottom center":D,M=n.modal,j=void 0!==M&&M,U=n.lockScroll,V=void 0!==U&&U,F=n.arrow,z=void 0===F||F,B=n.offsetX,H=void 0===B?0:B,q=n.offsetY,W=void 0===q?0:q,K=n.mouseEnterDelay,G=void 0===K?100:K,Q=n.mouseLeaveDelay,X=void 0===Q?100:Q,Y=n.keepTooltipInside,$=void 0!==Y&&Y,J=n.children,Z=(0,e.useState)(d||f),ee=Z[0],te=Z[1],ne=(0,e.useRef)(null),re=(0,e.useRef)(null),ie=(0,e.useRef)(null),ae=(0,e.useRef)(null),oe=(0,e.useRef)("popup-"+ ++qu),se=!!j||!a,ue=(0,e.useRef)(0);Vu((function(){return ee?(ae.current=document.activeElement,be(),ge(),ve()):me(),function(){clearTimeout(ue.current)}}),[ee]),(0,e.useEffect)((function(){"boolean"===typeof d&&(d?le():ce())}),[d,v]);var le=function(e){ee||v||(te(!0),setTimeout((function(){return s(e)}),0))},ce=function(e){var t;ee&&!v&&(te(!1),se&&(null===(t=ae.current)||void 0===t||t.focus()),setTimeout((function(){return l(e)}),0))},fe=function(e){null===e||void 0===e||e.stopPropagation(),ee?ce(e):le(e)},he=function(e){clearTimeout(ue.current),ue.current=setTimeout((function(){return le(e)}),G)},de=function(e){null===e||void 0===e||e.preventDefault(),fe()},pe=function(e){clearTimeout(ue.current),ue.current=setTimeout((function(){return ce(e)}),X)},ve=function(){se&&V&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},me=function(){se&&V&&(document.getElementsByTagName("body")[0].style.overflow="auto")},ge=function(){var e,t=null===re||void 0===re||null===(e=re.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),n=Array.prototype.slice.call(t)[0];null===n||void 0===n||n.focus()};(0,e.useImperativeHandle)(r,(function(){return{open:function(){le()},close:function(){ce()},toggle:function(){fe()}}}));var ye,ke,be=function(){if(!se&&ee&&(null===ne||void 0===ne?void 0:ne.current)&&(null===ne||void 0===ne?void 0:ne.current)&&(null===re||void 0===re?void 0:re.current)){var e,t,n=ne.current.getBoundingClientRect(),r=re.current.getBoundingClientRect(),i=Hu(n,r,L,z,{offsetX:H,offsetY:W},$);if(re.current.style.top=i.top+window.scrollY+"px",re.current.style.left=i.left+window.scrollX+"px",z&&ie.current)ie.current.style.transform=i.transform,ie.current.style.setProperty("-ms-transform",i.transform),ie.current.style.setProperty("-webkit-transform",i.transform),ie.current.style.top=(null===(e=N.top)||void 0===e?void 0:e.toString())||i.arrowTop,ie.current.style.left=(null===(t=N.left)||void 0===t?void 0:t.toString())||i.arrowLeft}};ye=ce,void 0===(ke=E)&&(ke=!0),(0,e.useEffect)((function(){if(ke){var e=function(e){"Escape"===e.key&&ye(e)};return document.addEventListener("keyup",e),function(){ke&&document.removeEventListener("keyup",e)}}}),[ye,ke]),function(t,n){void 0===n&&(n=!0),(0,e.useEffect)((function(){if(n){var e=function(e){if(9===e.keyCode){var n,r=null===t||void 0===t||null===(n=t.current)||void 0===n?void 0:n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),i=Array.prototype.slice.call(r);if(1===i.length)return void e.preventDefault();var a=i[0],o=i[i.length-1];e.shiftKey&&document.activeElement===a?(e.preventDefault(),o.focus()):document.activeElement===o&&(e.preventDefault(),a.focus())}};return document.addEventListener("keydown",e),function(){n&&document.removeEventListener("keydown",e)}}}),[t,n])}(re,ee&&se),function(t,n){void 0===n&&(n=!0),(0,e.useEffect)((function(){if(n){var e=function(){t()};return window.addEventListener("resize",e),function(){n&&window.removeEventListener("resize",e)}}}),[t,n])}(be,w),function(t,n,r){void 0===r&&(r=!0),(0,e.useEffect)((function(){if(r){var e=function(e){var r=Array.isArray(t)?t:[t],i=!1;r.forEach((function(t){t.current&&!t.current.contains(e.target)||(i=!0)})),e.stopPropagation(),i||n(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){r&&(document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e))}}}),[t,n,r])}(a?[re,ne]:[re],ce,k&&!g);var we=function(){return e.createElement("div",Object.assign({},function(){var e=se?Fu.popupContent.modal:Fu.popupContent.tooltip,t={className:"popup-content "+(""!==O?O.split(" ").map((function(e){return e+"-content"})).join(" "):""),style:Uu({},e,C,{pointerEvents:"auto"}),ref:re,onClick:function(e){e.stopPropagation()}};return!j&&S.indexOf("hover")>=0&&(t.onMouseEnter=he,t.onMouseLeave=pe),t}(),{key:"C",role:se?"dialog":"tooltip",id:oe.current}),z&&!se&&e.createElement("div",{ref:ie,style:Fu.popupArrow},e.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==O?O.split(" ").map((function(e){return e+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:Uu({position:"absolute"},N)},e.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),J&&"function"===typeof J?J(ce,ee):J)},xe=!(S.indexOf("hover")>=0),Ee=se?Fu.overlay.modal:Fu.overlay.tooltip,_e=[xe&&e.createElement("div",{key:"O","data-testid":"overlay","data-popup":se?"modal":"tooltip",className:"popup-overlay "+(""!==O?O.split(" ").map((function(e){return e+"-overlay"})).join(" "):""),style:Uu({},Ee,R,{pointerEvents:k&&g||se?"auto":"none"}),onClick:k&&g?ce:void 0,tabIndex:-1},se&&we()),!se&&we()];return e.createElement(e.Fragment,null,function(){for(var t={key:"T",ref:ne,"aria-describedby":oe.current},n=Array.isArray(S)?S:[S],r=0,i=n.length;r<i;r++)switch(n[r]){case"click":t.onClick=fe;break;case"right-click":t.onContextMenu=de;break;case"hover":t.onMouseEnter=he,t.onMouseLeave=pe;break;case"focus":t.onFocus=he,t.onBlur=pe}if("function"===typeof a){var o=a(ee);return!!a&&e.cloneElement(o,t)}return!!a&&e.cloneElement(a,t)}(),ee&&t.createPortal(_e,function(){var e=document.getElementById("popup-root");return null===e&&((e=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(e)),e}()))})),Ku=Wu,Gu=function(e){var t=e.item;return(0,Vs.jsx)(Ku,{trigger:(0,Vs.jsx)("button",{children:"Expand"}),position:"center center",children:(0,Vs.jsxs)(Ps.div,{className:"w-[700px] h-[450px] min-w-[300px] md:w-340 md:min-w-[340px]  bg-cardOverlay rounded-lg p-2 my-12 backdrop-blur-lg hover:drop-shadow-lg flex flex-col items-center justify-between",children:[(0,Vs.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,Vs.jsx)(Ps.div,{className:"w-[250px] h-[250px] mt:8 drop-shadow-2xl",whileHover:{scale:1.2},children:(0,Vs.jsx)("img",{src:null===t||void 0===t?void 0:t.imageURL,alt:"",className:"w-full h-full object-contain"})}),(0,Vs.jsx)(Ps.div,{whileTap:{scale:.75},className:"w-8 h-8 rounded-full bg-red-600 flex items-center justify-center cursor-pointer hover:shadow-md",children:(0,Vs.jsx)(b,{className:"text-white"})})]}),(0,Vs.jsxs)("div",{className:"w-full flex flex-col items-end justify-end",children:[(0,Vs.jsx)("p",{className:"text-textColor font-semibold text-base md:text-lg",children:null===t||void 0===t?void 0:t.title}),(0,Vs.jsxs)("p",{className:"mt-2 text-sm text-gray-500 ",children:["Calories: ",null===t||void 0===t?void 0:t.calories]}),(0,Vs.jsx)("div",{className:"flex items-center gap-8",children:(0,Vs.jsxs)("p",{className:"text-lg text-headingColorading font-semibold ",children:[(0,Vs.jsx)("span",{className:"text-sm text-red-500 ",children:"Rs."})," ",null===t||void 0===t?void 0:t.price]})})]})]})})},Qu=function(t){var n=t.flag,r=t.data,i=t.scrollValue,a=(0,e.useRef)(),o=l((0,e.useState)([]),2),s=o[0],u=o[1],c=l(Bs(),2),f=c[0].cartItems,h=c[1];return(0,e.useEffect)((function(){a.current.scrollLeft+=i}),[i]),(0,e.useEffect)((function(){h({type:js,cartItems:s}),localStorage.setItem("cartItems",JSON.stringify(s))}),[s]),(0,Vs.jsx)("div",{ref:a,className:"w-full flex items-center gap-3 my-12 scroll-smooth ".concat(n?"overflow-x-scroll scrollbar-none":"overflow-x-hidden flex-wrap justify-center"),children:r&&r.length>0?r.map((function(e){return(0,Vs.jsxs)(Ps.div,{className:"w-300 h-[250px] min-w-[300px] md:w-340 md:min-w-[340px]  bg-cardOverlay rounded-lg p-2 my-12 backdrop-blur-lg hover:drop-shadow-lg flex flex-col items-center justify-between",whileHover:{scale:1.2,zIndex:2},onClick:function(){},children:[(0,Vs.jsx)(Gu,{item:e}),(0,Vs.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,Vs.jsx)(Ps.div,{className:"w-40 h-40 -mt:8 drop-shadow-2xl",whileHover:{scale:1.2},children:(0,Vs.jsx)("img",{src:null===e||void 0===e?void 0:e.imageURL,alt:"",className:"w-full h-full object-contain"})}),(0,Vs.jsx)(Ps.div,{whileTap:{scale:.75},className:"w-8 h-8 rounded-full bg-red-600 flex items-center justify-center cursor-pointer hover:shadow-md",onClick:function(){return u([].concat(fn(f),[e]))},children:(0,Vs.jsx)(b,{className:"text-white"})})]}),(0,Vs.jsxs)("div",{className:"w-full flex flex-col items-end justify-end",children:[(0,Vs.jsx)("p",{className:"text-textColor font-semibold text-base md:text-lg",children:null===e||void 0===e?void 0:e.title}),(0,Vs.jsxs)("p",{className:"mt-2 text-sm text-gray-500 ",children:["Calories: ",null===e||void 0===e?void 0:e.calories]}),(0,Vs.jsx)("div",{className:"flex items-center gap-8",children:(0,Vs.jsxs)("p",{className:"text-lg text-headingColorading font-semibold ",children:[(0,Vs.jsx)("span",{className:"text-sm text-red-500 ",children:"Rs."})," ",null===e||void 0===e?void 0:e.price]})})]})]},e.id)})):(0,Vs.jsxs)("div",{className:"w-full flex items-center justify-center",children:[(0,Vs.jsx)("img",{src:ju,className:"h-340 "}),(0,Vs.jsx)("p",{className:"text-xl text-headingColor font-semibold my-2",children:"Items Not Available"})]})})};function Xu(e){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368 128h.09m111.46-32h-91.06l8.92-35.66 38.32-13.05c8.15-2.77 13-11.43 10.65-19.71a16 16 0 00-20.54-10.73l-47 16a16 16 0 00-10.36 11.27L355.51 96H224.45c-8.61 0-16 6.62-16.43 15.23A16 16 0 00224 128h2.75l1 8.66A8.3 8.3 0 00236 144c39 0 73.66 10.9 100.12 31.52A121.9 121.9 0 01371 218.07a123.4 123.4 0 0110.12 29.51 7.83 7.83 0 003.29 4.88 72 72 0 0126.38 86.43 7.92 7.92 0 00-.15 5.53A96 96 0 01416 376c0 22.34-7.6 43.63-21.4 59.95a80.12 80.12 0 01-28.78 21.67 8 8 0 00-4.21 4.37 108.19 108.19 0 01-17.37 29.86 2.5 2.5 0 001.9 4.11h49.21a48.22 48.22 0 0047.85-44.14L477.4 128h2.6a16 16 0 0016-16.77c-.42-8.61-7.84-15.23-16.45-15.23z"}},{tag:"path",attr:{d:"M108.69 320a23.87 23.87 0 0117 7l15.51 15.51a4 4 0 005.66 0L162.34 327a23.87 23.87 0 0117-7h196.58a8 8 0 008.08-7.92V312a40.07 40.07 0 00-32-39.2c-.82-29.69-13-54.54-35.51-72C295.67 184.56 267.85 176 236 176h-72c-68.22 0-114.43 38.77-116 96.8A40.07 40.07 0 0016 312a8 8 0 008 8zm77.25 32a8 8 0 00-5.66 2.34l-22.14 22.15a20 20 0 01-28.28 0l-22.14-22.15a8 8 0 00-5.66-2.34h-69.4a15.93 15.93 0 00-15.76 13.17A65.22 65.22 0 0016 376c0 30.59 21.13 55.51 47.26 56 2.43 15.12 8.31 28.78 17.16 39.47C93.51 487.28 112.54 496 134 496h132c21.46 0 40.49-8.72 53.58-24.55 8.85-10.69 14.73-24.35 17.16-39.47 26.13-.47 47.26-25.39 47.26-56a65.22 65.22 0 00-.9-10.83A15.93 15.93 0 00367.34 352z"}}]})(e)}var Yu=function(){var t=l((0,e.useState)("chicken"),2),n=t[0],r=t[1],i=l(Bs(),2),a=i[0].foodItems;i[1];return(0,Vs.jsx)("section",{className:"w-full my-6",id:"menu",children:(0,Vs.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[(0,Vs.jsx)("p",{className:"text-2xl  font-semibold capitalize text-headingColor relative before:absolute before:rounded-lg before:content before:w-16 before:h-1 before:-bottom-2 before:left-0 before:bg-gradient-to-tr from-orange-400 to-orange-600 transition-all ease-in-out duration-100 mr-auto",children:"Our Hot Dishes"}),(0,Vs.jsx)("div",{className:"w-full flex items-center justify-start lg:justify-center gap-8 py-6 overflow-x-scroll scrollbar-none ",children:Lu&&Lu.map((function(e){return(0,Vs.jsxs)(Ps.div,{whileTap:{scale:.75},className:"group ".concat(n===e.urlParamName?"bg-cartNumBg":"bg-white"," w-24 min-w-[94px] h-28 cursor-pointer rounded-lg drop-shadow-xl flex flex-col gap-3 items-center justify-center hover:bg-cartNumBg duration-150 transition-all ease-in-out "),children:[(0,Vs.jsx)("div",{className:"w-10 h-10 rounded-full shadow-lg ".concat(n===e.urlParamName?"bg-white":"bg-cartNumBg"," group-hover:bg-white flex items-center justify-center "),onClick:function(){return r(e.urlParamName)},children:(0,Vs.jsx)(Xu,{className:"".concat(n===e.urlParamName?"text-textColor":"text-white"," group-hover: text-textColor text-lg ")})}),(0,Vs.jsx)("p",{className:"text-sm ".concat(n===e.urlParamName?"text-white":"text-textColor"," group-hover:text-white"),children:e.name})]},e.id)}))}),(0,Vs.jsx)("div",{className:"w-full ",children:(0,Vs.jsx)(Qu,{flag:!1,data:null===a||void 0===a?void 0:a.filter((function(e){return e.category===n}))})})]})})};function $u(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm4.82-4.924A7 7 0 0 0 9.032 5.658l.975 1.755A5 5 0 0 1 17 12h-3l2.82 5.076zm-1.852 1.266l-.975-1.755A5 5 0 0 1 7 12h3L7.18 6.924a7 7 0 0 0 7.788 11.418z"}}]}]})(e)}var Ju=n.p+"static/media/emptyCart.71ad17e692d71caa77c6c9351f84756b.svg",Zu=function(){var t=l(Bs(),2),n=t[0],r=n.cartShow,i=n.cartItems,a=n.user,o=t[1],s=l((0,e.useState)(1),2),u=s[0],c=s[1],f=l((0,e.useState)(0),2),h=f[0],d=f[1];(0,e.useEffect)((function(){var e=i.reduce((function(e,t){return e+t.qty*t.price}),0);d(e)}),[h,u]);return(0,Vs.jsxs)(Ps.div,{initial:{opacity:0,x:200},animate:{opacity:1,x:0},exit:{opacity:0,x:200},className:"fixed top-0 right-0 w-full md:w-375 h-screen bg-white drop-shadow-md flex flex-col z-[101]",children:[(0,Vs.jsxs)("div",{className:"w-full flex items-center justify-between p-4",onClick:function(){o({type:Ms,cartShow:!r})},children:[(0,Vs.jsx)(Ps.div,{whileTap:{scale:.75},children:(0,Vs.jsx)(C,{className:"text-textColor text-3xl cursor-pointer"})}),(0,Vs.jsx)("p",{className:"text-textColor text-lg font-semibold",children:"Cart"}),(0,Vs.jsxs)(Ps.p,{whileTap:{scale:.75},className:"flex items-center gap-2 p-1 px-2 my-2 bg-gray-100 rounded-md hover:shadow-md cursor-pointer text-textColor text-base",children:["Clear ",(0,Vs.jsx)($u,{})]})]}),i&&i.length>0?(0,Vs.jsxs)("div",{className:"w-full h-full bg-cartBg rounded-t-[2rem] flex flex-col",children:[(0,Vs.jsx)("div",{className:"w-full h-340 md:h-42 px-6 py-10 flex flex-col gap-3 overflow-y-scroll scrollbar-none",children:i&&i.map((function(e){return(0,Vs.jsx)(V_,{item:e,setFlag:c,flag:u},e.id)}))}),(0,Vs.jsxs)("div",{className:"w-full flex-1 bg-cartTotal rounded-t-[2rem] flex flex-col items-center justify-evenly px-8 py-2",children:[(0,Vs.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,Vs.jsx)("p",{className:"text-gray-400 text-lg",children:"Sub Total"}),(0,Vs.jsxs)("p",{className:"text-gray-400 text-lg",children:["Rs. ",h]})]}),(0,Vs.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,Vs.jsx)("p",{className:"text-gray-400 text-lg",children:"Delivery"}),(0,Vs.jsx)("p",{className:"text-gray-400 text-lg",children:"Rs. 20"})]}),(0,Vs.jsx)("div",{className:"w-full border-b border-gray-600 my-2"}),(0,Vs.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,Vs.jsx)("p",{className:"text-gray-200 text-xl font-semibold",children:"Total"}),(0,Vs.jsxs)("p",{className:"text-gray-200 text-xl font-semibold",children:["Rs. ",h+20]})]}),a?(0,Vs.jsx)(Ps.button,{whileTap:{scale:.8},type:"button",className:"w-full p-2 rounded-full bg-gradient-to-tr from-orange-400 to-orange-600 text-gray-50 text-lg my-2 hover:shadow-lg",children:"Check Out"}):(0,Vs.jsx)(Ps.button,{whileTap:{scale:.8},type:"button",className:"w-full p-2 rounded-full bg-gradient-to-tr from-orange-400 to-orange-600 text-gray-50 text-lg my-2 hover:shadow-lg",children:"LogIn"})]})]}):(0,Vs.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center gap-6",children:[(0,Vs.jsx)("img",{src:Ju,className:"w-300",alt:""}),(0,Vs.jsx)("p",{className:"text-xl text-textColor font-semibold",children:"Add some items to your cart"})]})]})},el=function(){var t=l(Bs(),2),n=t[0],r=n.foodItems,i=n.cartShow,a=(t[1],l((0,e.useState)(0),2)),o=a[0],s=a[1];return(0,e.useEffect)((function(){}),[o,i]),(0,Vs.jsxs)("div",{className:"w-full h-auto flex flex-col items-center justify-center overflow-x-hidden",children:[(0,Vs.jsx)(Mu,{}),(0,Vs.jsxs)("section",{className:"w-full my-6",children:[(0,Vs.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,Vs.jsx)("p",{className:"text-2xl  font-semibold capitalize text-headingColor relative before:absolute before:rounded-lg before:content before:w-32 before:h-1 before:-bottom-2 before:left-0 before:bg-gradient-to-tr from-orange-400 to-orange-600 transition-all ease-in-out duration-100",children:"Fresh & healthy foods"}),(0,Vs.jsxs)("div",{className:"hidden md:flex gap-3 items-center ",children:[(0,Vs.jsx)(Ps.div,{whileTap:{scale:.75},className:"w-8 h-8 rounded-lg bg-orange-300 hover:bg-orange-500 cursor-pointer hover: shadow-lg flex items-center justify-center",onClick:function(){return s(-200)},children:(0,Vs.jsx)(_,{className:"text-lg text-white"})}),(0,Vs.jsx)(Ps.div,{whileTap:{scale:.75},className:"w-8 h-8 rounded-lg bg-orange-300 hover:bg-orange-500 cursor-pointer transition-all duration-100 ease-in-out hover: shadow-lg flex items-center justify-center",onClick:function(){return s(200)},children:(0,Vs.jsx)(S,{className:"text-lg text-white"})})]})]}),(0,Vs.jsx)(Qu,{scrollValue:o,flag:!0,data:null===r||void 0===r?void 0:r.filter((function(e){return"fruits"===e.category}))})]}),(0,Vs.jsx)(Yu,{}),i&&(0,Vs.jsx)(Zu,{})]})},tl=function(){return(0,Vs.jsxs)("svg",{class:"inline mr-2 w-10 h-10 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Vs.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,Vs.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})};function nl(e,t,n){return nl=ae()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ne(i,n.prototype),i},nl.apply(null,arguments)}function rl(e){var t="function"===typeof Map?new Map:void 0;return rl=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return nl(e,arguments,ie(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ne(n,e)},rl(e)}var il=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},al={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(il(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ol=function(e){return function(e){var t=il(e);return al.encodeByteArray(t,!0)}(e).replace(/\./g,"")},sl=function(e){try{return al.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ul(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ll(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var cl=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},fl=function(){try{return cl()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&sl(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},hl=function(e){var t,n;return null===(n=null===(t=fl())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},dl=function(e){var t=hl(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},pl=function(){var e;return null===(e=fl())||void 0===e?void 0:e.config},vl=function(e){var t;return null===(t=fl())||void 0===t?void 0:t["_".concat(e)]},ml=function(){function e(){var t=this;Z(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return te(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function gl(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ol(JSON.stringify({alg:"none",type:"JWT"})),ol(JSON.stringify(a)),""].join(".")}var yl=function(e){re(n,e);var t=ue(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(oe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(oe(a),kl.prototype.create),a}return te(n)}(rl(Error)),kl=function(){function e(t,n,r){Z(this,e),this.service=t,this.serviceName=n,this.errors=r}return te(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?bl(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new yl(n,a,t);return o}}]),e}();function bl(e,t){return e.replace(wl,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var wl=/\{\$([^}]+)}/g;function xl(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(El(s)&&El(u)){if(!xl(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function El(e){return null!==e&&"object"===typeof e}function _l(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Sl(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Tl(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Cl=function(){function e(t,n){var r=this;Z(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return te(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=we(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Il),void 0===r.error&&(r.error=Il),void 0===r.complete&&(r.complete=Il);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Il(){}function Nl(e){return e&&e._delegate?e._delegate:e}var Al=function(){function e(t,n,r){Z(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return te(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Rl="[DEFAULT]",Pl=function(){function e(t,n){Z(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return te(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ml;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch(u){}var t,n=we(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(fn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),fn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=we(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(IE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Rl?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(IE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl;return this.component?this.component.multipleInstances?e:Rl:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ol,Dl,Ll=function(){function e(t){Z(this,e),this.name=t,this.providers=new Map}return te(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Pl(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ml=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dl||(Dl={}));var jl={debug:Dl.DEBUG,verbose:Dl.VERBOSE,info:Dl.INFO,warn:Dl.WARN,error:Dl.ERROR,silent:Dl.SILENT},Ul=Dl.INFO,Vl=(N(Ol={},Dl.DEBUG,"log"),N(Ol,Dl.VERBOSE,"log"),N(Ol,Dl.INFO,"info"),N(Ol,Dl.WARN,"warn"),N(Ol,Dl.ERROR,"error"),Ol),Fl=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Vl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},zl=function(){function e(t){Z(this,e),this.name=t,this._logLevel=Ul,this._logHandler=Fl,this._userLogHandler=null,Ml.push(this)}return te(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Dl))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?jl[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dl.DEBUG].concat(t)),this._logHandler.apply(this,[this,Dl.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dl.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Dl.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dl.INFO].concat(t)),this._logHandler.apply(this,[this,Dl.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dl.WARN].concat(t)),this._logHandler.apply(this,[this,Dl.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Dl.ERROR].concat(t)),this._logHandler.apply(this,[this,Dl.ERROR].concat(t))}}]),e}();var Bl,Hl;var ql=new WeakMap,Wl=new WeakMap,Kl=new WeakMap,Gl=new WeakMap,Ql=new WeakMap;var Xl={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Wl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jl(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Yl(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Hl||(Hl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Zl(this),n),Jl(ql.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jl(e.apply(Zl(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Zl(this),t].concat(r));return Kl.set(a,t.sort?t.sort():[t]),Jl(a)}}function $l(e){return"function"===typeof e?Yl(e):(e instanceof IDBTransaction&&function(e){if(!Wl.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Wl.set(e,t)}}(e),t=e,(Bl||(Bl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Xl):e);var t}function Jl(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Jl(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ql.set(t,e)})).catch((function(){})),Ql.set(t,e),t}(e);if(Gl.has(e))return Gl.get(e);var t=$l(e);return t!==e&&(Gl.set(e,t),Ql.set(t,e)),t}var Zl=function(e){return Ql.get(e)};var ec,tc,nc=["get","getKey","getAll","getAllKeys","count"],rc=["put","add","delete","clear"],ic=new Map;function ac(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ic.get(t))return ic.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,a=rc.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(a||nc.includes(n))){var s=function(){var e=o(i().mark((function e(t){var o,s,u,l,c,f,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,a?"readwrite":"readonly"),u=s.store,l=h.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=h[f];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(o=u)[n].apply(o,c),a&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ic.set(t,s),s}}}Xl=function(e){return R(R({},e),{},{get:function(t,n,r){return ac(t,n)||e.get(t,n,r)},has:function(t,n){return!!ac(t,n)||e.has(t,n)}})}(Xl);var oc=function(){function e(t){Z(this,e),this.container=t}return te(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var sc="@firebase/app",uc="0.8.3",lc=new zl("@firebase/app"),cc="[DEFAULT]",fc=(N(ec={},sc,"fire-core"),N(ec,"@firebase/app-compat","fire-core-compat"),N(ec,"@firebase/analytics","fire-analytics"),N(ec,"@firebase/analytics-compat","fire-analytics-compat"),N(ec,"@firebase/app-check","fire-app-check"),N(ec,"@firebase/app-check-compat","fire-app-check-compat"),N(ec,"@firebase/auth","fire-auth"),N(ec,"@firebase/auth-compat","fire-auth-compat"),N(ec,"@firebase/database","fire-rtdb"),N(ec,"@firebase/database-compat","fire-rtdb-compat"),N(ec,"@firebase/functions","fire-fn"),N(ec,"@firebase/functions-compat","fire-fn-compat"),N(ec,"@firebase/installations","fire-iid"),N(ec,"@firebase/installations-compat","fire-iid-compat"),N(ec,"@firebase/messaging","fire-fcm"),N(ec,"@firebase/messaging-compat","fire-fcm-compat"),N(ec,"@firebase/performance","fire-perf"),N(ec,"@firebase/performance-compat","fire-perf-compat"),N(ec,"@firebase/remote-config","fire-rc"),N(ec,"@firebase/remote-config-compat","fire-rc-compat"),N(ec,"@firebase/storage","fire-gcs"),N(ec,"@firebase/storage-compat","fire-gcs-compat"),N(ec,"@firebase/firestore","fire-fst"),N(ec,"@firebase/firestore-compat","fire-fst-compat"),N(ec,"fire-js","fire-js"),N(ec,"firebase","fire-js-all"),ec),hc=new Map,dc=new Map;function pc(e,t){try{e.container.addComponent(t)}catch(n){lc.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function vc(e){var t=e.name;if(dc.has(t))return lc.debug("There were multiple attempts to register component ".concat(t,".")),!1;dc.set(t,e);var n,r=we(hc.values());try{for(r.s();!(n=r.n()).done;){pc(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function mc(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var gc=(N(tc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),N(tc,"bad-app-name","Illegal App name: '{$appName}"),N(tc,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),N(tc,"app-deleted","Firebase App named '{$appName}' already deleted"),N(tc,"no-options","Need to provide options, when not being deployed to hosting via source."),N(tc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),N(tc,"invalid-log-argument","First argument to `onLog` must be null or a function."),N(tc,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),N(tc,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),N(tc,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),N(tc,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),tc),yc=new kl("app","Firebase",gc),kc=function(){function e(t,n,r){var i=this;Z(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Al("app",(function(){return i}),"PUBLIC"))}return te(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw yc.create("app-deleted",{appName:this._name})}}]),e}(),bc="9.13.0";function wc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:cc,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw yc.create("bad-app-name",{appName:String(a)});if(n||(n=pl()),!n)throw yc.create("no-options");var o=hc.get(a);if(o){if(xl(n,o.options)&&xl(i,o.config))return o;throw yc.create("duplicate-app",{appName:a})}var s,u=new Ll(a),l=we(dc.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(h){l.e(h)}finally{l.f()}var f=new kc(n,i,u);return hc.set(a,f),f}function xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cc,t=hc.get(e);if(!t&&e===cc)return wc();if(!t)throw yc.create("no-app",{appName:e});return t}function Ec(e,t,n){var r,i=null!==(r=fc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void lc.warn(s.join(" "))}vc(new Al("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var _c="firebase-heartbeat-store",Sc=null;function Tc(){return Sc||(Sc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Jl(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Jl(s.result),e.oldVersion,e.newVersion,Jl(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(_c)}}).catch((function(e){throw yc.create("idb-open",{originalErrorMessage:e.message})}))),Sc}function Cc(e){return Ic.apply(this,arguments)}function Ic(){return Ic=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tc();case 3:return r=e.sent,e.abrupt("return",r.transaction(_c).objectStore(_c).get(Rc(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof yl?lc.warn(e.t0.message):(a=yc.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),lc.warn(a.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ic.apply(this,arguments)}function Nc(e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=o(i().mark((function e(t,n){var r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tc();case 3:return a=e.sent,o=a.transaction(_c,"readwrite"),s=o.objectStore(_c),e.next=8,s.put(n,Rc(t));case 8:return e.abrupt("return",o.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof yl?lc.warn(e.t0.message):(u=yc.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),lc.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ac.apply(this,arguments)}function Rc(e){return"".concat(e.name,"!").concat(e.options.appId)}var Pc=function(){function e(t){var n=this;Z(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Mc(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return te(e,[{key:"triggerHeartbeat",value:function(){var e=o(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Oc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=o(i().mark((function e(){var t,n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Oc(),n=Dc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,a=n.unsentEntries,o=ol(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Oc(){return(new Date).toISOString().substring(0,10)}function Dc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=we(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),jc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),jc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Lc,Mc=function(){function e(t){Z(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return te(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Cc(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Nc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Nc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(fn(r.heartbeats),fn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function jc(e){return ol(JSON.stringify({version:2,heartbeats:e})).length}Lc="",vc(new Al("platform-logger",(function(e){return new oc(e)}),"PRIVATE")),vc(new Al("heartbeat",(function(e){return new Pc(e)}),"PRIVATE")),Ec(sc,uc,Lc),Ec(sc,uc,"esm2017"),Ec("fire-js","");var Uc="firebasestorage.googleapis.com",Vc=function(e){re(n,e);var t=ue(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Z(this,n),(i=t.call(this,Fc(e),"Firebase Storage: ".concat(r," (").concat(Fc(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(oe(i),n.prototype),i}return te(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Fc(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(yl);function Fc(e){return"storage/"+e}function zc(){return new Vc("unknown","An unknown error occurred, please check the error payload for server response.")}function Bc(){return new Vc("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Hc(){return new Vc("canceled","User canceled the upload/download.")}function qc(){return new Vc("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Wc(e){return new Vc("invalid-argument",e)}function Kc(){return new Vc("app-deleted","The Firebase app was deleted.")}function Gc(e,t){return new Vc("invalid-format","String does not match format '"+e+"': "+t)}function Qc(e){throw new Vc("internal-error","Internal error: "+e)}var Xc,Yc=function(){function e(t,n){Z(this,e),this.bucket=t,this.path_=n}return te(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Vc("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Uc?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new Vc("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),$c=function(){function e(t){Z(this,e),this.promise_=Promise.reject(t)}return te(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Jc(e){return"string"===typeof e||e instanceof String}function Zc(e){return ef()&&e instanceof Blob}function ef(){return"undefined"!==typeof Blob&&!ll()}function tf(e,t,n,r){if(r<t)throw Wc("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Wc("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function nf(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function rf(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function af(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Xc||(Xc={}));var of=function(){function e(t,n,r,i,a,o,s,u,l,c,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];Z(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return te(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=zc();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Kc():Hc());else i(Bc())}};this.canceled_?t(0,new sf(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),l||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new sf(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Xc.NO_ERROR,a=r.getStatus();if(n&&!af(a,e.additionalRetryCodes_)||!e.retry){var o=-1!==e.successCodes_.indexOf(a);t(!0,new sf(o,r))}else{var s=r.getErrorCode()===Xc.ABORT;t(!1,new sf(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),sf=te((function e(t,n,r){Z(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function uf(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function lf(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function cf(e,t){t&&(e["X-Firebase-GMPID"]=t)}function ff(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function hf(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=rf(e.urlParams),u=e.url+s,l=Object.assign({},e.headers);return cf(l,t),uf(l,n),lf(l,a),ff(l,r),new of(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function df(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function pf(){for(var e=df(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ef())return new Blob(n);throw new Vc("unsupported-environment","This browser doesn't seem to support creating Blobs")}var vf="raw",mf="base64",gf="base64url",yf="data_url",kf=te((function e(t,n){Z(this,e),this.data=t,this.contentType=n||null}));function bf(e,t){switch(e){case vf:return new kf(wf(t));case mf:case gf:return new kf(xf(e,t));case yf:return new kf(function(e){var t=new Ef(e);return t.base64?xf(mf,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Gc(yf,"Malformed data URL.")}return wf(t)}(t.rest)}(t),new Ef(t).contentType)}throw zc()}function wf(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function xf(e,t){switch(e){case mf:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Gc(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case gf:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Gc(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(l){throw Gc(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Ef=te((function e(t){Z(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Gc(yf,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var _f=function(){function e(t,n){Z(this,e);var r=0,i="";Zc(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return te(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Zc(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ef()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(pf.apply(null,i))}var a=n.map((function(e){return Jc(e)?bf(vf,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Sf(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Tf(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Cf(e,t){return t}var If=te((function e(t,n,r,i){Z(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Cf})),Nf=null;function Af(){if(Nf)return Nf;var e=[];e.push(new If("bucket")),e.push(new If("generation")),e.push(new If("metageneration")),e.push(new If("name","fullPath",!0));var t=new If("name");t.xform=function(e,t){return function(e){return!Jc(e)||e.length<2?e:Tf(e)}(t)},e.push(t);var n=new If("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new If("timeCreated")),e.push(new If("updated")),e.push(new If("md5Hash",null,!0)),e.push(new If("cacheControl",null,!0)),e.push(new If("contentDisposition",null,!0)),e.push(new If("contentEncoding",null,!0)),e.push(new If("contentLanguage",null,!0)),e.push(new If("contentType",null,!0)),e.push(new If("metadata","customMetadata",!0)),Nf=e}function Rf(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Yc(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Pf(e,t,n){var r=Sf(t);return null===r?null:Rf(e,r,n)}function Of(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Df=te((function e(t,n,r,i){Z(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Lf(e){if(!e)throw zc()}function Mf(e,t){return function(n,r){var i=Pf(e,r,t);return Lf(null!==i),i}}function jf(e,t){return function(n,r){var i=Pf(e,r,t);return Lf(null!==i),function(e,t,n,r){var i=Sf(t);if(null===i)return null;if(!Jc(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return nf("/b/"+o(i)+"/o/"+o(a),n,r)+rf({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Uf(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Vc("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Vc("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Vc("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Vc("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Vf(e){var t=Uf(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Vc("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Ff(e,t,n){var r=nf(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Df(r,"GET",Mf(e,n),i);return a.errorHandler=Vf(t),a}function zf(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Bf(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=zf(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Of(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=_f.getBlob(l,r,c);if(null===f)throw qc();var h={name:u.fullPath},d=nf(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Df(d,"POST",Mf(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Uf(t),v}var Hf=te((function e(t,n,r,i){Z(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function qf(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Lf(!1)}return Lf(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Wf=262144;function Kf(e,t,n,r,i,a,o,s){var u=new Hf(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Vc("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d={"X-Goog-Upload-Command":0===c?"finalize":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw qc();var v=t.maxUploadRetryTime,m=new Df(n,"POST",(function(e,n){var i,o=qf(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===o?Mf(t,a)(e,n):null,new Hf(s,l,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Uf(e),m}var Gf="running",Qf="paused",Xf="success",Yf="canceled",$f="error";function Jf(e){switch(e){case"running":case"pausing":case"canceling":return Gf;case"paused":return Qf;case"success":return Xf;case"canceled":return Yf;default:return $f}}var Zf=te((function e(t,n,r){Z(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function eh(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var th=function(){function e(){var t=this;Z(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xc.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Xc.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Xc.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return te(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Qc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Qc("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Qc("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Qc("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Qc("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),nh=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.apply(this,arguments)}return te(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(th);function rh(){return new nh}var ih=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Z(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Af(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled"))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(af(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=Bc()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return te(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=zf(t,r,i),s={name:o.fullPath},u=nf(a,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=Of(o,n),f=e.maxUploadRetryTime,h=new Df(u,"POST",(function(e){var t;qf(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Lf(!1)}return Lf(Jc(t)),t}),f);return h.urlParams=s,h.headers=l,h.body=c,h.errorHandler=Uf(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,rh,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Df(n,"POST",(function(e){var t=qf(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Lf(!1)}n||Lf(!1);var i=Number(n);return Lf(!isNaN(i)),new Hf(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Uf(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,rh,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Wf*this._chunkMultiplier,n=new Hf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Kf(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,rh,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(Wf*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Ff(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,rh,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Bf(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,rh,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Hc(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Jf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Zf(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Jf(this._state)){case Xf:eh(this._resolve.bind(null,this.snapshot))();break;case Yf:case $f:eh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Jf(this._state)){case Gf:case Qf:e.next&&eh(e.next.bind(e,this.snapshot))();break;case Xf:e.complete&&eh(e.complete.bind(e))();break;default:e.error&&eh(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),ah=function(){function e(t,n){Z(this,e),this._service=t,this._location=n instanceof Yc?n:Yc.makeFromUrl(n,t.host)}return te(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Yc(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Tf(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Yc(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Vc("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function oh(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=nf(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Df(r,"GET",jf(e,n),i);return a.errorHandler=Vf(t),a}(e.storage,e._location,Af());return e.storage.makeRequestWithTokens(t,rh).then((function(e){if(null===e)throw new Vc("no-download-url","The given file does not have any download URLs.");return e}))}function sh(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=nf(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Df(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Vf(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,rh)}function uh(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Yc(e._location.bucket,n);return new ah(e.storage,r)}function lh(e,t){if(e instanceof dh){var n=e;if(null==n._bucket)throw new Vc("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new ah(n,n._bucket);return null!=t?lh(r,t):r}return void 0!==t?uh(e,t):e}function ch(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof dh)return new ah(e,t);throw Wc("To use ref(service, url), the first argument must be a Storage instance.")}return lh(e,t)}function fh(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Yc.makeFromBucketSpec(n,e)}function hh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:gl(i,e.app.options.projectId))}var dh=function(){function e(t,n,r,i,a){Z(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Uc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Yc.makeFromBucketSpec(i,this._host):fh(this._host,this.app.options)}return te(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Yc.makeFromBucketSpec(this._url,e):this._bucket=fh(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){tf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){tf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=o(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=o(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new ah(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new $c(Kc());var o=hf(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=o(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=l(r,2),o=a[0],s=a[1],e.abrupt("return",this._makeRequest(t,n,o,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ph="@firebase/storage",vh="0.9.13",mh="storage";function gh(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ih(e,new _f(t),n)}(e=Nl(e),t,n)}function yh(e,t){return ch(e=Nl(e),t)}function kh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};hh(e,t,n,r)}function bh(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new dh(r,i,a,n,bc)}vc(new Al(mh,bh,"PUBLIC").setMultipleInstances(!0)),Ec(ph,vh,""),Ec(ph,vh,"esm2017");function wh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}function xh(){return xh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=wh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xh.apply(this,arguments)}Ec("firebase","9.13.0","app");var Eh,_h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Sh={},Th=Th||{},Ch=_h||self;function Ih(){}function Nh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ah(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rh="closure_uid_"+(1e9*Math.random()>>>0),Ph=0;function Oh(e,t,n){return e.call.apply(e.bind,arguments)}function Dh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Lh(e,t,n){return(Lh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oh:Dh).apply(null,arguments)}function Mh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function jh(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Uh(){this.s=this.s,this.o=this.o}Uh.prototype.s=!1,Uh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Rh)&&e[Rh]||(e[Rh]=++Ph)}(this)},Uh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Vh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Fh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function zh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Nh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Bh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bh.prototype.h=function(){this.defaultPrevented=!0};var Hh=function(){if(!Ch.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ch.addEventListener("test",Ih,t),Ch.removeEventListener("test",Ih,t)}catch(Qr){}return e}();function qh(e){return/^[\s\xa0]*$/.test(e)}var Wh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Kh(e,t){return e<t?-1:e>t?1:0}function Gh(){var e=Ch.navigator;return e&&(e=e.userAgent)?e:""}function Qh(e){return-1!=Gh().indexOf(e)}function Xh(e){return Xh[" "](e),e}Xh[" "]=Ih;var Yh,$h=Qh("Opera"),Jh=Qh("Trident")||Qh("MSIE"),Zh=Qh("Edge"),ed=Zh||Jh,td=Qh("Gecko")&&!(-1!=Gh().toLowerCase().indexOf("webkit")&&!Qh("Edge"))&&!(Qh("Trident")||Qh("MSIE"))&&!Qh("Edge"),nd=-1!=Gh().toLowerCase().indexOf("webkit")&&!Qh("Edge");function rd(){var e=Ch.document;return e?e.documentMode:void 0}e:{var id="",ad=function(){var e=Gh();return td?/rv:([^\);]+)(\)|;)/.exec(e):Zh?/Edge\/([\d\.]+)/.exec(e):Jh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nd?/WebKit\/(\S+)/.exec(e):$h?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ad&&(id=ad?ad[1]:""),Jh){var od=rd();if(null!=od&&od>parseFloat(id)){Yh=String(od);break e}}Yh=id}var sd,ud={};function ld(){return function(e){var t=ud;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Wh(String(Yh)).split("."),n=Wh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Kh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Kh(0==a[2].length,0==o[2].length)||Kh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ch.document&&Jh){var cd=rd();sd=cd||(parseInt(Yh,10)||void 0)}else sd=void 0;var fd=sd;function hd(e,t){if(Bh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(td){e:{try{Xh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:dd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hd.X.h.call(this)}}jh(hd,Bh);var dd={2:"touch",3:"pen",4:"mouse"};hd.prototype.h=function(){hd.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var pd="closure_listenable_"+(1e6*Math.random()|0),vd=0;function md(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++vd,this.ba=this.ea=!1}function gd(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function yd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function kd(e){var t={};for(var n in e)t[n]=e[n];return t}var bd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<bd.length;a++)n=bd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xd(e){this.src=e,this.g={},this.h=0}function Ed(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Vh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(gd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _d(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}xd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=_d(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new md(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Sd="closure_lm_"+(1e6*Math.random()|0),Td={};function Cd(e,t,n,r,i){if(r&&r.once)return Nd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Cd(e,t[a],n,r,i);return null}return n=Md(n),e&&e[pd]?e.N(t,n,Ah(r)?!!r.capture:!!r,i):Id(e,t,n,!1,r,i)}function Id(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ah(i)?!!i.capture:!!i,s=Dd(e);if(s||(e[Sd]=s=new xd(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Od;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Pd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Nd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Nd(e,t[a],n,r,i);return null}return n=Md(n),e&&e[pd]?e.O(t,n,Ah(r)?!!r.capture:!!r,i):Id(e,t,n,!0,r,i)}function Ad(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ad(e,t[a],n,r,i);else r=Ah(r)?!!r.capture:!!r,n=Md(n),e&&e[pd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=_d(a=e.g[t],n,r,i))&&(gd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Dd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_d(t,n,r,i)),(n=-1<e?t[e]:null)&&Rd(n))}function Rd(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[pd])Ed(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Dd(t))?(Ed(n,e),0==n.h&&(n.src=null,t[Sd]=null)):gd(e)}}}function Pd(e){return e in Td?Td[e]:Td[e]="on"+e}function Od(e,t){if(e.ba)e=!0;else{t=new hd(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Rd(e),e=n.call(r,t)}return e}function Dd(e){return(e=e[Sd])instanceof xd?e:null}var Ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function Md(e){return"function"===typeof e?e:(e[Ld]||(e[Ld]=function(t){return e.handleEvent(t)}),e[Ld])}function jd(){Uh.call(this),this.i=new xd(this),this.P=this,this.I=null}function Ud(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Bh(t,e);else if(t instanceof Bh)t.target=t.target||e;else{var i=t;wd(t=new Bh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Vd(o,r,!0,t)&&i}if(i=Vd(o=t.g=e,r,!0,t)&&i,i=Vd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Vd(o=t.g=n[a],r,!1,t)&&i}function Vd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Ed(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}jh(jd,Uh),jd.prototype[pd]=!0,jd.prototype.removeEventListener=function(e,t,n,r){Ad(this,e,t,n,r)},jd.prototype.M=function(){if(jd.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gd(n[r]);delete t.g[e],t.h--}}this.I=null},jd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},jd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fd=Ch.JSON.stringify;function zd(){var e=Xd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bd,Hd=function(){function e(){Z(this,e),this.h=this.g=null}return te(e,[{key:"add",value:function(e,t){var n=qd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qd=new(function(){function e(t,n){Z(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return te(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Wd}),(function(e){return e.reset()})),Wd=function(){function e(){Z(this,e),this.next=this.g=this.h=null}return te(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Kd(e){Ch.setTimeout((function(){throw e}),0)}function Gd(e,t){Bd||function(){var e=Ch.Promise.resolve(void 0);Bd=function(){e.then(Yd)}}(),Qd||(Bd(),Qd=!0),Xd.add(e,t)}var Qd=!1,Xd=new Hd;function Yd(){for(var e;e=zd();){try{e.h.call(e.g)}catch(Qr){Kd(Qr)}var t=qd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qd=!1}function $d(e,t){jd.call(this),this.h=e||1,this.g=t||Ch,this.j=Lh(this.lb,this),this.l=Date.now()}function Jd(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Zd(e,t,n){if("function"===typeof e)n&&(e=Lh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Lh(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ch.setTimeout(e,t||0)}function ep(e){e.g=Zd((function(){e.g=null,e.i&&(e.i=!1,ep(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}jh($d,jd),(Eh=$d.prototype).ca=!1,Eh.R=null,Eh.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ud(this,"tick"),this.ca&&(Jd(this),this.start()))}},Eh.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Eh.M=function(){$d.X.M.call(this),Jd(this),delete this.g};var tp=function(e){re(n,e);var t=ue(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return te(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ep(this)}},{key:"M",value:function(){xh(ie(n.prototype),"M",this).call(this),this.g&&(Ch.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Uh);function np(e){Uh.call(this),this.h=e,this.g={}}jh(np,Uh);var rp=[];function ip(e,t,n,r){Array.isArray(n)||(n&&(rp[0]=n.toString()),n=rp);for(var i=0;i<n.length;i++){var a=Cd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ap(e){yd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rd(e)}),e),e.g={}}function op(){this.g=!0}function sp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Fd(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}np.prototype.M=function(){np.X.M.call(this),ap(this)},np.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},op.prototype.Aa=function(){this.g=!1},op.prototype.info=function(){};var up={},lp=null;function cp(){return lp=lp||new jd}function fp(e){Bh.call(this,up.Pa,e)}function hp(e){var t=cp();Ud(t,new fp(t))}function dp(e,t){Bh.call(this,up.STAT_EVENT,e),this.stat=t}function pp(e){var t=cp();Ud(t,new dp(t,e))}function vp(e,t){Bh.call(this,up.Qa,e),this.size=t}function mp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ch.setTimeout((function(){e()}),t)}up.Pa="serverreachability",jh(fp,Bh),up.STAT_EVENT="statevent",jh(dp,Bh),up.Qa="timingevent",jh(vp,Bh);var gp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},yp={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function kp(){}function bp(e){return e.h||(e.h=e.i())}function wp(){}kp.prototype.h=null;var xp,Ep={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _p(){Bh.call(this,"d")}function Sp(){Bh.call(this,"c")}function Tp(){}function Cp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new np(this),this.O=Np,e=ed?125:void 0,this.T=new $d(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ip}function Ip(){this.i=null,this.g="",this.h=!1}jh(_p,Bh),jh(Sp,Bh),jh(Tp,kp),Tp.prototype.g=function(){return new XMLHttpRequest},Tp.prototype.i=function(){return{}},xp=new Tp;var Np=45e3,Ap={},Rp={};function Pp(e,t,n){e.K=1,e.v=$p(Kp(t)),e.s=n,e.P=!0,Op(e,null)}function Op(e,t){e.F=Date.now(),jp(e),e.A=Kp(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),cv(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Ip,e.g=cm(e.l,n?t:null,!e.s),0<e.N&&(e.L=new tp(Lh(e.La,e,e.g),e.N)),ip(e.S,e.g,"readystatechange",e.ib),t=e.H?kd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),hp(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Dp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Lp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Mp(e,n))==Rp){4==t&&(e.o=4,pp(14),i=!1),sp(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ap){e.o=4,pp(15),sp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sp(e.j,e.m,r,null),Bp(e,r)}Dp(e)&&r!=Rp&&r!=Ap&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),nm(t),t.K=!0,pp(11))):(sp(e.j,e.m,n,"[Invalid Chunked Response]"),zp(e),Fp(e))}function Mp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Rp:(n=Number(t.substring(n,r)),isNaN(n)?Ap:(r+=1)+n>t.length?Rp:(t=t.substr(r,n),e.C=r+n,t))}function jp(e){e.V=Date.now()+e.O,Up(e,e.O)}function Up(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=mp(Lh(e.gb,e),t)}function Vp(e){e.B&&(Ch.clearTimeout(e.B),e.B=null)}function Fp(e){0==e.l.G||e.I||am(e.l,e)}function zp(e){Vp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Jd(e.T),ap(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||gv(n.h,e)))if(!e.J&&gv(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;im(n),Qv(n)}tm(n),pp(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=mp(Lh(n.cb,n),6e3));if(1>=mv(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else sm(n,11)}else if((e.J||n.g==e)&&im(n),!qh(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(yv(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Yp(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=lm(r,r.H?r.ka:null,r.V),d.J){kv(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Vp(p),jp(p)),r.g=d}else em(r);0<n.i.length&&Yv(n)}else"stop"!=a[0]&&"close"!=a[0]||sm(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?sm(n,7):Gv(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}hp()}catch(a){}}function Hp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Nh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Nh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Eh=Cp.prototype).setTimeout=function(e){this.O=e},Eh.ib=function(e){e=e.target;var t=this.L;t&&3==zv(e)?t.l():this.La(e)},Eh.La=function(e){try{if(e==this.g)e:{var t=zv(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||ed||this.g&&(this.h.h||this.g.fa()||Bv(this.g)))){this.I||4!=t||7==n||hp(),Vp(this);var r=this.g.aa();this.Y=r;t:if(Dp(this)){var i=Bv(this.g);e="";var a=i.length,o=4==zv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zp(this),Fp(this);var s="";break t}this.h.i=new Ch.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qh(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,pp(12),zp(this),Fp(this);break e}sp(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bp(this,r)}this.P?(Lp(this,t,s),ed&&this.i&&3==t&&(ip(this.S,this.T,"tick",this.hb),this.T.start())):(sp(this.j,this.m,s,null),Bp(this,s)),4==t&&zp(this),this.i&&!this.I&&(4==t?am(this.l,this):(this.i=!1,jp(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,pp(12)):(this.o=0,pp(13)),zp(this),Fp(this)}}}catch(t){}},Eh.hb=function(){if(this.g){var e=zv(this.g),t=this.g.fa();this.C<t.length&&(Vp(this),Lp(this,e,t),this.i&&4!=e&&jp(this))}},Eh.cancel=function(){this.I=!0,zp(this)},Eh.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hp(),pp(17)),zp(this),this.o=2,Fp(this)):Up(this,this.V-e)};var qp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wp(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wp){this.h=void 0!==t?t:e.h,Gp(this,e.j),this.s=e.s,this.g=e.g,Qp(this,e.m),this.l=e.l,t=e.i;var n=new ov;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Xp(this,n),this.o=e.o}else e&&(n=String(e).match(qp))?(this.h=!!t,Gp(this,n[1]||"",!0),this.s=Jp(n[2]||""),this.g=Jp(n[3]||"",!0),Qp(this,n[4]),this.l=Jp(n[5]||"",!0),Xp(this,n[6]||"",!0),this.o=Jp(n[7]||"")):(this.h=!!t,this.i=new ov(null,this.h))}function Kp(e){return new Wp(e)}function Gp(e,t,n){e.j=n?Jp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Xp(e,t,n){t instanceof ov?(e.i=t,function(e,t){t&&!e.j&&(sv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(uv(this,t),cv(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Zp(t,iv)),e.i=new ov(t,e.h))}function Yp(e,t,n){e.i.set(t,n)}function $p(e){return Yp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Jp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ev),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ev(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zp(t,tv,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zp(t,tv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zp(n,"/"==n.charAt(0)?rv:nv,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zp(n,av)),e.join("")};var tv=/[#\/\?@]/g,nv=/[#\?:]/g,rv=/[#\?]/g,iv=/[#\?@]/g,av=/#/g;function ov(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sv(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function uv(e,t){sv(e),t=fv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function lv(e,t){return sv(e),t=fv(e,t),e.g.has(t)}function cv(e,t,n){uv(e,t),0<n.length&&(e.i=null,e.g.set(fv(e,t),Fh(n)),e.h+=n.length)}function fv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Eh=ov.prototype).add=function(e,t){sv(this),this.i=null,e=fv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Eh.forEach=function(e,t){sv(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Eh.oa=function(){sv(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Eh.W=function(e){sv(this);var t=[];if("string"===typeof e)lv(this,e)&&(t=t.concat(this.g.get(fv(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Eh.set=function(e,t){return sv(this),this.i=null,lv(this,e=fv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Eh.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Eh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var hv=te((function e(t,n){Z(this,e),this.h=t,this.g=n}));function dv(e){this.l=e||pv,Ch.PerformanceNavigationTiming?e=0<(e=Ch.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ch.g&&Ch.g.Ga&&Ch.g.Ga()&&Ch.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pv=10;function vv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function mv(e){return e.h?1:e.g?e.g.size:0}function gv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function yv(e,t){e.g?e.g.add(t):e.h=t}function kv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=we(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Fh(e.i)}function wv(){}function xv(){this.g=new wv}function Ev(e,t,n){var r=n||"";try{Hp(e,(function(e,n){var i=e;Ah(e)&&(i=Fd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function _v(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Sv(e){this.l=e.ac||null,this.j=e.jb||!1}function Tv(e,t){jd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Cv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dv.prototype.cancel=function(){if(this.i=bv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=we(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},wv.prototype.stringify=function(e){return Ch.JSON.stringify(e,void 0)},wv.prototype.parse=function(e){return Ch.JSON.parse(e,void 0)},jh(Sv,kp),Sv.prototype.g=function(){return new Tv(this.l,this.j)},Sv.prototype.i=function(e){return function(){return e}}({}),jh(Tv,jd);var Cv=0;function Iv(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Nv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Av(e)}function Av(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Eh=Tv.prototype).open=function(e,t){if(this.readyState!=Cv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Av(this)},Eh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ch).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Eh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nv(this)),this.readyState=Cv},Eh.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Av(this)),this.g&&(this.readyState=3,Av(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Ch.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Iv(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Eh.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nv(this):Av(this),3==this.readyState&&Iv(this)}},Eh.Va=function(e){this.g&&(this.response=this.responseText=e,Nv(this))},Eh.Ua=function(e){this.g&&(this.response=e,Nv(this))},Eh.ga=function(){this.g&&Nv(this)},Eh.setRequestHeader=function(e,t){this.v.append(e,t)},Eh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Eh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Rv=Ch.JSON.parse;function Pv(e){jd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ov,this.K=this.L=!1}jh(Pv,jd);var Ov="",Dv=/^https?$/i,Lv=["POST","PUT"];function Mv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jv(e),Vv(e)}function jv(e){e.D||(e.D=!0,Ud(e,"complete"),Ud(e,"error"))}function Uv(e){if(e.h&&"undefined"!=typeof Th&&(!e.C[1]||4!=zv(e)||2!=e.aa()))if(e.v&&4==zv(e))Zd(e.Ha,0,e);else if(Ud(e,"readystatechange"),4==zv(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(qp)[1]||null;if(!a&&Ch.self&&Ch.self.location){var o=Ch.self.location.protocol;a=o.substr(0,o.length-1)}i=!Dv.test(a?a.toLowerCase():"")}t=i}if(t)Ud(e,"complete"),Ud(e,"success");else{e.m=6;try{var s=2<zv(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",jv(e)}}finally{Vv(e)}}}function Vv(e,t){if(e.g){Fv(e);var n=e.g,r=e.C[0]?Ih:null;e.g=null,e.C=null,t||Ud(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ch.clearTimeout(e.A),e.A=null)}function zv(e){return e.g?e.g.readyState:0}function Bv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ov:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Gr){return null}}function Hv(e){var t="";return yd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Hv(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Yp(e,t,n))}function Wv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kv(e){this.Ca=0,this.i=[],this.j=new op,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Wv("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Wv("baseRetryDelayMs",5e3,e),this.bb=Wv("retryDelaySeedMs",1e4,e),this.$a=Wv("forwardChannelMaxRetries",2,e),this.ta=Wv("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new dv(e&&e.concurrentRequestLimit),this.Fa=new xv,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Gv(e){if(Xv(e),3==e.G){var t=e.U++,n=Kp(e.F);Yp(n,"SID",e.I),Yp(n,"RID",t),Yp(n,"TYPE","terminate"),Jv(e,n),(t=new Cp(e,e.j,t,void 0)).K=2,t.v=$p(Kp(n)),n=!1,Ch.navigator&&Ch.navigator.sendBeacon&&(n=Ch.navigator.sendBeacon(t.v.toString(),"")),!n&&Ch.Image&&((new Image).src=t.v,n=!0),n||(t.g=cm(t.l,null),t.g.da(t.v)),t.F=Date.now(),jp(t)}um(e)}function Qv(e){e.g&&(nm(e),e.g.cancel(),e.g=null)}function Xv(e){Qv(e),e.u&&(Ch.clearTimeout(e.u),e.u=null),im(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Ch.clearTimeout(e.m),e.m=null)}function Yv(e){vv(e.h)||e.m||(e.m=!0,Gd(e.Ja,e),e.C=0)}function $v(e,t){var n;n=t?t.m:e.U++;var r=Kp(e.F);Yp(r,"SID",e.I),Yp(r,"RID",n),Yp(r,"AID",e.T),Jv(e,r),e.o&&e.s&&qv(r,e.o,e.s),n=new Cp(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Zv(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),yv(e.h,n),Pp(n,r,t)}function Jv(e,t){e.ia&&yd(e.ia,(function(e,n){Yp(t,n,e)})),e.l&&Hp({},(function(e,n){Yp(t,n,e)}))}function Zv(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Lh(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Ev(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function em(e){e.g||e.u||(e.Z=1,Gd(e.Ia,e),e.A=0)}function tm(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=mp(Lh(e.Ia,e),om(e,e.A)),e.A++,!0)}function nm(e){null!=e.B&&(Ch.clearTimeout(e.B),e.B=null)}function rm(e){e.g=new Cp(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Kp(e.sa);Yp(t,"RID","rpc"),Yp(t,"SID",e.I),Yp(t,"CI",e.L?"0":"1"),Yp(t,"AID",e.T),Yp(t,"TYPE","xmlhttp"),Jv(e,t),e.o&&e.s&&qv(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=$p(Kp(t)),n.s=null,n.P=!0,Op(n,e)}function im(e){null!=e.v&&(Ch.clearTimeout(e.v),e.v=null)}function am(e,t){var n=null;if(e.g==t){im(e),nm(e),e.g=null;var r=2}else{if(!gv(e.h,t))return;n=t.D,kv(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ud(r=cp(),new vp(r,n)),Yv(e)}else em(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(mv(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=mp(Lh(e.Ja,e,t),om(e,e.C)),e.C++,!0))}(e,t)||2==r&&tm(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:sm(e,5);break;case 4:sm(e,10);break;case 3:sm(e,6);break;default:sm(e,2)}}function om(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function sm(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Lh(e.kb,e);n||(n=new Wp("//www.google.com/images/cleardot.gif"),Ch.location&&"http"==Ch.location.protocol||Gp(n,"https"),$p(n)),function(e,t){var n=new op;if(Ch.Image){var r=new Image;r.onload=Mh(_v,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Mh(_v,n,r,"TestLoadImage: error",!1,t),r.onabort=Mh(_v,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Mh(_v,n,r,"TestLoadImage: timeout",!1,t),Ch.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else pp(2);e.G=0,e.l&&e.l.va(t),um(e),Xv(e)}function um(e){if(e.G=0,e.la=[],e.l){var t=bv(e.h);0==t.length&&0==e.i.length||(zh(e.la,t),zh(e.la,e.i),e.h.i.length=0,Fh(e.i),e.i.length=0),e.l.ua()}}function lm(e,t,n){var r=n instanceof Wp?Kp(n):new Wp(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Qp(r,r.m);else{var i=Ch.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Wp(null,void 0);r&&Gp(a,r),t&&(a.g=t),i&&Qp(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Yp(r,n,t),Yp(r,"VER",e.ma),Jv(e,r),r}function cm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Pv(new Sv({jb:!0})):new Pv(e.ra)).Ka(e.H),t}function fm(){}function hm(){if(Jh&&!(10<=Number(fd)))throw Error("Environmental error: no available transport.")}function dm(e,t){jd.call(this),this.g=new Kv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!qh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mm(this)}function pm(e){_p.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vm(){Sp.call(this),this.status=1}function mm(e){this.g=e}(Eh=Pv.prototype).Ka=function(e){this.L=e},Eh.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xp.g(),this.C=this.u?bp(this.u):bp(xp),this.g.onreadystatechange=Lh(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Mv(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=we(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ch.FormData&&e instanceof Ch.FormData,!(0<=Vh(Lv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=we(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fv(this),0<this.B&&((this.K=function(e){return Jh&&ld()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lh(this.qa,this)):this.A=Zd(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Mv(this,s)}},Eh.qa=function(){"undefined"!=typeof Th&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ud(this,"timeout"),this.abort(8))},Eh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ud(this,"complete"),Ud(this,"abort"),Vv(this))},Eh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vv(this,!0)),Pv.X.M.call(this)},Eh.Ha=function(){this.s||(this.F||this.v||this.l?Uv(this):this.fb())},Eh.fb=function(){Uv(this)},Eh.aa=function(){try{return 2<zv(this)?this.g.status:-1}catch(Kr){return-1}},Eh.fa=function(){try{return this.g?this.g.responseText:""}catch(Kr){return""}},Eh.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rv(t)}},Eh.Ea=function(){return this.m},Eh.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Eh=Kv.prototype).ma=8,Eh.G=1,Eh.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Cp(this,this.j,e,void 0),n=this.s;if(this.S&&(n?wd(n=kd(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zv(this,t,r),Yp(i=Kp(this.F),"RID",e),Yp(i,"CVER",22),this.D&&Yp(i,"X-HTTP-Session-Id",this.D),Jv(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Hv(n)))+"&"+r:this.o&&qv(i,this.o,n)),yv(this.h,t),this.Ya&&Yp(i,"TYPE","init"),this.O?(Yp(i,"$req",r),Yp(i,"SID","null"),t.Z=!0,Pp(t,i,null)):Pp(t,i,r),this.G=2}}else 3==this.G&&(e?$v(this,e):0==this.i.length||vv(this.h)||$v(this))},Eh.Ia=function(){if(this.u=null,rm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=mp(Lh(this.eb,this),e)}},Eh.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,pp(10),Qv(this),rm(this))},Eh.cb=function(){null!=this.v&&(this.v=null,Qv(this),tm(this),pp(19))},Eh.kb=function(e){e?(this.j.info("Successfully pinged google.com"),pp(2)):(this.j.info("Failed to ping google.com"),pp(1))},(Eh=fm.prototype).xa=function(){},Eh.wa=function(){},Eh.va=function(){},Eh.ua=function(){},Eh.Ra=function(){},hm.prototype.g=function(e,t){return new dm(e,t)},jh(dm,jd),dm.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;pp(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=lm(e,null,e.V),Yv(e)},dm.prototype.close=function(){Gv(this.g)},dm.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fd(e),e=n);t.i.push(new hv(t.ab++,e)),3==t.G&&Yv(t)},dm.prototype.M=function(){this.g.l=null,delete this.j,Gv(this.g),delete this.g,dm.X.M.call(this)},jh(pm,_p),jh(vm,Sp),jh(mm,fm),mm.prototype.xa=function(){Ud(this.g,"a")},mm.prototype.wa=function(e){Ud(this.g,new pm(e))},mm.prototype.va=function(e){Ud(this.g,new vm)},mm.prototype.ua=function(){Ud(this.g,"b")},hm.prototype.createWebChannel=hm.prototype.g,dm.prototype.send=dm.prototype.u,dm.prototype.open=dm.prototype.m,dm.prototype.close=dm.prototype.close,gp.NO_ERROR=0,gp.TIMEOUT=8,gp.HTTP_ERROR=6,yp.COMPLETE="complete",wp.EventType=Ep,Ep.OPEN="a",Ep.CLOSE="b",Ep.ERROR="c",Ep.MESSAGE="d",jd.prototype.listen=jd.prototype.N,Pv.prototype.listenOnce=Pv.prototype.O,Pv.prototype.getLastError=Pv.prototype.Oa,Pv.prototype.getLastErrorCode=Pv.prototype.Ea,Pv.prototype.getStatus=Pv.prototype.aa,Pv.prototype.getResponseJson=Pv.prototype.Sa,Pv.prototype.getResponseText=Pv.prototype.fa,Pv.prototype.send=Pv.prototype.da,Pv.prototype.setWithCredentials=Pv.prototype.Ka;var gm=Sh.createWebChannelTransport=function(){return new hm},ym=Sh.getStatEventTarget=function(){return cp()},km=Sh.ErrorCode=gp,bm=Sh.EventType=yp,wm=Sh.Event=up,xm=Sh.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Em=Sh.FetchXmlHttpFactory=Sv,_m=Sh.WebChannel=wp,Sm=Sh.XhrIo=Pv,Tm="@firebase/firestore",Cm=function(){function e(t){Z(this,e),this.uid=t}return te(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Cm.UNAUTHENTICATED=new Cm(null),Cm.GOOGLE_CREDENTIALS=new Cm("google-credentials-uid"),Cm.FIRST_PARTY=new Cm("first-party-uid"),Cm.MOCK_USER=new Cm("mock-user");var Im="9.13.0",Nm=new zl("@firebase/firestore");function Am(){return Nm.logLevel}function Rm(e){if(Nm.logLevel<=Dl.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dm);Nm.debug.apply(Nm,["Firestore (".concat(Im,"): ").concat(e)].concat(fn(i)))}}function Pm(e){if(Nm.logLevel<=Dl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dm);Nm.error.apply(Nm,["Firestore (".concat(Im,"): ").concat(e)].concat(fn(i)))}}function Om(e){if(Nm.logLevel<=Dl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Dm);Nm.warn.apply(Nm,["Firestore (".concat(Im,"): ").concat(e)].concat(fn(i)))}}function Dm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Lm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Im,") INTERNAL ASSERTION FAILED: ")+e;throw Pm(t),new Error(t)}function Mm(e,t){e||Lm()}function jm(e,t){return e}var Um={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vm=function(e){re(n,e);var t=ue(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return te(n)}(yl),Fm=te((function e(){var t=this;Z(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),zm=te((function e(t,n){Z(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Bm=function(){function e(){Z(this,e)}return te(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Cm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Hm=function(){function e(t){Z(this,e),this.token=t,this.changeListener=null}return te(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),qm=function(){function e(t){Z(this,e),this.t=t,this.currentUser=Cm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return te(e,[{key:"start",value:function(e,t){var n=this,r=this.i,a=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},s=new Fm;this.o=function(){n.i++,n.currentUser=n.u(),s.resolve(),s=new Fm,e.enqueueRetryable((function(){return a(n.currentUser)}))};var u=function(){var t=s;e.enqueueRetryable(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,a(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},l=function(e){Rm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return l(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?l(e):(Rm("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fm)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Rm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mm("string"==typeof n.accessToken),new zm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Mm(null===e||"string"==typeof e),new Cm(e)}}]),e}(),Wm=function(){function e(t,n,r,i){Z(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Cm.FIRST_PARTY,this.p=new Map}return te(e,[{key:"I",value:function(){return this.g?this.g():(Mm(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Km=function(){function e(t,n,r,i){Z(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return te(e,[{key:"getToken",value:function(){return Promise.resolve(new Wm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Cm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Gm=te((function e(t){Z(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Qm=function(){function e(t){Z(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return te(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Rm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Rm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Rm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Rm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Mm("string"==typeof t.token),e.A=t.token,new Gm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Xm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ym=function(){function e(){Z(this,e)}return te(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Xm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function $m(e,t){return e<t?-1:e>t?1:0}function Jm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Zm=function(){function e(t,n){if(Z(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Vm(Um.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Vm(Um.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Vm(Um.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vm(Um.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return te(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?$m(this.nanoseconds,e.nanoseconds):$m(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),eg=function(){function e(t){Z(this,e),this.timestamp=t}return te(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zm(0,0))}},{key:"max",value:function(){return new e(new Zm(253402300799,999999999))}}]),e}(),tg=function(){function e(t,n,r){Z(this,e),void 0===n?n=0:n>t.length&&Lm(),void 0===r?r=t.length-n:r>t.length-n&&Lm(),this.segments=t,this.offset=n,this.len=r}return te(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ng=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.apply(this,arguments)}return te(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Vm(Um.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,fn(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tg),rg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ig=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.apply(this,arguments)}return te(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return rg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Vm(Um.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Vm(Um.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Vm(Um.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Vm(Um.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tg),ag=function(){function e(t){Z(this,e),this.path=t}return te(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ng.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ng.fromString(t))}},{key:"fromName",value:function(t){return new e(ng.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ng.emptyPath())}},{key:"comparator",value:function(e,t){return ng.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ng(t.slice()))}}]),e}(),og=te((function e(t,n,r,i){Z(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));og.UNKNOWN_ID=-1;function sg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=eg.fromTimestamp(1e9===r?new Zm(n+1,0):new Zm(n,r));return new lg(i,ag.empty(),t)}function ug(e){return new lg(e.readTime,e.key,-1)}var lg=function(){function e(t,n,r){Z(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return te(e,null,[{key:"min",value:function(){return new e(eg.min(),ag.empty(),-1)}},{key:"max",value:function(){return new e(eg.max(),ag.empty(),-1)}}]),e}();function cg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ag.comparator(e.documentKey,t.documentKey))?n:$m(e.largestBatchId,t.largestBatchId)}var fg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hg=function(){function e(){Z(this,e),this.onCommittedListeners=[]}return te(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function dg(e){return pg.apply(this,arguments)}function pg(){return pg=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Um.FAILED_PRECONDITION&&t.message===fg){e.next=2;break}throw t;case 2:Rm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),pg.apply(this,arguments)}var vg=function(){function e(t){var n=this;Z(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return te(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Lm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=we(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function mg(e){return"IndexedDbTransactionError"===e.name}var gg=function(){function e(t,n){var r=this;Z(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return te(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function yg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}gg.at=-1;var wg=function(){function e(t,n){Z(this,e),this.comparator=t,this.root=n||Eg.EMPTY}return te(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Eg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Eg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xg(this.root,e,this.comparator,!0)}}]),e}(),xg=function(){function e(t,n,r,i){Z(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return te(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Eg=function(){function e(t,n,r,i,a){Z(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return te(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Lm();if(this.right.isRed())throw Lm();var e=this.left.check();if(e!==this.right.check())throw Lm();return e+(this.isRed()?0:1)}}]),e}();Eg.EMPTY=null,Eg.RED=!0,Eg.BLACK=!1,Eg.EMPTY=new(function(){function e(){Z(this,e),this.size=0}return te(e,[{key:"key",get:function(){throw Lm()}},{key:"value",get:function(){throw Lm()}},{key:"color",get:function(){throw Lm()}},{key:"left",get:function(){throw Lm()}},{key:"right",get:function(){throw Lm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Eg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var _g=function(){function e(t){Z(this,e),this.comparator=t,this.data=new wg(this.comparator)}return te(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sg=function(){function e(t){Z(this,e),this.iter=t}return te(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Tg=function(){function e(t){Z(this,e),this.fields=t,t.sort(ig.comparator)}return te(e,[{key:"unionWith",value:function(t){var n,r=new _g(ig.comparator),i=we(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=we(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=we(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Jm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Cg=function(e){function t(e){Z(this,t),this.binaryString=e}return te(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return $m(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Cg.EMPTY_BYTE_STRING=new Cg("");var Ig=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ng(e){if(Mm(!!e),"string"==typeof e){var t=0,n=Ig.exec(e);if(Mm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ag(e.seconds),nanos:Ag(e.nanos)}}function Ag(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rg(e){return"string"==typeof e?Cg.fromBase64String(e):Cg.fromUint8Array(e)}function Pg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Og(e){var t=e.mapValue.fields.__previous_value__;return Pg(t)?Og(t):t}function Dg(e){var t=Ng(e.mapValue.fields.__local_write_time__.timestampValue);return new Zm(t.seconds,t.nanos)}var Lg=te((function e(t,n,r,i,a,o,s,u){Z(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Mg=function(){function e(t,n){Z(this,e),this.projectId=t,this.database=n||"(default)"}return te(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function jg(e){return null==e}function Ug(e){return 0===e&&1/e==-1/0}function Vg(e){return"number"==typeof e&&Number.isInteger(e)&&!Ug(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Fg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pg(e)?4:ey(e)?9007199254740991:10:Lm()}function Bg(e,t){if(e===t)return!0;var n=zg(e);if(n!==zg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dg(e).isEqual(Dg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ng(e.timestampValue),r=Ng(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rg(e.bytesValue).isEqual(Rg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ag(e.geoPointValue.latitude)===Ag(t.geoPointValue.latitude)&&Ag(e.geoPointValue.longitude)===Ag(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ag(e.integerValue)===Ag(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ag(e.doubleValue),r=Ag(t.doubleValue);return n===r?Ug(n)===Ug(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jm(e.arrayValue.values||[],t.arrayValue.values||[],Bg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yg(n)!==yg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bg(n[i],r[i])))return!1;return!0}(e,t);default:return Lm()}}function Hg(e,t){return void 0!==(e.values||[]).find((function(e){return Bg(e,t)}))}function qg(e,t){if(e===t)return 0;var n=zg(e),r=zg(t);if(n!==r)return $m(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $m(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ag(e.integerValue||e.doubleValue),r=Ag(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wg(e.timestampValue,t.timestampValue);case 4:return Wg(Dg(e),Dg(t));case 5:return $m(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rg(e),r=Rg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=$m(n[i],r[i]);if(0!==a)return a}return $m(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=$m(Ag(e.latitude),Ag(t.latitude));return 0!==n?n:$m(Ag(e.longitude),Ag(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=qg(n[i],r[i]);if(a)return a}return $m(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Fg.mapValue&&t===Fg.mapValue)return 0;if(e===Fg.mapValue)return 1;if(t===Fg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=$m(r[o],a[o]);if(0!==s)return s;var u=qg(n[r[o]],i[a[o]]);if(0!==u)return u}return $m(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Lm()}}function Wg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $m(e,t);var n=Ng(e),r=Ng(t),i=$m(n.seconds,r.seconds);return 0!==i?i:$m(n.nanos,r.nanos)}function Kg(e){return Gg(e)}function Gg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ng(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ag.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=we(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Gg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=we(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Gg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Lm();var t,n}function Qg(e){return!!e&&"integerValue"in e}function Xg(e){return!!e&&"arrayValue"in e}function Yg(e){return!!e&&"nullValue"in e}function $g(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jg(e){return!!e&&"mapValue"in e}function Zg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return kg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Zg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Zg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function ey(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var ty=function(){function e(t){Z(this,e),this.value=t}return te(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Jg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zg(t)}},{key:"setAll",value:function(e){var t=this,n=ig.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Zg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Jg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Bg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Jg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){kg(t,(function(t,n){return e[t]=n}));var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Zg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ny(e){var t=[];return kg(e.fields,(function(e,n){var r=new ig([e]);if(Jg(n)){var i=ny(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=we(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Tg(t)}var ry=function(){function e(t,n,r,i,a,o){Z(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return te(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ty.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ty.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=eg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,eg.min(),eg.min(),ty.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,eg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,eg.min(),ty.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,eg.min(),ty.empty(),2)}}]),e}(),iy=te((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Z(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ht=null}));function ay(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new iy(e,t,n,r,i,a,o)}function oy(e){var t=jm(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Kg(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),jg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Kg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Kg(e)})).join(",")),t.ht=n}return t.ht}function sy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!by(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Bg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!xy(e.startAt,t.startAt)&&xy(e.endAt,t.endAt)}function uy(e){return ag.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ly=function(e){re(n,e);var t=ue(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return te(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(qg(t,this.value)):null!==t&&zg(this.value)===zg(t)&&this.ft(qg(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lm()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new cy(e,t,r):"array-contains"===t?new py(e,r):"in"===t?new vy(e,r):"not-in"===t?new my(e,r):"array-contains-any"===t?new gy(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new fy(e,n):new hy(e,n)}}]),n}(function(){return te((function e(){Z(this,e)}))}()),cy=function(e){re(n,e);var t=ue(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this,e,r,i)).key=ag.fromName(i.referenceValue),a}return te(n,[{key:"matches",value:function(e){var t=ag.comparator(e.key,this.key);return this.ft(t)}}]),n}(ly),fy=function(e){re(n,e);var t=ue(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,"in",r)).keys=dy("in",r),i}return te(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ly),hy=function(e){re(n,e);var t=ue(n);function n(e,r){var i;return Z(this,n),(i=t.call(this,e,"not-in",r)).keys=dy("not-in",r),i}return te(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ly);function dy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ag.fromName(e.referenceValue)}))}var py=function(e){re(n,e);var t=ue(n);function n(e,r){return Z(this,n),t.call(this,e,"array-contains",r)}return te(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Xg(t)&&Hg(t.arrayValue,this.value)}}]),n}(ly),vy=function(e){re(n,e);var t=ue(n);function n(e,r){return Z(this,n),t.call(this,e,"in",r)}return te(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Hg(this.value.arrayValue,t)}}]),n}(ly),my=function(e){re(n,e);var t=ue(n);function n(e,r){return Z(this,n),t.call(this,e,"not-in",r)}return te(n,[{key:"matches",value:function(e){if(Hg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Hg(this.value.arrayValue,t)}}]),n}(ly),gy=function(e){re(n,e);var t=ue(n);function n(e,r){return Z(this,n),t.call(this,e,"array-contains-any",r)}return te(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Hg(t.value.arrayValue,e)}))}}]),n}(ly),yy=te((function e(t,n){Z(this,e),this.position=t,this.inclusive=n})),ky=te((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Z(this,e),this.field=t,this.dir=n}));function by(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function wy(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ag.comparator(ag.fromName(o.referenceValue),n.key):qg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Bg(e.position[n],t.position[n]))return!1;return!0}var Ey=te((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Z(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this._t=null,this.wt=null,this.startAt,this.endAt}));function _y(e,t,n,r,i,a,o,s){return new Ey(e,t,n,r,i,a,o,s)}function Sy(e){return new Ey(e)}function Ty(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Iy(e){var t,n=we(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ny(e){return null!==e.collectionGroup}function Ay(e){var t=jm(e);if(null===t._t){t._t=[];var n=Iy(t),r=Cy(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new ky(n)),t._t.push(new ky(ig.keyField(),"asc"));else{var i,a=!1,o=we(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t._t.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new ky(ig.keyField(),u))}}}return t._t}function Ry(e){var t=jm(e);if(!t.wt)if("F"===t.limitType)t.wt=ay(t.path,t.collectionGroup,Ay(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=we(Ay(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ky(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new yy(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new yy(t.startAt.position,t.startAt.inclusive):null;t.wt=ay(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function Py(e,t,n){return new Ey(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Oy(e,t){return sy(Ry(e),Ry(t))&&e.limitType===t.limitType}function Dy(e){return"".concat(oy(Ry(e)),"|lt:").concat(e.limitType)}function Ly(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Kg(t.value));var t})).join(", "),"]")),jg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Kg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Kg(e)})).join(",")),"Target(".concat(t,")")}(Ry(e)),"; limitType=").concat(e.limitType,")")}function My(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ag.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=we(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=we(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=wy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ay(e),t))&&!(e.endAt&&!function(e,t,n){var r=wy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ay(e),t))}(e,t)}function jy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Uy(e){return function(t,n){var r,i=!1,a=we(Ay(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Vy(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Vy(e,t,n){var r=e.field.isKeyField()?ag.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qg(r,i):Lm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Lm()}}function Fy(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ug(t)?"-0":t}}function zy(e){return{integerValue:""+e}}function By(e,t){return Vg(t)?zy(t):Fy(e,t)}var Hy=te((function e(){Z(this,e),this._=void 0}));function qy(e,t,n){return e instanceof Gy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qy?Xy(e,t):e instanceof Yy?$y(e,t):function(e,t){var n=Ky(e,t),r=Zy(n)+Zy(e.yt);return Qg(n)&&Qg(e.yt)?zy(r):Fy(e.It,r)}(e,t)}function Wy(e,t,n){return e instanceof Qy?Xy(e,t):e instanceof Yy?$y(e,t):n}function Ky(e,t){return e instanceof Jy?Qg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Gy=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.apply(this,arguments)}return te(n)}(Hy),Qy=function(e){re(n,e);var t=ue(n);function n(e){var r;return Z(this,n),(r=t.call(this)).elements=e,r}return te(n)}(Hy);function Xy(e,t){var n,r=ek(t),i=we(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Bg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yy=function(e){re(n,e);var t=ue(n);function n(e){var r;return Z(this,n),(r=t.call(this)).elements=e,r}return te(n)}(Hy);function $y(e,t){var n,r=ek(t),i=we(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Bg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jy=function(e){re(n,e);var t=ue(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).It=e,i.yt=r,i}return te(n)}(Hy);function Zy(e){return Ag(e.integerValue||e.doubleValue)}function ek(e){return Xg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tk=te((function e(t,n){Z(this,e),this.version=t,this.transformResults=n})),nk=function(){function e(t,n){Z(this,e),this.updateTime=t,this.exists=n}return te(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ik=te((function e(){Z(this,e)}));function ak(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gk(e.key,nk.none()):new ck(e.key,e.data,nk.none());var n,r=e.data,i=ty.empty(),a=new _g(ig.comparator),o=we(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new fk(e.key,i,new Tg(a.toArray()),nk.none())}function ok(e,t,n){e instanceof ck?function(e,t,n){var r=e.value.clone(),i=dk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fk?function(e,t,n){if(rk(e.precondition,t)){var r=dk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sk(e,t,n,r){return e instanceof ck?function(e,t,n,r){if(!rk(e.precondition,t))return n;var i=e.value.clone(),a=pk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fk?function(e,t,n,r){if(!rk(e.precondition,t))return n;var i=pk(e.fieldTransforms,r,t),a=t.data;return a.setAll(hk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return rk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uk(e,t){var n,r=null,i=we(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Ky(a.transform,o||null);null!=s&&(null===r&&(r=ty.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function lk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qy&&t instanceof Qy||e instanceof Yy&&t instanceof Yy?Jm(e.elements,t.elements,Bg):e instanceof Jy&&t instanceof Jy?Bg(e.yt,t.yt):e instanceof Gy&&t instanceof Gy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ck=function(e){re(n,e);var t=ue(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Z(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return te(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),fk=function(e){re(n,e);var t=ue(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Z(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return te(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ik);function hk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dk(e,t,n){var r=new Map;Mm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Wy(o,s,n[i]))}return r}function pk(e,t,n){var r,i=new Map,a=we(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,qy(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var vk,mk,gk=function(e){re(n,e);var t=ue(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return te(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),yk=function(e){re(n,e);var t=ue(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return te(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ik),kk=te((function e(t){Z(this,e),this.count=t}));function bk(e){switch(e){default:return Lm();case Um.CANCELLED:case Um.UNKNOWN:case Um.DEADLINE_EXCEEDED:case Um.RESOURCE_EXHAUSTED:case Um.INTERNAL:case Um.UNAVAILABLE:case Um.UNAUTHENTICATED:return!1;case Um.INVALID_ARGUMENT:case Um.NOT_FOUND:case Um.ALREADY_EXISTS:case Um.PERMISSION_DENIED:case Um.FAILED_PRECONDITION:case Um.ABORTED:case Um.OUT_OF_RANGE:case Um.UNIMPLEMENTED:case Um.DATA_LOSS:return!0}}function wk(e){if(void 0===e)return Pm("GRPC error has no .code"),Um.UNKNOWN;switch(e){case vk.OK:return Um.OK;case vk.CANCELLED:return Um.CANCELLED;case vk.UNKNOWN:return Um.UNKNOWN;case vk.DEADLINE_EXCEEDED:return Um.DEADLINE_EXCEEDED;case vk.RESOURCE_EXHAUSTED:return Um.RESOURCE_EXHAUSTED;case vk.INTERNAL:return Um.INTERNAL;case vk.UNAVAILABLE:return Um.UNAVAILABLE;case vk.UNAUTHENTICATED:return Um.UNAUTHENTICATED;case vk.INVALID_ARGUMENT:return Um.INVALID_ARGUMENT;case vk.NOT_FOUND:return Um.NOT_FOUND;case vk.ALREADY_EXISTS:return Um.ALREADY_EXISTS;case vk.PERMISSION_DENIED:return Um.PERMISSION_DENIED;case vk.FAILED_PRECONDITION:return Um.FAILED_PRECONDITION;case vk.ABORTED:return Um.ABORTED;case vk.OUT_OF_RANGE:return Um.OUT_OF_RANGE;case vk.UNIMPLEMENTED:return Um.UNIMPLEMENTED;case vk.DATA_LOSS:return Um.DATA_LOSS;default:return Lm()}}(mk=vk||(vk={}))[mk.OK=0]="OK",mk[mk.CANCELLED=1]="CANCELLED",mk[mk.UNKNOWN=2]="UNKNOWN",mk[mk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mk[mk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mk[mk.NOT_FOUND=5]="NOT_FOUND",mk[mk.ALREADY_EXISTS=6]="ALREADY_EXISTS",mk[mk.PERMISSION_DENIED=7]="PERMISSION_DENIED",mk[mk.UNAUTHENTICATED=16]="UNAUTHENTICATED",mk[mk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mk[mk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mk[mk.ABORTED=10]="ABORTED",mk[mk.OUT_OF_RANGE=11]="OUT_OF_RANGE",mk[mk.UNIMPLEMENTED=12]="UNIMPLEMENTED",mk[mk.INTERNAL=13]="INTERNAL",mk[mk.UNAVAILABLE=14]="UNAVAILABLE",mk[mk.DATA_LOSS=15]="DATA_LOSS";var xk=function(){function e(t,n){Z(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return te(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){kg(this.inner,(function(t,n){var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return bg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ek=new wg(ag.comparator);function _k(){return Ek}var Sk=new wg(ag.comparator);function Tk(){for(var e=Sk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ck(e){var t=Sk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Ik(){return Ak()}function Nk(){return Ak()}function Ak(){return new xk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Rk=new wg(ag.comparator),Pk=new _g(ag.comparator);function Ok(){for(var e=Pk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Dk=new _g($m);function Lk(){return Dk}var Mk=function(){function e(t,n,r,i,a){Z(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return te(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,jk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(eg.min(),i,Lk(),_k(),Ok())}}]),e}(),jk=function(){function e(t,n,r,i,a){Z(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return te(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ok(),Ok(),Ok())}}]),e}(),Uk=te((function e(t,n,r,i){Z(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Vk=te((function e(t,n){Z(this,e),this.targetId=t,this.At=n})),Fk=te((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Z(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zk=function(){function e(){Z(this,e),this.Rt=0,this.bt=qk(),this.Pt=Cg.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return te(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Ok(),t=Ok(),n=Ok();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Lm()}})),new jk(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=qk()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Bk=function(){function e(t){Z(this,e),this.Bt=t,this.Lt=new Map,this.Ut=_k(),this.qt=Hk(),this.Kt=new _g($m)}return te(e,[{key:"Gt",value:function(e){var t,n=we(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(s){n.e(s)}finally{n.f()}var i,a=we(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Lm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(uy(i))if(0===n){var a=new ag(i.path);this.jt(t,a,ry.newNoDocument(a,eg.min()))}else Mm(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&uy(a.target)){var o=new ag(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,ry.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Ok();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Mk(e,n,this.Kt,this.Ut,r);return this.Ut=_k(),this.qt=Hk(),this.Kt=new _g($m),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new zk,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new _g($m),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Rm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new zk),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Hk(){return new wg(ag.comparator)}function qk(){return new wg(ag.comparator)}var Wk={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk=te((function e(t,n){Z(this,e),this.databaseId=t,this.gt=n}));function Qk(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xk(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Yk(e,t){return Qk(e,t.toTimestamp())}function $k(e){return Mm(!!e),eg.fromTimestamp(function(e){var t=Ng(e);return new Zm(t.seconds,t.nanos)}(e))}function Jk(e,t){return function(e){return new ng(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Zk(e){var t=ng.fromString(e);return Mm(kb(t)),t}function eb(e,t){return Jk(e.databaseId,t.path)}function tb(e,t){var n=Zk(t);if(n.get(1)!==e.databaseId.projectId)throw new Vm(Um.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vm(Um.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ag(ab(n))}function nb(e,t){return Jk(e.databaseId,t)}function rb(e){var t=Zk(e);return 4===t.length?ng.emptyPath():ab(t)}function ib(e){return new ng(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ab(e){return Mm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ob(e,t,n){return{name:eb(e,t),fields:n.value.mapValue.fields}}function sb(e,t){var n;if(t instanceof ck)n={update:ob(e,t.key,t.value)};else if(t instanceof gk)n={delete:eb(e,t.key)};else if(t instanceof fk)n={update:ob(e,t.key,t.data),updateMask:yb(t.fieldMask)};else{if(!(t instanceof yk))return Lm();n={verify:eb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Gy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Yy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jy)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Lm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Yk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Lm()}(e,t.precondition)),n}function ub(e,t){return{documents:[nb(e,t.path)]}}function lb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if($g(e.value))return{unaryFilter:{field:pb(e.field),op:"IS_NAN"}};if(Yg(e.value))return{unaryFilter:{field:pb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($g(e.value))return{unaryFilter:{field:pb(e.field),op:"IS_NOT_NAN"}};if(Yg(e.value))return{unaryFilter:{field:pb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pb(e.field),op:db(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:pb(e.field),direction:hb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.gt||jg(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function cb(e){var t=rb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=fb(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ky(vb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return jg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new yy(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new yy(n,t)}(n.endAt)),_y(t,i,s,o,u,"F",l,c)}function fb(e){return e?void 0!==e.unaryFilter?[gb(e)]:void 0!==e.fieldFilter?[mb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return fb(e)})).reduce((function(e,t){return e.concat(t)})):Lm():[]}function hb(e){return Wk[e]}function db(e){return Kk[e]}function pb(e){return{fieldPath:e.canonicalString()}}function vb(e){return ig.fromServerFormat(e.fieldPath)}function mb(e){return ly.create(vb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lm()}}(e.fieldFilter.op),e.fieldFilter.value)}function gb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=vb(e.unaryFilter.field);return ly.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=vb(e.unaryFilter.field);return ly.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=vb(e.unaryFilter.field);return ly.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=vb(e.unaryFilter.field);return ly.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lm()}}function yb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function kb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var bb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),wb=([].concat(fn(bb),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),xb=wb;[].concat(xb,["indexConfiguration","indexState","indexEntries"]);var Eb=function(){function e(t,n,r,i){Z(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return te(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ok(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=we(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=sk(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=we(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=sk(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Nk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=ak(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(eg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ok())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Jm(this.mutations,e.mutations,(function(e,t){return lk(e,t)}))&&Jm(this.baseMutations,e.baseMutations,(function(e,t){return lk(e,t)}))}}]),e}(),_b=function(){function e(t,n,r,i){Z(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return te(e,null,[{key:"from",value:function(t,n,r){Mm(t.mutations.length===r.length);for(var i=Rk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Sb=function(){function e(t,n){Z(this,e),this.largestBatchId=t,this.mutation=n}return te(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Tb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:eg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eg.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cg.EMPTY_BYTE_STRING;Z(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return te(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Cb=te((function e(t){Z(this,e),this.re=t}));function Ib(e){var t=cb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Py(t,t.limit,"L"):t}var Nb=function(){function e(){Z(this,e)}return te(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ag(e.integerValue));else if("doubleValue"in e){var n=Ag(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Ug(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Rg(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?ey(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Lm()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),ag.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();Nb.Te=new Nb;var Ab=function(){function e(){Z(this,e),this.Ye=new Rb}return te(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),vg.resolve()}},{key:"getCollectionParents",value:function(e,t){return vg.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return vg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return vg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return vg.resolve(null)}},{key:"getIndexType",value:function(e,t){return vg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return vg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return vg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return vg.resolve(lg.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return vg.resolve(lg.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return vg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return vg.resolve()}}]),e}(),Rb=function(){function e(){Z(this,e),this.index={}}return te(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _g(ng.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new _g(ng.comparator)).toArray()}}]),e}();new Uint8Array(0);var Pb=function(){function e(t,n,r){Z(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return te(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Pb.DEFAULT_COLLECTION_PERCENTILE=10,Pb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pb.DEFAULT=new Pb(41943040,Pb.DEFAULT_COLLECTION_PERCENTILE,Pb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pb.DISABLED=new Pb(-1,0,0);var Ob=function(){function e(t){Z(this,e),this.bn=t}return te(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var Db=function(){function e(){Z(this,e),this.changes=new xk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return te(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ry.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?vg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Lb=te((function e(t,n){Z(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Mb=function(){function e(t,n,r,i){Z(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return te(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&sk(r.mutation,e,Tg.empty(),Zm.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ok()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ok(),i=Ik();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Tk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Ik();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ok())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=_k(),a=Ak(),o=Ak();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof fk)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),sk(o.mutation,t,o.mutation.getFieldMask(),Zm.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Lb(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ak(),i=new wg((function(e,t){return e-t})),a=Ok();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=we(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Tg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Ok()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Nk();l.forEach((function(e){if(!a.has(e)){var n=ak(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return vg.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ag.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ny(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):vg.resolve(Ik()),s=-1,u=a;return o.next((function(t){return vg.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?vg.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Ok())})).next((function(e){return{batchId:s,changes:Ck(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ag(t)).next((function(e){var t=Tk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Tk();return this.indexManager.getCollectionParents(e,i).next((function(o){return vg.forEach(o,(function(o){var s=function(e,t){return new Ey(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,ry.newInvalidDocument(n)))}));var n=Tk();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&sk(a.mutation,i,Tg.empty(),Zm.now()),My(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):vg.resolve(ry.newInvalidDocument(t))}}]),e}(),jb=function(){function e(t){Z(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return te(e,[{key:"getBundleMetadata",value:function(e,t){return vg.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:$k(n.createTime)}),vg.resolve()}},{key:"getNamedQuery",value:function(e,t){return vg.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Ib(e.bundledQuery),readTime:$k(e.readTime)}}(t)),vg.resolve()}}]),e}(),Ub=function(){function e(){Z(this,e),this.overlays=new wg(ag.comparator),this.es=new Map}return te(e,[{key:"getOverlay",value:function(e,t){return vg.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Ik();return vg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),vg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),vg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ik(),i=t.length+1,a=new ag(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return vg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Ik(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Ik(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return vg.resolve(u)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Sb(t,n));var a=this.es.get(t);void 0===a&&(a=Ok(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Vb=function(){function e(){Z(this,e),this.ns=new _g(Fb.ss),this.rs=new _g(Fb.os)}return te(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Fb(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Fb(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new ag(new ng([])),r=new Fb(n,e),i=new Fb(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new ag(new ng([])),n=new Fb(t,e),r=new Fb(t,e+1),i=Ok();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Fb(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Fb=function(){function e(t,n){Z(this,e),this.key=t,this._s=n}return te(e,null,[{key:"ss",value:function(e,t){return ag.comparator(e.key,t.key)||$m(e._s,t._s)}},{key:"os",value:function(e,t){return $m(e._s,t._s)||ag.comparator(e.key,t.key)}}]),e}(),zb=function(){function e(t,n){Z(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new _g(Fb.ss)}return te(e,[{key:"checkEmpty",value:function(e){return vg.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Eb(i,t,n,r);this.mutationQueue.push(a);var o,s=we(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new Fb(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return vg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return vg.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return vg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return vg.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return vg.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Fb(t,0),i=new Fb(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),vg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _g($m);return t.forEach((function(e){var t=new Fb(e,0),i=new Fb(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),vg.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ag.isDocumentKey(i)||(i=i.child(""));var a=new Fb(new ag(i),0),o=new _g($m);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),vg.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Mm(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return vg.forEach(t.mutations,(function(i){var a=new Fb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Fb(t,0),r=this.gs.firstAfterOrEqual(n);return vg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,vg.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Bb=function(){function e(t){Z(this,e),this.Es=t,this.docs=new wg(ag.comparator),this.size=0}return te(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return vg.resolve(n?n.document.mutableCopy():ry.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=_k();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ry.newInvalidDocument(e))})),vg.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=_k(),i=new ag(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||cg(ug(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return vg.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Lm()}},{key:"As",value:function(e,t){return vg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Hb(this)}},{key:"getSize",value:function(e){return vg.resolve(this.size)}}]),e}(),Hb=function(e){re(n,e);var t=ue(n);function n(e){var r;return Z(this,n),(r=t.call(this)).Yn=e,r}return te(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),vg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Db),qb=function(){function e(t){Z(this,e),this.persistence=t,this.Rs=new xk((function(e){return oy(e)}),sy),this.lastRemoteSnapshotVersion=eg.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Vb,this.targetCount=0,this.vs=Ob.Pn()}return te(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),vg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return vg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return vg.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),vg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),vg.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Ob(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,vg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),vg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,vg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),vg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return vg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return vg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),vg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),vg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),vg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return vg.resolve(n)}},{key:"containsKey",value:function(e,t){return vg.resolve(this.Ps.containsKey(t))}}]),e}(),Wb=function(){function e(t,n){var r=this;Z(this,e),this.Vs={},this.overlays={},this.Ss=new gg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new qb(this),this.indexManager=new Ab,this.remoteDocumentCache=new Bb((function(e){return r.referenceDelegate.xs(e)})),this.It=new Cb(n),this.Ns=new jb(this.It)}return te(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ub,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new zb(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Rm("MemoryPersistence","Starting transaction:",e);var i=new Kb(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return vg.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Kb=function(e){re(n,e);var t=ue(n);function n(e){var r;return Z(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return te(n)}(hg),Gb=function(){function e(t){Z(this,e),this.persistence=t,this.Fs=new Vb,this.$s=null}return te(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Lm()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),vg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),vg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),vg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vg.forEach(this.Ls,(function(r){var i=ag.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,eg.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return vg.or([function(){return vg.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var Qb=function(){function e(t,n,r,i){Z(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return te(e,null,[{key:"Ci",value:function(t,n){var r,i=Ok(),a=Ok(),o=we(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Xb=function(){function e(){Z(this,e),this.xi=!1}return te(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Ty(t))return vg.resolve(null);var r=Ry(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Py(t,null,"F"),r=Ry(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ok.apply(void 0,fn(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Py(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Ty(t)||r.isEqual(eg.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Am()<=Dl.DEBUG&&Rm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ly(t)),i.Bi(e,o,t,sg(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new _g(Uy(e));return t.forEach((function(t,r){My(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Am()<=Dl.DEBUG&&Rm("QueryEngine","Using full collection scan to execute query:",Ly(t)),this.Ni.getDocumentsMatchingQuery(e,t,lg.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Yb=function(){function e(t,n,r,i){Z(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new wg($m),this.qi=new xk((function(e){return oy(e)}),sy),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return te(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mb(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function $b(e,t,n,r){return new Yb(e,t,n,r)}function Jb(e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Ok(),u=we(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=we(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=we(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=we(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function ew(e,t){var n=jm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=vg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Mm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ok(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function tw(e){var t=jm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function nw(e,t){var n=jm(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Cg.EMPTY_BYTE_STRING,eg.min()).withLastLimboFreeSnapshotVersion(eg.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Cs.updateTargetData(e,l))}}));var s=_k(),u=Ok();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(rw(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(eg.min())){var l=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return vg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ui=i,e}))}function rw(e,t,n){var r=Ok(),i=Ok();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=_k();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(eg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Rm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function iw(e,t){var n=jm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function aw(e,t){var n=jm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,vg.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Tb(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function ow(e,t,n){return sw.apply(this,arguments)}function sw(){return sw=o(i().mark((function e(t,n,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=jm(t),o=a.Ui.get(n),s=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",s,(function(e){return a.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),mg(e.t1)){e.next=12;break}throw e.t1;case 12:Rm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:a.Ui=a.Ui.remove(n),a.qi.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),sw.apply(this,arguments)}function uw(e,t,n){var r=jm(e),i=eg.min(),a=Ok();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=jm(e),i=r.qi.get(n);return void 0!==i?vg.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Ry(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:eg.min(),n?a:Ok())})).next((function(e){return lw(r,jy(t),e),{documents:e,Hi:a}}))}))}function lw(e,t,n){var r=e.Ki.get(t)||eg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var cw=function(){function e(){Z(this,e),this.activeTargetIds=Lk()}return te(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),fw=function(){function e(){Z(this,e),this.Lr=new cw,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return te(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new cw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),hw=function(){function e(){Z(this,e)}return te(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),dw=function(){function e(){var t=this;Z(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return te(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Rm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=we(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Rm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=we(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),pw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},vw=function(){function e(t){Z(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return te(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),mw=function(e){re(n,e);var t=ue(n);function n(e){var r;return Z(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return te(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Sm;o.setWithCredentials(!0),o.listenOnce(bm.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case km.NO_ERROR:var t=o.getResponseJson();Rm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case km.TIMEOUT:Rm("Connection",'RPC "'+e+'" timed out'),a(new Vm(Um.DEADLINE_EXCEEDED,"Request time out"));break;case km.HTTP_ERROR:var n=o.getStatus();if(Rm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Um).indexOf(t)>=0?t:Um.UNKNOWN}(r.status);a(new Vm(s,r.message))}else a(new Vm(Um.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Vm(Um.UNAVAILABLE,"Connection failed."));break;default:Lm()}}finally{Rm("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=gm(),a=ym(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Em({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");Rm("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,f=new vw({Hr:function(e){c?Rm("Connection","Not sending because WebChannel is closed:",e):(l||(Rm("Connection","Opening WebChannel transport."),u.open(),l=!0),Rm("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,_m.EventType.OPEN,(function(){c||Rm("Connection","WebChannel transport opened.")})),h(u,_m.EventType.CLOSE,(function(){c||(c=!0,Rm("Connection","WebChannel transport closed"),f.io())})),h(u,_m.EventType.ERROR,(function(e){c||(c=!0,Om("Connection","WebChannel transport errored:",e),f.io(new Vm(Um.UNAVAILABLE,"The operation could not be completed")))})),h(u,_m.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Mm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Rm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=vk[e];if(void 0!==t)return wk(t)}(a),s=i.message;void 0===o&&(o=Um.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,f.io(new Vm(o,s)),u.close()}else Rm("Connection","WebChannel received:",n),f.ro(n)}})),h(a,wm.STAT_EVENT,(function(e){e.stat===xm.PROXY?Rm("Connection","Detected buffering proxy"):e.stat===xm.NOPROXY&&Rm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Z(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return te(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Rm("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Rm("RestConnection","Received: ",e),e}),(function(t){throw Om("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Im,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=pw[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function gw(){return"undefined"!=typeof document?document:null}function yw(e){return new Gk(e,!0)}var kw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Z(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return te(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Rm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),bw=function(){function e(t,n,r,i,a,o,s,u){Z(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new kw(t,n)}return te(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Um.RESOURCE_EXHAUSTED?(Pm(n.toString()),Pm("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===Um.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Vm(Um.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Rm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Rm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ww=function(e){re(n,e);var t=ue(n);function n(e,r,i,a,o,s){var u;return Z(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).It=o,u}return te(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Lm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Mm(void 0===t||"string"==typeof t),Cg.fromBase64String(t||"")):(Mm(void 0===t||t instanceof Uint8Array),Cg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Um.UNKNOWN:wk(e.code);return new Vm(t,e.message||"")}(o);n=new Fk(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=tb(e,u.document.name),c=$k(u.document.updateTime),f=new ty({mapValue:{fields:u.document.fields}}),h=ry.newFoundDocument(l,c,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Uk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=tb(e,v.document),g=v.readTime?$k(v.readTime):eg.min(),y=ry.newNoDocument(m,g),k=v.removedTargetIds||[];n=new Uk([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=tb(e,b.document),x=b.removedTargetIds||[];n=new Uk([],x,w,null)}else{if(!("filter"in t))return Lm();t.filter;var E=t.filter;E.targetId;var _=E.count||0,S=new kk(_),T=E.targetId;n=new Vk(T,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return eg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?eg.min():t.readTime?$k(t.readTime):eg.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=ib(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=uy(r)?{documents:ub(e,r)}:{query:lb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xk(e,t.resumeToken):t.snapshotVersion.compareTo(eg.min())>0&&(n.readTime=Qk(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=ib(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(bw),xw=function(e){re(n,e);var t=ue(n);function n(e,r,i,a,o,s){var u;return Z(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).It=o,u.Jo=!1,u}return te(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,xh(ie(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Mm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Mm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?$k(e.updateTime):$k(t);return n.isEqual(eg.min())&&(n=$k(t)),new tk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=$k(e.commitTime);return this.listener.Zo(n,t)}return Mm(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=ib(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return sb(t.It,e)}))};this.Bo(n)}}]),n}(bw),Ew=function(e){re(n,e);var t=ue(n);function n(e,r,i,a){var o;return Z(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.It=a,o.nu=!1,o}return te(n,[{key:"su",value:function(){if(this.nu)throw new Vm(Um.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Um.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vm(Um.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Um.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Vm(Um.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return te((function e(){Z(this,e)}))}());var _w=function(){function e(t,n){Z(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return te(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Pm(t),this.ou=!1):Rm("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Sw=te((function e(t,n,r,a,s){var u=this;Z(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr((function(e){r.enqueueAndForget(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Mw(u),!e.t0){e.next=5;break}return Rm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jm(t))._u.add(4),e.next=4,Iw(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Tw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new _w(r,a)}));function Tw(e){return Cw.apply(this,arguments)}function Cw(){return Cw=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mw(t)){e.next=18;break}n=we(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Cw.apply(this,arguments)}function Iw(e){return Nw.apply(this,arguments)}function Nw(){return Nw=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=we(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Nw.apply(this,arguments)}function Aw(e,t){var n=jm(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Lw(n)?Dw(n):fx(n).ko()&&Pw(n,t))}function Rw(e,t){var n=jm(e),r=fx(n);n.du.delete(t),r.ko()&&Ow(n,t),0===n.du.size&&(r.ko()?r.Fo():Mw(n)&&n.gu.set("Unknown"))}function Pw(e,t){e.yu.Mt(t.targetId),fx(e).zo(t)}function Ow(e,t){e.yu.Mt(t),fx(e).Ho(t)}function Dw(e){e.yu=new Bk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),fx(e).start(),e.gu.uu()}function Lw(e){return Mw(e)&&!fx(e).No()&&e.du.size>0}function Mw(e){return 0===jm(e)._u.size}function jw(e){e.yu=void 0}function Uw(e){return Vw.apply(this,arguments)}function Vw(){return Vw=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Pw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Vw.apply(this,arguments)}function Fw(e,t){return zw.apply(this,arguments)}function zw(){return zw=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jw(t),Lw(t)?(t.gu.hu(n),Dw(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function Bw(e,t,n){return Hw.apply(this,arguments)}function Hw(){return Hw=o(i().mark((function e(t,n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Fk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=o(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,a=we(n.targetIds),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=14;break}if(s=o.value,e.t0=t.du.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,r);case 10:t.du.delete(s),t.yu.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Rm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,qw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Uk?t.yu.Gt(n):n instanceof Vk?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(eg.min())){e.next=29;break}return e.prev=14,e.next=17,tw(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Cg.EMPTY_BYTE_STRING,n.snapshotVersion)),Ow(e,t);var r=new Tb(n.target,t,1,n.sequenceNumber);Pw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Rm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,qw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Hw.apply(this,arguments)}function qw(e,t,n){return Ww.apply(this,arguments)}function Ww(){return Ww=o(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mg(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,Iw(t);case 5:t.gu.set("Offline"),r||(r=function(){return tw(t.localStore)}),t.asyncQueue.enqueueRetryable(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Tw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Kw(e,t){return t().catch((function(n){return qw(e,n,t)}))}function Gw(e){return Qw.apply(this,arguments)}function Qw(){return Qw=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=jm(t),r=hx(n),a=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!Xw(n)){e.next=19;break}return e.prev=3,e.next=6,iw(n.localStore,a);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:a=o.batchId,Yw(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,qw(n,e.t0);case 17:e.next=2;break;case 19:$w(n)&&Jw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Qw.apply(this,arguments)}function Xw(e){return Mw(e)&&e.fu.length<10}function Yw(e,t){e.fu.push(t);var n=hx(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function $w(e){return Mw(e)&&!hx(e).No()&&e.fu.length>0}function Jw(e){hx(e).start()}function Zw(e){return ex.apply(this,arguments)}function ex(){return ex=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hx(t).eu();case 1:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e){return nx.apply(this,arguments)}function nx(){return nx=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hx(t),r=we(t.fu);try{for(r.s();!(a=r.n()).done;)o=a.value,n.Xo(o.mutations)}catch(i){r.e(i)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),nx.apply(this,arguments)}function rx(e,t,n){return ix.apply(this,arguments)}function ix(){return ix=o(i().mark((function e(t,n,r){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.fu.shift(),o=_b.from(a,n,r),e.next=3,Kw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,Gw(t);case 5:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e,t){return ox.apply(this,arguments)}function ox(){return ox=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&hx(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bk(a=n.code)||a===Um.ABORTED){e.next=7;break}return r=t.fu.shift(),hx(t).Mo(),e.next=5,Kw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Gw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$w(t)&&Jw(t);case 5:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function sx(e,t){return ux.apply(this,arguments)}function ux(){return ux=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=jm(t)).asyncQueue.verifyOperationInProgress(),Rm("RemoteStore","RemoteStore received new credentials"),a=Mw(r),r._u.add(3),e.next=6,Iw(r);case 6:return a&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Tw(r);case 12:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function lx(e,t){return cx.apply(this,arguments)}function cx(){return cx=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jm(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Tw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,Iw(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function fx(e){return e.pu||(e.pu=function(e,t,n){var r=jm(e);return r.su(),new ww(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Uw.bind(null,e),Zr:Fw.bind(null,e),Wo:Bw.bind(null,e)}),e.wu.push(function(){var t=o(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),Lw(e)?Dw(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:jw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function hx(e){return e.Iu||(e.Iu=function(e,t,n){var r=jm(e);return r.su(),new xw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Zw.bind(null,e),Zr:ax.bind(null,e),tu:tx.bind(null,e),Zo:rx.bind(null,e)}),e.wu.push(function(){var t=o(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,Gw(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Rm("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var dx=function(){function e(t,n,r,i,a){Z(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return te(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vm(Um.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function px(e,t){if(Pm("AsyncQueue","".concat(t,": ").concat(e)),mg(e))return new Vm(Um.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var vx=function(){function e(t){Z(this,e),this.comparator=t?function(e,n){return t(e,n)||ag.comparator(e.key,n.key)}:function(e,t){return ag.comparator(e.key,t.key)},this.keyedMap=Tk(),this.sortedSet=new wg(this.comparator)}return te(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),mx=function(){function e(){Z(this,e),this.Tu=new wg(ag.comparator)}return te(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Lm():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gx=function(){function e(t,n,r,i,a,o,s,u,l){Z(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return te(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,vx.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),yx=te((function e(){Z(this,e),this.Au=void 0,this.listeners=[]})),kx=te((function e(){Z(this,e),this.queries=new xk((function(e){return Dy(e)}),Oy),this.onlineState="Unknown",this.Ru=new Set}));function bx(e,t){return wx.apply(this,arguments)}function wx(){return wx=o(i().mark((function e(t,n){var r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jm(t),a=n.query,o=!1,(s=r.queries.get(a))||(o=!0,s=new yx),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(a);case 6:s.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=px(e.t0,"Initialization of query '".concat(Ly(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(a,s),s.listeners.push(n),n.bu(r.onlineState),s.Au&&n.Pu(s.Au)&&Tx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),wx.apply(this,arguments)}function xx(e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=o(i().mark((function e(t,n){var r,a,o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jm(t),a=n.query,o=!1,(s=r.queries.get(a))&&(u=s.listeners.indexOf(n))>=0&&(s.listeners.splice(u,1),o=0===s.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(a),r.onUnlisten(a)));case 6:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function _x(e,t){var n,r=jm(e),i=!1,a=we(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=we(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Pu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&Tx(r)}function Sx(e,t,n){var r=jm(e),i=r.queries.get(t);if(i){var a,o=we(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Tx(e){e.Ru.forEach((function(e){e.next()}))}var Cx=function(){function e(t,n,r){Z(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return te(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=we(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=gx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}();var Ix=te((function e(t){Z(this,e),this.key=t})),Nx=te((function e(t){Z(this,e),this.key=t})),Ax=function(){function e(t,n){Z(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ok(),this.mutatedKeys=Ok(),this.Gu=Uy(t),this.Qu=new vx(this.Gu)}return te(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new mx,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=My(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||l&&n.Gu(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lm()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new gx(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new mx,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Ok(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Nx(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Ix(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Ok();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return gx.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),Rx=te((function e(t,n,r){Z(this,e),this.query=t,this.targetId=n,this.view=r})),Px=te((function e(t){Z(this,e),this.key=t,this.nc=!1})),Ox=function(){function e(t,n,r,i,a,o){Z(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new xk((function(e){return Dy(e)}),Oy),this.rc=new Map,this.oc=new Set,this.uc=new wg(ag.comparator),this.cc=new Map,this.ac=new Vb,this.hc={},this.lc=new Map,this.fc=Ob.vn(),this.onlineState="Unknown",this.dc=void 0}return te(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function Dx(e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=o(i().mark((function e(t,n){var r,a,o,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lE(t),!(s=r.ic.get(n))){e.next=6;break}a=s.targetId,r.sharedClientState.addLocalQueryTarget(a),o=s.view.ec(),e.next=15;break;case 6:return e.next=8,aw(r.localStore,Ry(n));case 8:return u=e.sent,r.isPrimaryClient&&Aw(r.remoteStore,u),l=r.sharedClientState.addLocalQueryTarget(u.targetId),a=u.targetId,e.next=14,Mx(r,n,a,"current"===l,u.resumeToken);case 14:o=e.sent;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Mx(e,t,n,r,i){return jx.apply(this,arguments)}function jx(){return jx=o(i().mark((function e(t,n,r,a,s){var u,l,c,f,h,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=o(i().mark((function e(t,n,r,a){var o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.Wu(r),e.t0=o.$i,!e.t0){e.next=6;break}return e.next=5,uw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,o)}));case 5:o=e.sent;case 6:return s=a&&a.targetChanges.get(n.targetId),u=n.view.applyChanges(o,t.isPrimaryClient,s),e.abrupt("return",(tE(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,uw(t.localStore,n,!0);case 3:return u=e.sent,l=new Ax(n,u.Hi),c=l.Wu(u.documents),f=jk.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState,s),h=l.applyChanges(c,t.isPrimaryClient,f),tE(t,r,h.Xu),d=new Rx(n,r,l),e.abrupt("return",(t.ic.set(n,d),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Ux(e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=o(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jm(t),a=r.ic.get(n),!((o=r.rc.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(a.targetId,o.filter((function(e){return!Oy(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,ow(r.localStore,a.targetId,!1).then((function(){r.sharedClientState.clearQueryState(a.targetId),Rw(r.remoteStore,a.targetId),Zx(r,a.targetId)})).catch(dg);case 9:e.next=14;break;case 11:return Zx(r,a.targetId),e.next=14,ow(r.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Fx(e,t,n){return zx.apply(this,arguments)}function zx(){return zx=o(i().mark((function e(t,n,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=jm(e),a=Zm.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ok());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=_k(),u=Ok();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=we(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=uk(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new fk(l.key,c,ny(c.value.mapValue),nk.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ck(n)}}))}(a.localStore,n);case 4:return o=e.sent,a.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new wg($m)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(a,o.batchId,r),e.next=9,iE(a,o.changes);case 9:return e.next=11,Gw(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=px(e.t0,"Failed to persist write"),r.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),zx.apply(this,arguments)}function Bx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jm(t),e.prev=1,e.next=4,nw(r.localStore,n);case 4:return a=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Mm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Mm(n.nc):e.removedDocuments.size>0&&(Mm(n.nc),n.nc=!1))})),e.next=8,iE(r,a,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,dg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Hx.apply(this,arguments)}function qx(e,t,n){var r=jm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=jm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=we(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Tx(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Wx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=o(i().mark((function e(t,n,r){var a,o,s,u,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=jm(t)).sharedClientState.updateQueryState(n,"rejected",r),o=a.cc.get(n),!(s=o&&o.key)){e.next=14;break}return u=(u=new wg(ag.comparator)).insert(s,ry.newNoDocument(s,eg.min())),l=Ok().add(s),c=new Mk(eg.min(),new Map,new _g($m),u,l),e.next=9,Bx(a,c);case 9:a.uc=a.uc.remove(s),a.cc.delete(n),rE(a),e.next=16;break;case 14:return e.next=16,ow(a.localStore,n,!1).then((function(){return Zx(a,n,r)})).catch(dg);case 16:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Gx(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=o(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jm(t),a=n.batch.batchId,e.prev=1,e.next=4,ew(r.localStore,n);case 4:return o=e.sent,Jx(r,a,null),$x(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,iE(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qx.apply(this,arguments)}function Xx(e,t,n){return Yx.apply(this,arguments)}function Yx(){return Yx=o(i().mark((function e(t,n,r){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jm(t),e.prev=1,e.next=4,function(e,t){var n=jm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Mm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(a.localStore,n);case 4:return o=e.sent,Jx(a,n,r),$x(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,iE(a,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Yx.apply(this,arguments)}function $x(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Jx(e,t,n){var r=jm(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Zx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=we(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||eE(e,t)}))}function eE(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(Rw(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),rE(e))}function tE(e,t,n){var r,i=we(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Ix?(e.ac.addReference(a.key,t),nE(e,a)):a instanceof Nx?(Rm("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||eE(e,a.key)):Lm()}}catch(o){i.e(o)}finally{i.f()}}function nE(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Rm("SyncEngine","New document in limbo: "+n),e.oc.add(r),rE(e))}function rE(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new ag(ng.fromString(t)),r=e.fc.next();e.cc.set(r,new Px(n)),e.uc=e.uc.insert(n,r),Aw(e.remoteStore,new Tb(Ry(Sy(n.path)),r,2,gg.at))}}function iE(e,t,n){return aE.apply(this,arguments)}function aE(){return aE=o(i().mark((function e(t,n,r){var a,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=jm(t),s=[],u=[],l=[],e.t0=a.ic.isEmpty(),e.t0){e.next=9;break}return a.ic.forEach((function(e,t){l.push(a._c(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);var n=Qb.Ci(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(l);case 6:return a.sc.Wo(s),e.next=9,function(){var e=o(i().mark((function e(t,n){var r,a,o,s,u,l,c,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return vg.forEach(n,(function(t){return vg.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return vg.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),mg(e.t0)){e.next=10;break}throw e.t0;case 10:Rm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=we(n);try{for(a.s();!(o=a.n()).done;)s=o.value,u=s.targetId,s.fromCache||(l=r.Ui.get(u),c=l.snapshotVersion,f=l.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,f))}catch(i){a.e(i)}finally{a.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,u);case 9:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return sE.apply(this,arguments)}function sE(){return sE=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=jm(t)).currentUser.isEqual(n)){e.next=11;break}return Rm("SyncEngine","User change. New user:",n.toKey()),e.next=5,Jb(r.localStore,n);case 5:return a=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Vm(Um.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),e.next=11,iE(r,a.ji);case 11:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function uE(e,t){var n=jm(e),r=n.cc.get(t);if(r&&r.nc)return Ok().add(r.key);var i=Ok(),a=n.rc.get(t);if(!a)return i;var o,s=we(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.ic.get(u);i=i.unionWith(l.view.ju)}}catch(c){s.e(c)}finally{s.f()}return i}function lE(e){var t=jm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Wx.bind(null,t),t.sc.Wo=_x.bind(null,t.eventManager),t.sc.wc=Sx.bind(null,t.eventManager),t}function cE(e){var t=jm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xx.bind(null,t),t}var fE=function(){function e(){Z(this,e),this.synchronizeTabs=!1}return te(e,[{key:"initialize",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=yw(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return $b(this.persistence,new Xb,e.initialUser,this.It)}},{key:"yc",value:function(e){return new Wb(Gb.Bs,this.It)}},{key:"gc",value:function(e){return new fw}},{key:"terminate",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hE=function(){function e(){Z(this,e)}return te(e,[{key:"initialize",value:function(){var e=o(i().mark((function e(t,n){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return qx(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=oE.bind(null,this.syncEngine),e.next=12,lx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new kx}},{key:"createDatastore",value:function(e){var t,n=yw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new mw(t));return function(e,t,n,r){return new Ew(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return qx(o.syncEngine,e,0)},a=dw.C()?new dw:new hw,new Sw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Ox(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jm(t),Rm("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,Iw(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function dE(e,t,n){if(!n)throw new Vm(Um.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pE(e){if(!ag.isDocumentKey(e))throw new Vm(Um.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function vE(e){if(ag.isDocumentKey(e))throw new Vm(Um.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function mE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Lm()}function gE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vm(Um.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mE(e);throw new Vm(Um.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var yE=new Map,kE=function(){function e(t){var n;if(Z(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Vm(Um.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vm(Um.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Vm(Um.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return te(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),bE=function(){function e(t,n,r,i){Z(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1}return te(e,[{key:"app",get:function(){if(!this._app)throw new Vm(Um.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Vm(Um.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bm;switch(e.type){case"gapi":var t=e.client;return new Km(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vm(Um.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=yE.get(e);t&&(Rm("ComponentProvider","Removing Datastore"),yE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function wE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=gE(e,bE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Om("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Cm.MOCK_USER;else{o=gl(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Vm(Um.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Cm(u)}e._authCredentials=new Hm(new zm(o,s))}}var xE=function(){function e(t,n,r){Z(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return te(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new _E(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),EE=function(){function e(t,n,r){Z(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return te(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),_E=function(e){re(n,e);var t=ue(n);function n(e,r,i){var a;return Z(this,n),(a=t.call(this,e,r,Sy(i)))._path=i,a.type="collection",a}return te(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xE(this.firestore,null,new ag(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(EE);function SE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nl(e),dE("collection","path",t),e instanceof bE){var a=ng.fromString.apply(ng,[t].concat(r));return vE(a),new _E(e,null,a)}if(!(e instanceof xE||e instanceof _E))throw new Vm(Um.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ng.fromString.apply(ng,[t].concat(r)));return vE(o),new _E(e.firestore,null,o)}function TE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nl(e),1===arguments.length&&(t=Ym.R()),dE("doc","path",t),e instanceof bE){var a=ng.fromString.apply(ng,[t].concat(r));return pE(a),new xE(e,null,new ag(a))}if(!(e instanceof xE||e instanceof _E))throw new Vm(Um.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ng.fromString.apply(ng,[t].concat(r)));return pE(o),new xE(e.firestore,e instanceof _E?e.converter:null,new ag(o))}var CE=function(){function e(t){Z(this,e),this.observer=t,this.muted=!1}return te(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):Pm("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),IE=function(){function e(t,n,r,a){var s=this;Z(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Cm.UNAUTHENTICATED,this.clientId=Ym.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rm("FirestoreClient","Received user=",t.uid),e.next=3,s.authCredentialListener(t);case 3:s.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Rm("FirestoreClient","Received new app check token=",e),s.appCheckCredentialListener(e,s.user)}))}return te(e,[{key:"getConfiguration",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Vm(Um.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Fm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(o(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=px(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function NE(e,t){return AE.apply(this,arguments)}function AE(){return AE=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Rm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:a=r.initialUser,t.setCredentialChangeListener(function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,Jb(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function RE(e,t){return PE.apply(this,arguments)}function PE(){return PE=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,OE(t);case 3:return r=e.sent,Rm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return a=e.sent,e.next=10,n.initialize(r,a);case 10:t.setCredentialChangeListener((function(e){return sx(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sx(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function OE(e){return DE.apply(this,arguments)}function DE(){return DE=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Rm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,NE(t,new fE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function LE(e){return ME.apply(this,arguments)}function ME(){return ME=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Rm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,RE(t,new hE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function jE(e){return LE(e).then((function(e){return e.syncEngine}))}function UE(e){return VE.apply(this,arguments)}function VE(){return VE=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Dx.bind(null,n.syncEngine),r.onUnlisten=Ux.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function FE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fm;return e.asyncQueue.enqueueAndForget(o(i().mark((function a(){return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new CE({next:function(n){t.enqueueAndForget((function(){return xx(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Vm(Um.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Cx(n,a,{includeMetadataChanges:!0,Nu:!0});return bx(e,o)},i.next=3,UE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),a)})))),r.promise}var zE=function(){function e(){var t=this;Z(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new kw(this,"async_queue_retry"),this.Wc=function(){var e=gw();e&&Rm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=gw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return te(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=gw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new Fm;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=o(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),mg(e.t0)){e.next=12;break}throw e.t0;case 12:Rm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Pm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=dx.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&Lm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=we(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=we(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();var BE=function(e){re(n,e);var t=ue(n);function n(e,r,i,a){var o;return Z(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new zE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return te(n,[{key:"_terminate",value:function(){return this._firestoreClient||qE(this),this._firestoreClient.terminate()}}]),n}(bE);function HE(e){return e._firestoreClient||qE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Lg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new IE(e._authCredentials,e._appCheckCredentials,e._queue,r)}var WE=function(){function e(t){Z(this,e),this._byteString=t}return te(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Cg.fromBase64String(t))}catch(t){throw new Vm(Um.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Cg.fromUint8Array(t))}}]),e}(),KE=function(){function e(){Z(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Vm(Um.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ig(n)}return te(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var GE=te((function e(t){Z(this,e),this._methodName=t})),QE=function(){function e(t,n){if(Z(this,e),!isFinite(t)||t<-90||t>90)throw new Vm(Um.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Vm(Um.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return te(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return $m(this._lat,e._lat)||$m(this._long,e._long)}}]),e}(),XE=/^__.*__$/,YE=function(){function e(t,n,r){Z(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return te(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fk(e,this.data,this.fieldMask,t,this.fieldTransforms):new ck(e,this.data,t,this.fieldTransforms)}}]),e}();function $E(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lm()}}var JE=function(){function e(t,n,r,i,a,o){Z(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return te(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return l_(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if($E(this.sa)&&XE.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),ZE=function(){function e(t,n,r){Z(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||yw(t)}return te(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new JE({sa:e,methodName:t,fa:n,path:ig.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function e_(e){var t=e._freezeSettings(),n=yw(e._databaseId);return new ZE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function t_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);a_("Data must be an object, but it was:",o,r);var s,u,l=r_(r,o);if(a.merge)s=new Tg(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=we(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=o_(t,d,n);if(!o.contains(p))throw new Vm(Um.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));c_(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Tg(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new YE(new ty(l),s,u)}function n_(e,t){if(i_(e=Nl(e)))return a_("Unsupported field value:",t,e),r_(e,t);if(e instanceof GE)return function(e,t){if(!$E(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=we(e);try{for(a.s();!(n=a.n()).done;){var o=n_(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Nl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return By(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zm.fromDate(e);return{timestampValue:Qk(t.It,n)}}if(e instanceof Zm){var r=new Zm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qk(t.It,r)}}if(e instanceof QE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof WE)return{bytesValue:Xk(t.It,e._byteString)};if(e instanceof xE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Jk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(mE(e)))}(e,t)}function r_(e,t){var n={};return bg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kg(e,(function(e,r){var i=n_(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function i_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zm||e instanceof QE||e instanceof WE||e instanceof xE||e instanceof GE)}function a_(e,t,n){if(!i_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=mE(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function o_(e,t,n){if((t=Nl(t))instanceof KE)return t._internalPath;if("string"==typeof t)return u_(e,t);throw l_("Field path arguments must be of type string or ",e,!1,void 0,n)}var s_=new RegExp("[~\\*/\\[\\]]");function u_(e,t,n){if(t.search(s_)>=0)throw l_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return nl(KE,fn(t.split(".")))._internalPath}catch(r){throw l_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function l_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Vm(Um.INVALID_ARGUMENT,s+e+u)}function c_(e,t){return e.some((function(e){return e.isEqual(t)}))}var f_=function(){function e(t,n,r,i,a){Z(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return te(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new xE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new h_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(d_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),h_=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.apply(this,arguments)}return te(n,[{key:"data",value:function(){return xh(ie(n.prototype),"data",this).call(this)}}]),n}(f_);function d_(e,t){return"string"==typeof t?u_(e,t):t instanceof KE?t._internalPath:t._delegate._internalPath}function p_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vm(Um.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var v_=te((function e(){Z(this,e)}));function m_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var g_=function(e){re(n,e);var t=ue(n);function n(e,r){var i;return Z(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return te(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Vm(Um.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Vm(Um.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ky(t,n);return function(e,t){if(null===Cy(e)){var n=Iy(e);null!==n&&k_(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new EE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ey(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(v_);function y_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=d_("orderBy",e);return new g_(r,n)}function k_(e,t,n){if(!n.isEqual(t))throw new Vm(Um.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var b_=function(){function e(){Z(this,e)}return te(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ag(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return kg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new QE(Ag(e.latitude),Ag(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Og(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ng(e);return new Zm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ng.fromString(e);Mm(kb(n));var r=new Mg(n.get(1),n.get(3)),i=new ag(n.popFirst(5));return r.isEqual(t)||Pm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function w_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var x_=function(){function e(t,n){Z(this,e),this.hasPendingWrites=t,this.fromCache=n}return te(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),E_=function(e){re(n,e);var t=ue(n);function n(e,r,i,a,o,s){var u;return Z(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return te(n,[{key:"exists",value:function(){return xh(ie(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new __(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(d_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(f_),__=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.apply(this,arguments)}return te(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xh(ie(n.prototype),"data",this).call(this,e)}}]),n}(E_),S_=function(){function e(t,n,r,i){Z(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new x_(i.hasPendingWrites,i.fromCache),this.query=r}return te(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new __(n._firestore,n._userDataWriter,r.key,r,new x_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Vm(Um.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new __(e._firestore,e._userDataWriter,t.doc.key,t.doc,new x_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new __(e._firestore,e._userDataWriter,t.doc.key,t.doc,new x_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:T_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function T_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lm()}}var C_=function(e){re(n,e);var t=ue(n);function n(e){var r;return Z(this,n),(r=t.call(this)).firestore=e,r}return te(n,[{key:"convertBytes",value:function(e){return new WE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xE(this.firestore,null,t)}}]),n}(b_);function I_(e){e=gE(e,EE);var t=gE(e.firestore,BE),n=HE(t),r=new C_(t);return p_(e._query),FE(n,e._query).then((function(n){return new S_(t,r,e,n)}))}function N_(e,t,n){e=gE(e,xE);var r=gE(e.firestore,BE),i=w_(e.converter,t,n);return A_(r,[t_(e_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nk.none())])}function A_(e,t){return function(e,t){var n=new Fm;return e.asyncQueue.enqueueAndForget(o(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Fx,r.next=3,jE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(HE(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Im="9.13.0",vc(new Al("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new BE(new qm(e.getProvider("auth-internal")),new Qm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vm(Um.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mg(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ec(Tm,"3.7.2",e),Ec(Tm,"3.7.2","esm2017")}();var R_=wc({apiKey:"AIzaSyAv3fdmxEsTkcA0Ox6KNLCLrgHjBukQrKU",authDomain:"restaurantapp-c061e.firebaseapp.com",databaseURL:"https://restaurantapp-c061e-default-rtdb.firebaseio.com",projectId:"restaurantapp-c061e",storageBucket:"restaurantapp-c061e.appspot.com",messagingSenderId:"163428038173",appId:"1:163428038173:web:f15c3e1c4dad4ff18138f4"}),P_=function(e,t){var n="string"==typeof e?e:t||"(default)",r=mc("object"==typeof e?e:xc(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=dl("firestore");i&&wE.apply(void 0,[r].concat(fn(i)))}return r}(R_),O_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc(),t=arguments.length>1?arguments[1]:void 0,n=mc(e=Nl(e),mh),r=n.getImmediate({identifier:t}),i=dl("storage");return i&&kh.apply(void 0,[r].concat(fn(i))),r}(R_),D_=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N_(TE(P_,"foodItems","".concat(Date.now())),t,{merge:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L_=function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I_(m_(SE(P_,"foodItems"),y_("id","desc")));case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M_=function(){var t=l((0,e.useState)(""),2),n=t[0],r=t[1],a=l((0,e.useState)(""),2),s=a[0],u=a[1],c=l((0,e.useState)(""),2),f=c[0],h=c[1],d=l((0,e.useState)(null),2),p=d[0],v=d[1],m=l((0,e.useState)(null),2),g=m[0],k=m[1],b=l((0,e.useState)(!1),2),w=b[0],_=b[1],S=l((0,e.useState)("danger"),2),C=(S[0],S[1]),I=l((0,e.useState)(null),2),N=I[0],A=I[1],R=l((0,e.useState)(!1),2),P=R[0],O=R[1],D=l(Bs(),2),L=(D[0].foodItems,D[1]),M=function(){r(""),k(null),u(""),h(""),u("Select Category")},j=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L_().then((function(e){L({type:Ls,foodItems:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Vs.jsx)("div",{className:"w-full min-h-screen flex items-center justify-center",children:(0,Vs.jsxs)("div",{className:"w-[90%] md:w-[75%] border border-gray-300 rounded-lg p-4 flex flex-col items-center justify-center gap-4",children:[w&&(0,Vs.jsx)(Ps.p,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:'w-full p-2 rounded-lg text-center text-lg font-semibold ${alertStatus === "danger" ? "bg-red-400 text-red-800" : "bg-emerald-400 text-emerald-800 "}',children:N}),(0,Vs.jsxs)("div",{className:"w-full py-2 border-b border-gray-300 flex items-center gap-2",children:[(0,Vs.jsx)(E,{className:"text-xl text-gray-700"}),(0,Vs.jsx)("input",{type:"text",required:!0,value:n,onChange:function(e){return r(e.target.value)},placeholder:"Give me a title...",className:"w-full h-full text-lg bg-transparent outline-none border-none placeholder:text-gray-400 text-textColor"})]}),(0,Vs.jsx)("div",{className:"w-full",children:(0,Vs.jsxs)("select",{onChange:function(e){return v(e.target.value)},className:"outline-none w-full text-base border-b-2 border-gray-200 p-2 rounded-md cursor-pointer",children:[(0,Vs.jsx)("option",{value:"other",className:"bg-white",children:"Select Category"}),Lu&&Lu.map((function(e){return(0,Vs.jsx)("option",{className:"text-base border-0 outline-none capitalize bg-white text-headingColor",value:e.urlParamName,children:e.name},e.id)}))]})}),(0,Vs.jsx)("div",{className:"group flex justify-center items-center flex-col border-2 border-dotted border-gray-300 w-full h-225 md:h-420 cursor-pointer rounded-lg",children:P?(0,Vs.jsx)(tl,{}):(0,Vs.jsx)(Vs.Fragment,{children:g?(0,Vs.jsx)(Vs.Fragment,{children:(0,Vs.jsxs)("div",{className:"relative h-full",children:[(0,Vs.jsx)("img",{src:g,alt:"uploaded image",className:"w-full h-full object-cover"}),(0,Vs.jsx)("button",{type:"button",className:"absolute bottom-3 right-3 p-3 rounded-full bg-red-500 text-xl cursor-pointer outline-none hover:shadow-md duration-500 transition-all ease-in-out",onClick:function(){O(!0),function(e){return sh(e=Nl(e))}(yh(O_,g)).then((function(){k(null),O(!1),_(!0),A("Image deleted successfully"),C("success"),setTimeout((function(){_(!1)}),4e3)}))},children:(0,Vs.jsx)(y,{className:"text-white"})})]})}):(0,Vs.jsx)(Vs.Fragment,{children:(0,Vs.jsxs)("label",{className:"w-full h-full flex flex-col items-center justify-center cursor-pointer",children:[(0,Vs.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center gap-2",children:[(0,Vs.jsx)(x,{className:"text-gray-500 text-3xl hover:text-gray-700 "}),(0,Vs.jsx)("p",{className:"text-gray-500  hover:text-gray-700",children:"Click here to upload"})]}),(0,Vs.jsx)("input",{type:"file",name:"uploadimage",accept:"image/*",onChange:function(e){O(!0);var t=e.target.files[0],n=gh(yh(O_,"Images/".concat(Date.now(),"-").concat(t.name)),t);n.on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){console.log(e),_(!0),A("Error while uploading : Try Again"),C("danger"),setTimeout((function(){_(!1),O(!1)}),4e3)}),(function(){(function(e){return oh(e=Nl(e))})(n.snapshot.ref).then((function(e){k(e),O(!1),_(!0),A("Image uploaded successfully"),C("success"),setTimeout((function(){_(!1)}),4e3)}))}))},className:"w-0 h-0"})]})})})}),(0,Vs.jsxs)("div",{className:"w-full flex flex-col md:flex-row items-center gap-3",children:[(0,Vs.jsxs)("div",{className:"w-full py-2 border-b border-gray-300 flex items-center gap-2 ",children:[(0,Vs.jsx)(T,{className:"text-gray-700 text-2xl"}),(0,Vs.jsx)("input",{type:"text",required:!0,value:s,onChange:function(e){return u(e.target.value)},placeholder:"Calories",className:"w-full h-full text-lg bg-transparent outline-none border-none placeholder:text-gray-400 text-textColor"})]}),(0,Vs.jsxs)("div",{className:"w-full py-2 border-b border-gray-300 flex items-center gap-2 ",children:[(0,Vs.jsx)("span",{className:"text-gray-700 text-2xl",children:"Rs."}),(0,Vs.jsx)("input",{type:"text",required:!0,value:f,onChange:function(e){return h(e.target.value)},placeholder:"Price",className:"w-full h-full text-lg bg-transparent outline-none border-none placeholder:text-gray-400 text-textColor"})]})]}),(0,Vs.jsxs)("div",{className:"flex items-center w-full",children:[(0,Vs.jsx)("div",{className:"flex items-center w-full mx-3",children:(0,Vs.jsx)(Au,{to:"/",type:"button",className:"ml-0 md:ml-auto w-full md:w-auto border-none outline-none bg-red-700 px-12 py-2 rounded-lg text-lg text-white font-semibold",children:"Cancel"})}),(0,Vs.jsx)("button",{type:"button",className:"ml-0 md:ml-auto w-full md:w-auto border-none outline-none bg-emerald-500 px-12 py-2 rounded-lg text-lg text-white font-semibold",onClick:function(){O(!0);try{if(n&&s&&g&&f&&p){var e={id:"".concat(Date.now()),title:n,imageURL:g,category:p,calories:s,qty:1,price:f};D_(e),O(!1),_(!0),A("Data uploaded successfully"),M(),C("success"),setTimeout((function(){_(!1)}),4e3)}else _(!0),A("Required Fields can't be empty."),C("danger"),setTimeout((function(){_(!1),O(!1)}),4e3)}catch(t){console.log(t),_(!0),A("Error while uploading : Try Again"),C("danger"),setTimeout((function(){_(!1),O(!1)}),4e3)}j()},children:"Save"})]})]})})};function j_(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 11h14v2H5z"}}]})(e)}function U_(e){return m({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"}}]})(e)}var V_=function(t){var n=t.item,r=t.setFlag,i=t.flag,a=l((0,e.useState)(n.qty),2),o=a[0],s=a[1],u=l((0,e.useState)([]),2),c=u[0],f=u[1],h=l(Bs(),2),d=h[0].cartItems,p=h[1],v=function(){localStorage.setItem("cartItems",JSON.stringify(c)),p({type:js,cartItems:c})},m=function(e,t){"add"==e?(s(o+1),d.map((function(e){e.id===t&&(e.qty+=1,r(i+1))})),v()):1==o?(f(d.filter((function(e){return e.id!==t}))),r(i+1),v()):(s(o-1),d.map((function(e){e.id===t&&(e.qty-=1,r(i+1))})))};return(0,e.useEffect)((function(){f(d)}),[o]),(0,Vs.jsxs)("div",{className:"w-full p-1 px-2 rounded-lg bg-cartItem flex items-center gap-2",children:[(0,Vs.jsx)("img",{src:null===n||void 0===n?void 0:n.imageURL,className:"w-20 h-20 max-w-[60px] rounded-full object-contain",alt:""}),(0,Vs.jsxs)("div",{className:"flex flex-col ga--2",children:[(0,Vs.jsx)("p",{className:"text-base text-gray-50",children:null===n||void 0===n?void 0:n.title}),(0,Vs.jsxs)("p",{className:"text-sm block text-gray-300 font-semibold",children:["Rs. ",parseFloat(null===n||void 0===n?void 0:n.price)*o]})]}),(0,Vs.jsxs)("div",{className:"group flex items-center gap-2 ml-auto cursor-pointer",children:[(0,Vs.jsx)(Ps.div,{whileTap:{scale:.75},onClick:function(){return m("remove",null===n||void 0===n?void 0:n.id)},children:(0,Vs.jsx)(j_,{className:"text-gray-50"})}),(0,Vs.jsx)("p",{className:"w-5 h-5 rounded-sm bg-cartBg text-gray-50 flex items-center justify-center",children:o}),(0,Vs.jsx)(Ps.div,{whileTap:{scale:.75},onClick:function(){return m("add",null===n||void 0===n?void 0:n.id)},children:(0,Vs.jsx)(U_,{className:"text-gray-50"})})]})]})};function F_(){var t=(0,e.useRef)(!1);return M((function(){return t.current=!0,function(){t.current=!1}}),[]),t}var z_=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.apply(this,arguments)}return te(n,[{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){var n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.props.children}}]),n}(e.Component);function B_(t){var n=t.children,r=t.isPresent,i=(0,e.useId)(),a=(0,e.useRef)(null),o=(0,e.useRef)({width:0,height:0,top:0,left:0});return(0,e.useInsertionEffect)((function(){var e=o.current,t=e.width,n=e.height,s=e.top,u=e.left;if(!r&&a.current&&t&&n){a.current.dataset.motionPopId=i;var l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(t,"px !important;\n            height: ").concat(n,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(u,"px !important;\n          }\n        ")),function(){document.head.removeChild(l)}}}),[r]),e.createElement(z_,{isPresent:r,childRef:a,sizeRef:o},e.cloneElement(n,{ref:a}))}var H_=function(t){var n=t.children,r=t.initial,i=t.isPresent,a=t.onExitComplete,o=t.custom,s=t.presenceAffectsLayout,u=t.mode,l=X(q_),c=(0,e.useId)(),f=(0,e.useMemo)((function(){return{id:c,initial:r,isPresent:i,custom:o,onExitComplete:function(e){l.set(e,!0);var t,n=we(l.values());try{for(n.s();!(t=n.n()).done;){if(!t.value)return}}catch(r){n.e(r)}finally{n.f()}a&&a()},register:function(e){return l.set(e,!1),function(){return l.delete(e)}}}}),s?void 0:[i]);return(0,e.useMemo)((function(){l.forEach((function(e,t){return l.set(t,!1)}))}),[i]),e.useEffect((function(){!i&&!l.size&&a&&a()}),[i]),"popLayout"===u&&(n=e.createElement(B_,{isPresent:i},n)),e.createElement(D.Provider,{value:f},n)};function q_(){return new Map}var W_=function(e){return e.key||""};var K_=function(t){var n=t.children,r=t.custom,i=t.initial,a=void 0===i||i,o=t.onExitComplete,s=t.exitBeforeEnter,u=t.presenceAffectsLayout,c=void 0===u||u,f=t.mode,h=void 0===f?"sync":f;s&&(h="wait",$t(!1,"Replace exitBeforeEnter with mode='wait'"));var d=function(){var t=F_(),n=l((0,e.useState)(0),2),r=n[0],i=n[1],a=(0,e.useCallback)((function(){t.current&&i(r+1)}),[r]);return[(0,e.useCallback)((function(){return Fr.postRender(a)}),[a]),r]}(),p=l(d,1)[0],v=(0,e.useContext)(J).forceRender;v&&(p=v);var m=F_(),g=function(t){var n=[];return e.Children.forEach(t,(function(t){(0,e.isValidElement)(t)&&n.push(t)})),n}(n),y=g,k=new Set,b=(0,e.useRef)(y),w=(0,e.useRef)(new Map).current,x=(0,e.useRef)(!0);if(M((function(){x.current=!1,function(e,t){e.forEach((function(e){var n=W_(e);t.set(n,e)}))}(g,w),b.current=y})),Gt((function(){x.current=!0,w.clear(),k.clear()})),x.current)return e.createElement(e.Fragment,null,y.map((function(t){return e.createElement(H_,{key:W_(t),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:c,mode:h},t)})));y=fn(y);for(var E=b.current.map(W_),_=g.map(W_),S=E.length,T=0;T<S;T++){var C=E[T];-1===_.indexOf(C)&&k.add(C)}return"wait"===h&&k.size&&(y=[]),k.forEach((function(t){if(-1===_.indexOf(t)){var n=w.get(t);if(n){var i=E.indexOf(t);y.splice(i,0,e.createElement(H_,{key:W_(n),isPresent:!1,onExitComplete:function(){w.delete(t),k.delete(t);var e=b.current.findIndex((function(e){return e.key===t}));if(b.current.splice(e,1),!k.size){if(b.current=g,!1===m.current)return;p(),o&&o()}},custom:r,presenceAffectsLayout:c,mode:h},n))}}})),y=y.map((function(t){var n=t.key;return k.has(n)?t:e.createElement(H_,{key:W_(t),isPresent:!0,presenceAffectsLayout:c,mode:h},t)})),e.createElement(e.Fragment,null,k.size?y:y.map((function(t){return(0,e.cloneElement)(t)})))};var G_,Q_=function(){return(0,Vs.jsxs)("div",{className:"text-center",children:[(0,Vs.jsx)("h2",{children:"Admin Panel"}),(0,Vs.jsx)(Au,{to:"/login",children:(0,Vs.jsx)("p",{className:"px-4 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-100 transition-all duration-100 ease-in-out text-textColor text-base",children:"Login"})}),(0,Vs.jsx)(Au,{to:"/createItem",children:(0,Vs.jsxs)("p",{className:"px-4 py-2 flex items-center gap-3 cursor-pointer hover:bg-slate-100 transition-all duration-100 ease-in-out text-textColor text-base",children:["Add Items",(0,Vs.jsx)(w,{})]})})]})};function X_(){return N({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Y_=X_,$_=new kl("auth","Firebase",X_()),J_=new zl("@firebase/auth");function Z_(e){if(J_.logLevel<=Dl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];J_.error.apply(J_,["Auth (".concat(bc,"): ").concat(e)].concat(n))}}function eS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw iS.apply(void 0,[e].concat(n))}function tS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return iS.apply(void 0,[e].concat(n))}function nS(e,t,n){var r=Object.assign(Object.assign({},Y_()),N({},t,n));return new kl("auth","Firebase",r).create(t,{appName:e.name})}function rS(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&eS(e,"argument-error"),nS(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function iS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=fn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(fn(o)))}return $_.create.apply($_,[e].concat(n))}function aS(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw iS.apply(void 0,[t].concat(r))}}function oS(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Z_(t),new Error(t)}function sS(e,t){e||oS(t)}var uS=new Map;function lS(e){sS(e instanceof Function,"Expected a class definition");var t=uS.get(e);return t?(sS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,uS.set(e,t),t)}function cS(e,t){var n=mc(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(xl(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;eS(r,"already-initialized")}return n.initialize({options:t})}function fS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hS(){return"http:"===dS()||"https:"===dS()}function dS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function pS(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hS()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var vS=function(){function e(t,n){Z(this,e),this.shortDelay=t,this.longDelay=n,sS(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ul())||"object"===typeof navigator&&"ReactNative"===navigator.product}return te(e,[{key:"get",value:function(){return pS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function mS(e,t){sS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var gS=function(){function e(){Z(this,e)}return te(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void oS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void oS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void oS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),yS=(N(G_={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),N(G_,"MISSING_CUSTOM_TOKEN","internal-error"),N(G_,"INVALID_IDENTIFIER","invalid-email"),N(G_,"MISSING_CONTINUE_URI","internal-error"),N(G_,"INVALID_PASSWORD","wrong-password"),N(G_,"MISSING_PASSWORD","internal-error"),N(G_,"EMAIL_EXISTS","email-already-in-use"),N(G_,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),N(G_,"INVALID_IDP_RESPONSE","invalid-credential"),N(G_,"INVALID_PENDING_TOKEN","invalid-credential"),N(G_,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),N(G_,"MISSING_REQ_TYPE","internal-error"),N(G_,"EMAIL_NOT_FOUND","user-not-found"),N(G_,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),N(G_,"EXPIRED_OOB_CODE","expired-action-code"),N(G_,"INVALID_OOB_CODE","invalid-action-code"),N(G_,"MISSING_OOB_CODE","internal-error"),N(G_,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),N(G_,"INVALID_ID_TOKEN","invalid-user-token"),N(G_,"TOKEN_EXPIRED","user-token-expired"),N(G_,"USER_NOT_FOUND","user-token-expired"),N(G_,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),N(G_,"INVALID_CODE","invalid-verification-code"),N(G_,"INVALID_SESSION_INFO","invalid-verification-id"),N(G_,"INVALID_TEMPORARY_PROOF","invalid-credential"),N(G_,"MISSING_SESSION_INFO","missing-verification-id"),N(G_,"SESSION_EXPIRED","code-expired"),N(G_,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),N(G_,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),N(G_,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),N(G_,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),N(G_,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),N(G_,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),N(G_,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),N(G_,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),N(G_,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),N(G_,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),N(G_,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),G_),kS=new vS(3e4,6e4);function bS(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function wS(e,t,n,r){return xS.apply(this,arguments)}function xS(){return xS=o(i().mark((function e(t,n,r,a){var s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",ES(t,s,o(i().mark((function e(){var o,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},s={},a&&("GET"===n?s=a:o={body:JSON.stringify(a)}),u=_l(Object.assign({key:t.config.apiKey},s)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(l=e.sent)["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",gS.fetch()(CS(t,t.config.apiHost,r,u),Object.assign({method:n,headers:l,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function ES(e,t,n){return _S.apply(this,arguments)}function _S(){return(_S=o(i().mark((function e(t,n,r){var a,o,s,u,c,f,h,d,p,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},yS),n),e.prev=2,o=new IS(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw NS(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,f=c.split(" : "),h=l(f,2),d=h[0],p=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw NS(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw NS(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw NS(t,"user-disabled",u);case 29:if(v=a[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw nS(t,v,p);case 34:eS(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof yl)){e.next=41;break}throw e.t0;case 41:eS(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function SS(e,t,n,r){return TS.apply(this,arguments)}function TS(){return TS=o(i().mark((function e(t,n,r,a){var o,s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,wS(t,n,r,a,o);case 3:return"mfaPendingCredential"in(s=e.sent)&&eS(t,"multi-factor-auth-required",{_serverResponse:s}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function CS(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?mS(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var IS=function(){function e(t){var n=this;Z(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(tS(n.auth,"network-request-failed"))}),kS.get())}))}return te(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function NS(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=tS(e,t,r);return i.customData._tokenResponse=n,i}function AS(e,t){return RS.apply(this,arguments)}function RS(){return(RS=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PS(e,t){return OS.apply(this,arguments)}function OS(){return(OS=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DS(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function LS(){return LS=o(i().mark((function e(t){var n,r,a,o,s,u,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],r=Nl(t),e.next=4,r.getIdToken(n);case 4:return a=e.sent,aS((o=jS(a))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),s="object"===typeof o.firebase?o.firebase:void 0,u=null===s||void 0===s?void 0:s.sign_in_provider,e.abrupt("return",{claims:o,token:a,authTime:DS(MS(o.auth_time)),issuedAtTime:DS(MS(o.iat)),expirationTime:DS(MS(o.exp)),signInProvider:u||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e){return 1e3*Number(e)}function jS(e){var t,n=l(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Z_("JWT malformed, contained fewer than 3 sections"),null;try{var o=sl(i);return o?JSON.parse(o):(Z_("Failed to decode base64 JWT payload"),null)}catch(s){return Z_("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function US(e,t){return VS.apply(this,arguments)}function VS(){return VS=o(i().mark((function e(t,n){var r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof yl&&FS(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),VS.apply(this,arguments)}function FS(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var zS=function(){function e(t){Z(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return te(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),BS=function(){function e(t,n){Z(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return te(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=DS(this.lastLoginAt),this.creationTime=DS(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function HS(e){return qS.apply(this,arguments)}function qS(){return qS=o(i().mark((function e(t){var n,r,a,o,s,u,l,c,f,h,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,US(t,PS(r,{idToken:a}));case 6:aS(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),s=o.users[0],t._notifyReloadListener(s),u=(null===(n=s.providerUserInfo)||void 0===n?void 0:n.length)?GS(s.providerUserInfo):[],l=KS(t.providerData,u),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(null===l||void 0===l?void 0:l.length),h=!!c&&f,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new BS(s.createdAt,s.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function WS(){return(WS=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nl(t),e.next=3,HS(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KS(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(fn(n),fn(t))}function GS(e){return e.map((function(e){var t=e.providerId,n=dn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function QS(e,t){return XS.apply(this,arguments)}function XS(){return(XS=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ES(t,{},o(i().mark((function e(){var r,a,o,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_l({grant_type:"refresh_token",refresh_token:n}).slice(1),a=t.config,o=a.tokenApiHost,s=a.apiKey,u=CS(t,o,"/v1/token","key=".concat(s)),e.next=5,t._getAdditionalHeaders();case 5:return(l=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",gS.fetch()(u,{method:"POST",headers:l,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var YS=function(){function e(){Z(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return te(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){aS(e.idToken,"internal-error"),aS("undefined"!==typeof e.idToken,"internal-error"),aS("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=jS(e);return aS(t,"internal-error"),aS("undefined"!==typeof t.exp,"internal-error"),aS("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=o(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],aS(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=o(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QS(t,n);case 2:r=e.sent,a=r.accessToken,o=r.refreshToken,s=r.expiresIn,this.updateTokensAndExpiration(a,o,Number(s));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return oS("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(aS("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(aS("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(aS("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function $S(e,t){aS("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var JS=function(){function e(t){Z(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=dn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?fn(a.providerData):[],this.metadata=new BS(a.createdAt||void 0,a.lastLoginAt||void 0)}return te(e,[{key:"getIdToken",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,US(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(aS(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return LS.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return WS.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(aS(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){aS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=o(i().mark((function e(t){var n,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,HS(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,US(this,AS(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;aS(k&&E,t,"internal-error");var _=YS.fromJSON(this.name,E);aS("string"===typeof k,t,"internal-error"),$S(f,t.name),$S(h,t.name),aS("boolean"===typeof b,t,"internal-error"),aS("boolean"===typeof w,t,"internal-error"),$S(d,t.name),$S(p,t.name),$S(v,t.name),$S(m,t.name),$S(g,t.name),$S(y,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=o(i().mark((function t(n,r){var a,o,s,u=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>2&&void 0!==u[2]&&u[2],(o=new YS).updateFromServerResponse(r),s=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:a}),t.next=6,HS(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ZS=function(){function e(){Z(this,e),this.type="NONE",this.storage={}}return te(e,[{key:"_isAvailable",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ZS.type="NONE";var eT=ZS;function tT(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var nT=function(){function e(t,n,r){Z(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=tT(this.userKey,a.apiKey,o),this.fullPersistenceKey=tT("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return te(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?JS._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=o(i().mark((function t(n,r){var a,s,u,l,c,f,h,d,p,v,m,g=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(lS(eT),n,a));case 3:return t.next=5,Promise.all(r.map(function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:s=t.sent.filter((function(e){return e})),u=s[0]||lS(eT),l=tT(a,n.config.apiKey,n.name),c=null,f=we(r),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(l);case 17:if(!(p=t.sent)){t.next=23;break}return v=JS._fromJSON(n,p),d!==u&&(c=v),u=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=s.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(u,n,a));case 40:if(u=m[0],!c){t.next=44;break}return t.next=44,u._set(l,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(l);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,n,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function rT(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lT(t))return"Blackberry";if(cT(t))return"Webos";if(aT(t))return"Safari";if((t.includes("chrome/")||oT(t))&&!t.includes("edge/"))return"Chrome";if(uT(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function iT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul();return/firefox\//i.test(e)}function aT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul();return/crios\//i.test(e)}function sT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul();return/iemobile/i.test(e)}function uT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul();return/android/i.test(e)}function lT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul();return/blackberry/i.test(e)}function cT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul();return/webos/i.test(e)}function fT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function hT(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul();return fT(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function dT(){return function(){var e=ul();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function pT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul();return fT(e)||uT(e)||cT(e)||lT(e)||/windows phone/i.test(e)||sT(e)}function vT(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=rT(ul());break;case"Worker":t="".concat(rT(ul()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bc,"/").concat(r)}var mT=function(){function e(t){Z(this,e),this.auth=t,this.queue=[]}return te(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,u,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,a=we(this.queue),e.prev=5,a.s();case 7:if((o=a.n()).done){e.next=14;break}return s=o.value,e.next=11,s(t);case 11:s.onAbort&&r.push(s.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),a.e(e.t0);case 19:return e.prev=19,a.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=we(r);try{for(u.s();!(l=u.n()).done;){c=l.value;try{c()}catch(i){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gT=function(){function e(t,n,r){Z(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kT(this),this.idTokenSubscription=new kT(this),this.beforeStateQueue=new mT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return te(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=lS(t)),this._initializationPromise=this.queue(o(i().mark((function r(){var a,o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,nT.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(a=n._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,a=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return s=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===a||void 0===a?void 0:a._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:l=e.sent,s&&s!==u||!(null===l||void 0===l?void 0:l.user)||(a=l.user,o=!0);case 14:if(a){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(a._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(a);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),a=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!a){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return aS(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==a._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(a));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(a));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,HS(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Nl(t):null)&&aS(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=o(i().mark((function e(t){var n,r=this,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&aS(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(o(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(lS(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kl("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return aS(n=t&&lS(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,nT.create(this,[lS(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=o(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return aS(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return aS(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=o(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yT(e){return Nl(e)}var kT=function(){function e(t){var n=this;Z(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Cl(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return te(e,[{key:"next",get:function(){return aS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function bT(e,t,n){var r=yT(e);aS(r._canInitEmulator,r,"emulator-config-failed"),aS(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=wT(t),o=function(e){var t=wT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:xT(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:xT(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function wT(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xT(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ET=function(){function e(t,n){Z(this,e),this.providerId=t,this.signInMethod=n}return te(e,[{key:"toJSON",value:function(){return oS("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return oS("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return oS("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return oS("not implemented")}}]),e}();function _T(e,t){return ST.apply(this,arguments)}function ST(){return(ST=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TT(e,t){return CT.apply(this,arguments)}function CT(){return(CT=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithPassword",bS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IT(e,t){return NT.apply(this,arguments)}function NT(){return(NT=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithEmailLink",bS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AT(e,t){return RT.apply(this,arguments)}function RT(){return(RT=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithEmailLink",bS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PT=function(e){re(n,e);var t=ue(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Z(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return te(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",TT(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",IT(t,{email:this._email,oobCode:this._password}));case 5:eS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",_T(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",AT(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:eS(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ET);function OT(e,t){return DT.apply(this,arguments)}function DT(){return(DT=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithIdp",bS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LT=function(e){re(n,e);var t=ue(n);function n(){var e;return Z(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return te(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return OT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,OT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,OT(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_l(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):eS("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=dn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ET);function MT(e,t){return jT.apply(this,arguments)}function jT(){return(jT=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(t,"POST","/v1/accounts:sendVerificationCode",bS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UT(){return(UT=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithPhoneNumber",bS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VT(){return(VT=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SS(t,"POST","/v1/accounts:signInWithPhoneNumber",bS(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw NS(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FT=N({},"USER_NOT_FOUND","user-not-found");function zT(){return(zT=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",SS(t,"POST","/v1/accounts:signInWithPhoneNumber",bS(t,r),FT));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var BT=function(e){re(n,e);var t=ue(n);function n(e){var r;return Z(this,n),(r=t.call(this,"phone","phone")).params=e,r}return te(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return UT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return VT.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return zT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ET);var HT=function(){function e(t){var n,r,i,a,o,s;Z(this,e);var u=Sl(Tl(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);aS(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return te(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Sl(Tl(e)).link,n=t?Sl(Tl(t)).deep_link_id:null,r=Sl(Tl(e)).deep_link_id;return(r?Sl(Tl(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(IE){return null}}}]),e}();var qT=function(){function e(){Z(this,e),this.providerId=e.PROVIDER_ID}return te(e,null,[{key:"credential",value:function(e,t){return PT._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=HT.parseLink(t);return aS(n,"argument-error"),PT._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();qT.PROVIDER_ID="password",qT.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qT.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var WT=function(){function e(t){Z(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return te(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),KT=function(e){re(n,e);var t=ue(n);function n(){var e;return Z(this,n),(e=t.apply(this,arguments)).scopes=[],e}return te(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return fn(this.scopes)}}]),n}(WT),GT=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.call(this,"facebook.com")}return te(n,null,[{key:"credential",value:function(e){return LT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(IE){return null}}}]),n}(KT);GT.FACEBOOK_SIGN_IN_METHOD="facebook.com",GT.PROVIDER_ID="facebook.com";var QT=function(e){re(n,e);var t=ue(n);function n(){var e;return Z(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return te(n,null,[{key:"credential",value:function(e,t){return LT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(IE){return null}}}]),n}(KT);QT.GOOGLE_SIGN_IN_METHOD="google.com",QT.PROVIDER_ID="google.com";var XT=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.call(this,"github.com")}return te(n,null,[{key:"credential",value:function(e){return LT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(IE){return null}}}]),n}(KT);XT.GITHUB_SIGN_IN_METHOD="github.com",XT.PROVIDER_ID="github.com";var YT=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.call(this,"twitter.com")}return te(n,null,[{key:"credential",value:function(e,t){return LT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(IE){return null}}}]),n}(KT);function $T(e,t){return JT.apply(this,arguments)}function JT(){return(JT=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SS(t,"POST","/v1/accounts:signUp",bS(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}YT.TWITTER_SIGN_IN_METHOD="twitter.com",YT.PROVIDER_ID="twitter.com";var ZT=function(){function e(t){Z(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return te(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=o(i().mark((function t(n,r,a){var o,s,u,l,c=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>3&&void 0!==c[3]&&c[3],t.next=3,JS._fromIdTokenResponse(n,a,o);case 3:return s=t.sent,u=eC(a),l=new e({user:s,providerId:u,_tokenResponse:a,operationType:r}),t.abrupt("return",l);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=o(i().mark((function t(n,r,a){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(a,!0);case 2:return o=eC(a),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:a,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function eC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var tC=function(e){re(n,e);var t=ue(n);function n(e,r,i,a){var o,s;return Z(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(oe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return te(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(yl);function nC(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw tC._fromErrorAndOperation(e,n,t,r);throw n}))}function rC(e,t){return iC.apply(this,arguments)}function iC(){return iC=o(i().mark((function e(t,n){var r,a,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=US,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",ZT._forOperation(t,"link",a));case 14:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=o(i().mark((function e(t,n){var r,a,o,s,u,l,c,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>2&&void 0!==f[2]&&f[2],o=t.auth,s="reauthenticate",e.prev=3,e.next=6,US(t,nC(o,s,n,t),r);case 6:return aS((u=e.sent).idToken,o,"internal-error"),aS(l=jS(u.idToken),o,"internal-error"),c=l.sub,aS(t.uid===c,o,"user-mismatch"),e.abrupt("return",ZT._forOperation(t,s,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(a=e.t0)||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&eS(o,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),oC.apply(this,arguments)}function sC(e,t){return uC.apply(this,arguments)}function uC(){return uC=o(i().mark((function e(t,n){var r,a,o,s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],a="signIn",e.next=4,nC(t,a,n);case 4:return o=e.sent,e.next=7,ZT._fromIdTokenResponse(t,a,o);case 7:if(s=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function lC(e,t){return cC.apply(this,arguments)}function cC(){return(cC=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sC(yT(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fC(){return(fC=o(i().mark((function e(t,n,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yT(t),e.next=3,$T(a,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,ZT._fromIdTokenResponse(a,"signIn",o);case 6:return s=e.sent,e.next=9,a._updateCurrentUser(s.user);case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hC(e,t,n){return lC(Nl(e),qT.credential(t,n))}function dC(e,t,n,r){return Nl(e).onIdTokenChanged(t,n,r)}function pC(e,t,n){return Nl(e).beforeAuthStateChanged(t,n)}function vC(e,t){return wS(e,"POST","/v2/accounts/mfaEnrollment:start",bS(e,t))}new WeakMap;var mC="__sak",gC=function(){function e(t,n){Z(this,e),this.storageRetriever=t,this.type=n}return te(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(mC,"1"),this.storage.removeItem(mC),Promise.resolve(!0)):Promise.resolve(!1)}catch(IE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var yC=function(e){re(n,e);var t=ue(n);function n(){var e;return Z(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ul();return aT(e)||fT(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=pT(),e._shouldAllowMigration=!0,e}return te(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);dT()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=o(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xh(ie(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xh(ie(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xh(ie(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(gC);yC.type="LOCAL";var kC=yC,bC=function(e){re(n,e);var t=ue(n);function n(){return Z(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return te(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(gC);bC.type="SESSION";var wC=bC;function xC(e){return Promise.all(e.map(function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var EC=function(){function e(t){Z(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return te(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=o(i().mark((function e(t){var n,r,a,s,u,l,c,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,a=r.eventId,s=r.eventType,u=r.data,null===(l=this.handlersMap[s])||void 0===l?void 0:l.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:s}),c=Array.from(l).map(function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,xC(c);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function _C(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}EC.receivers=[];var SC=function(){function e(t){Z(this,e),this.target=t,this.handlers=new Set}return te(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=o(i().mark((function e(t,n){var r,a,o,s,u=this,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,i){var l=_C("",20);a.port1.start();var c=setTimeout((function(){i(new Error("unsupported_event"))}),r);s={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),o=setTimeout((function(){i(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(c),clearTimeout(o),i(new Error("invalid_response"))}}},u.handlers.add(s),a.port1.addEventListener("message",s.onMessage),u.target.postMessage({eventType:t,eventId:l,data:n},[a.port2])})).finally((function(){s&&u.removeMessageHandler(s)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function TC(){return window}function CC(){return"undefined"!==typeof TC().WorkerGlobalScope&&"function"===typeof TC().importScripts}function IC(){return NC.apply(this,arguments)}function NC(){return(NC=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function AC(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var RC="firebaseLocalStorageDb",PC="firebaseLocalStorage",OC="fbase_key",DC=function(){function e(t){Z(this,e),this.request=t}return te(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function LC(e,t){return e.transaction([PC],t?"readwrite":"readonly").objectStore(PC)}function MC(){var e=indexedDB.deleteDatabase(RC);return new DC(e).toPromise()}function jC(){var e=indexedDB.open(RC,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(PC,{keyPath:OC})}catch(r){n(r)}})),e.addEventListener("success",o(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(PC)){n.next=12;break}return r.close(),n.next=5,MC();case 5:return n.t0=t,n.next=8,jC();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function UC(e,t,n){return VC.apply(this,arguments)}function VC(){return VC=o(i().mark((function e(t,n,r){var a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=LC(t,!0).put((N(a={},OC,n),N(a,"value",r),a)),e.abrupt("return",new DC(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function FC(e,t){return zC.apply(this,arguments)}function zC(){return zC=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LC(t,!1).get(n),e.next=3,new DC(r).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)}))),zC.apply(this,arguments)}function BC(e,t){var n=LC(e,!0).delete(t);return new DC(n).toPromise()}var HC=function(){function e(){Z(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return te(e,[{key:"_openDb",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,jC();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CC()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=o(i().mark((function e(){var t=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=EC._getInstance(CC()?self:null),this.receiver._subscribe("keyChanged",function(){var e=o(i().mark((function e(n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=o(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IC();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new SC(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&AC()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,jC();case 5:return t=e.sent,e.next=8,UC(t,mC,"1");case 8:return e.next=10,BC(t,mC);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=o(i().mark((function e(t,n){var r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return UC(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return FC(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(i().mark((function e(t){var n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return BC(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=o(i().mark((function e(){var t,n,r,a,o,s,u,l,c,f,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=LC(e,!1).getAll();return new DC(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,a=we(t);try{for(a.s();!(o=a.n()).done;)s=o.value,u=s.fbase_key,l=s.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(l)&&(this.notifyListeners(u,l),n.push(u))}catch(i){a.e(i)}finally{a.f()}for(c=0,f=Object.keys(this.localCache);c<f.length;c++)h=f[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(o(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();HC.type="LOCAL";var qC=HC;function WC(e,t){return wS(e,"POST","/v2/accounts/mfaSignIn:start",bS(e,t))}function KC(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=tS("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function GC(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}GC("rcb"),new vS(3e4,6e4);var QC="recaptcha";function XC(e,t,n){return YC.apply(this,arguments)}function YC(){return YC=o(i().mark((function e(t,n,r){var a,o,s,u,l,c,f,h,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,aS("string"===typeof o,t,"argument-error"),aS(r.type===QC,t,"argument-error"),!("session"in(s="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=s.session,!("phoneNumber"in s)){e.next=17;break}return aS("enroll"===u.type,t,"internal-error"),e.next=13,vC(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:o}});case 13:return l=e.sent,e.abrupt("return",l.phoneSessionInfo.sessionInfo);case 17:return aS("signin"===u.type,t,"internal-error"),aS(c=(null===(a=s.multiFactorHint)||void 0===a?void 0:a.uid)||s.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,WC(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:o}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,MT(t,{phoneNumber:s.phoneNumber,recaptchaToken:o});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),YC.apply(this,arguments)}var $C=function(){function e(t){Z(this,e),this.providerId=e.PROVIDER_ID,this.auth=yT(t)}return te(e,[{key:"verifyPhoneNumber",value:function(e,t){return XC(this.auth,e,Nl(t))}}],[{key:"credential",value:function(e,t){return BT._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?BT._fromTokenResponse(n,r):null}}]),e}();function JC(e,t){return t?lS(t):(aS(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$C.PROVIDER_ID="phone",$C.PHONE_SIGN_IN_METHOD="phone";var ZC=function(e){re(n,e);var t=ue(n);function n(e){var r;return Z(this,n),(r=t.call(this,"custom","custom")).params=e,r}return te(n,[{key:"_getIdTokenResponse",value:function(e){return OT(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return OT(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return OT(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ET);function eI(e){return sC(e.auth,new ZC(e),e.bypassAuthState)}function tI(e){var t=e.auth,n=e.user;return aS(n,t,"internal-error"),aC(n,new ZC(e),e.bypassAuthState)}function nI(e){return rI.apply(this,arguments)}function rI(){return(rI=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,aS(r=t.user,n,"internal-error"),e.abrupt("return",rC(r,new ZC(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Z(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return te(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=o(i().mark((function t(n,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,a=t.postBody,o=t.tenantId,s=t.error,u=t.type,!s){e.next=4;break}return this.reject(s),e.abrupt("return");case 4:return l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(l);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eI;case"linkViaPopup":case"linkViaRedirect":return nI;case"reauthViaPopup":case"reauthViaRedirect":return tI;default:eS(this.auth,"internal-error")}}},{key:"resolve",value:function(e){sS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){sS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),aI=new vS(2e3,1e4);function oI(e,t,n){return sI.apply(this,arguments)}function sI(){return(sI=o(i().mark((function e(t,n,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yT(t),rS(t,n,WT),o=JC(a,r),s=new uI(a,"signInViaPopup",n,o),e.abrupt("return",s.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uI=function(e){re(n,e);var t=ue(n);function n(e,r,i,a,o){var s;return Z(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=oe(s),s}return te(n,[{key:"executeNotNull",value:function(){var e=o(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return aS(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=o(i().mark((function e(){var t,n=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sS(1===this.filter.length,"Popup operations only handle one event"),t=_C(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(tS(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(tS(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(tS(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,aI.get())}()}}]),n}(iI);uI.currentPopupAction=null;var lI=new Map,cI=function(e){re(n,e);var t=ue(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Z(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return te(n,[{key:"execute",value:function(){var e=o(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=lI.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,fI(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,xh(ie(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:lI.set(this.auth._key(),t);case 21:return this.bypassAuthState||lI.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=o(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",xh(ie(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",xh(ie(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(iI);function fI(e,t){return hI.apply(this,arguments)}function hI(){return(hI=o(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vI(n),a=pI(t),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,a._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dI(e,t){lI.set(e._key(),t)}function pI(e){return lS(e._redirectPersistence)}function vI(e){return tT("pendingRedirect",e.config.apiKey,e.name)}function mI(e,t){return gI.apply(this,arguments)}function gI(){return gI=o(i().mark((function e(t,n){var r,a,o,s,u,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=yT(t),o=JC(a,n),s=new cI(a,o,r),e.next=6,s.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,a._persistUserIfCurrent(u.user);case 11:return e.next=13,a._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}var yI=function(){function e(t){Z(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return te(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bI(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bI(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(tS(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kI(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(kI(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function kI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bI(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function wI(e){return xI.apply(this,arguments)}function xI(){return xI=o(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",wS(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xI.apply(this,arguments)}var EI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_I=/^https?/;function SI(){return(SI=o(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wI(t);case 4:n=e.sent,r=n.authorizedDomains,a=we(r),e.prev=7,a.s();case 9:if((o=a.n()).done){e.next=20;break}if(s=o.value,e.prev=11,!TI(s)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:eS(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function TI(e){var t=fS(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!_I.test(r))return!1;if(EI.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var CI=new vS(3e4,6e4);function II(){var e=TC().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=fn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var NI=null;function AI(e){return NI=NI||function(e){return new Promise((function(t,n){var r,i,a;function o(){II(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){II(),n(tS(e,"network-request-failed"))},timeout:CI.get()})}if(null===(i=null===(r=TC().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=TC().gapi)||void 0===a?void 0:a.load)){var s=GC("iframefcb");return TC()[s]=function(){gapi.load?o():n(tS(e,"network-request-failed"))},KC("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw NI=null,e}))}(e),NI}var RI=new vS(5e3,15e3),PI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DI(e){var t=e.config;aS(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?mS(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:bc},i=OI.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(_l(r).slice(1))}function LI(e){return MI.apply(this,arguments)}function MI(){return MI=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AI(t);case 2:return n=e.sent,aS(r=TC().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:DI(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PI,dontclear:!0},(function(e){return new Promise(function(){var n=o(i().mark((function n(r,a){var o,s,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){TC().clearTimeout(s),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=tS(t,"network-request-failed"),s=TC().setTimeout((function(){a(o)}),RI.get()),e.ping(u).then(u,(function(){a(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}var jI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UI="_blank",VI="http://localhost",FI=function(){function e(t){Z(this,e),this.window=t,this.associatedEvent=null}return te(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function zI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},jI),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ul().toLowerCase();n&&(s=oT(c)?UI:n),iT(c)&&(t=t||VI,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(hT(c)&&"_self"!==s)return BI(t||"",s),new FI(null);var h=window.open(t||"",s,f);aS(h,e,"popup-blocked");try{h.focus()}catch(d){}return new FI(h)}function BI(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var HI="__/auth/handler",qI="emulator/auth/handler";function WI(e,t,n,r,i,a){aS(e.config.authDomain,e,"auth-domain-config-required"),aS(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:bc,eventId:i};if(t instanceof WT){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=l(u[s],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof KT){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(HI);return mS(t,qI)}(e),"?").concat(_l(p).slice(1))}var KI="webStorageSupport",GI=function(){function e(){Z(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wC,this._completeRedirectFn=mI,this._overrideRedirectResult=dI}return te(e,[{key:"_openPopup",value:function(){var e=o(i().mark((function e(t,n,r,a){var o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sS(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),s=WI(t,n,r,fS(),a),e.abrupt("return",zI(t,s,_C()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=o(i().mark((function e(t,n,r,a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return i=WI(t,n,r,fS(),a),TC().location.href=i,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var i}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(sS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LI(t);case 2:return n=e.sent,r=new yI(t),n.register("authEvent",(function(e){return aS(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(KI,{type:KI},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),eS(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return SI.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return pT()||aT()||fT()}}]),e}(),QI=GI,XI=function(e){re(n,e);var t=ue(n);function n(e){var r;return Z(this,n),(r=t.call(this,"phone")).credential=e,r}return te(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return wS(e,"POST","/v2/accounts/mfaEnrollment:finalize",bS(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return wS(e,"POST","/v2/accounts/mfaSignIn:finalize",bS(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Z(this,e),this.factorId=t}return te(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return oS("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){Z(this,e)}return te(e,null,[{key:"assertion",value:function(e){return XI._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var YI="@firebase/auth",$I="0.20.11",JI=function(){function e(t){Z(this,e),this.auth=t,this.internalListeners=new Map}return te(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){aS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ZI,eN=vl("authIdTokenMaxAge")||300,tN=null,nN=function(e){return function(){var t=o(i().mark((function t(n){var r,a,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((a=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&a>eN)){t.next=9;break}return t.abrupt("return");case 9:if(o=null===r||void 0===r?void 0:r.token,tN!==o){t.next=12;break}return t.abrupt("return");case 12:return tN=o,t.next=15,fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:"Bearer ".concat(o)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};ZI="Browser",vc(new Al("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){aS(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),aS(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:ZI,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(ZI)},i=new gT(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lS);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),vc(new Al("auth-internal",(function(e){return function(e){return new JI(e)}(yT(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ec(YI,$I,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ZI)),Ec(YI,$I,"esm2017");var rN=function(){var t=l(Bs(),2),n=t[0].user,r=t[1],a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc(),t=mc(e,"auth");if(t.isInitialized())return t.getImmediate();var n=cS(e,{popupRedirectResolver:QI,persistence:[qC,kC,wC]}),r=vl("authTokenSyncURL");if(r){var i=nN(r);pC(n,i,(function(){return i(n.currentUser)})),dC(n,(function(e){return i(e)}))}var a=hl("auth");return a&&bT(n,"http://".concat(a)),n}(R_),s=new QT,u=l((0,e.useState)(""),2),c=u[0],f=u[1],h=l((0,e.useState)(""),2),d=h[0],p=h[1],v=l((0,e.useState)({email:"",pass:""}),2),m=v[0],g=v[1],y=ku(),k=function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n||hC(a,c,d).then((function(e){alert("Login Successful."),localStorage.setItem("user",c),y("/")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=o(i().mark((function e(t){var o,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n){e.next=11;break}return e.next=4,oI(a,s);case 4:o=e.sent,u=o.user,u.refreshToken,l=u.providerData,r({user:l[0]}),localStorage.setItem("user",JSON.stringify(l[0])),y("/");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=(0,e.useRef)(null),x=null;(0,e.useEffect)((function(){x=w.current}));var E=function(){x.style.transform="rotateY(0deg)"};return(0,Vs.jsx)("div",{className:"container",children:(0,Vs.jsx)("div",{className:"card",children:(0,Vs.jsxs)("div",{className:"inner-box",ref:w,id:"login-card",children:[(0,Vs.jsxs)("div",{className:"card-front",children:[(0,Vs.jsx)("h2",{children:"LOGIN"}),(0,Vs.jsxs)("form",{onSubmit:k,children:[(0,Vs.jsx)("input",{type:"email",className:"input-box",placeholder:"Your Email Id",value:c,onChange:function(e){return f(e.target.value)},required:!0}),(0,Vs.jsx)("input",{type:"password",className:"input-box",placeholder:"Password",value:d,onChange:function(e){return p(e.target.value)},required:!0}),(0,Vs.jsx)("input",{type:"submit",className:"btn submit-btn",value:"Submit"})]}),(0,Vs.jsx)("button",{type:"button",className:"btn btn-googlesignin",onClick:b,children:"Sign in with Google"}),(0,Vs.jsx)("button",{type:"button",className:"btn register-btn",onClick:function(){x.style.transform="rotateY(-180deg)"},children:"I'm new here"})]}),(0,Vs.jsxs)("div",{className:"card-back",children:[(0,Vs.jsx)("h2",{children:"REGISTER"}),(0,Vs.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,n){return fC.apply(this,arguments)}(a,m.email,m.pass).then((function(e){alert("Registration Successful"),E()})).catch((function(e){console.log(e)}))},children:[(0,Vs.jsx)("input",{type:"text",className:"input-box",placeholder:"Your Name",required:!0}),(0,Vs.jsx)("input",{type:"email",className:"input-box",placeholder:"Your Email Id",value:m.email,onChange:function(e){return g(R(R({},m),{},{email:e.target.value}))},required:!0}),(0,Vs.jsx)("input",{type:"number",className:"input-box",placeholder:"Enter Mobile Number"}),(0,Vs.jsxs)("select",{className:"input-box",children:[(0,Vs.jsx)("option",{children:"What was your first car?"}),(0,Vs.jsx)("option",{children:"What was your elementary school?"}),(0,Vs.jsx)("option",{children:"What was your favourite actor?"})]}),(0,Vs.jsx)("input",{type:"text",className:"input-box",placeholder:"Enter Answer"}),(0,Vs.jsx)("input",{type:"password",className:"input-box",placeholder:"Password",value:m.pass,onChange:function(e){return g(R(R({},m),{},{pass:e.target.value}))},required:!0}),(0,Vs.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit"})]}),(0,Vs.jsx)("button",{type:"button",className:"btn",onClick:function(){return E()},children:"I've an account"})]})]})})})},iN=function(){var t=l(Bs(),2),n=(t[0].foodItems,t[1]),r=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L_().then((function(e){n({type:Ls,foodItems:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){r()}),[]),(0,Vs.jsx)(K_,{children:(0,Vs.jsxs)("div",{className:"w-screen h-auto flex flex-col bg-primary",children:[(0,Vs.jsx)(Ru,{}),(0,Vs.jsx)("main",{className:"mt-14 md:mt-20 px-4 md:px-16 py-4 w-full",children:(0,Vs.jsxs)(_u,{children:[(0,Vs.jsx)(xu,{path:"/",element:(0,Vs.jsx)(el,{})}),(0,Vs.jsx)(xu,{path:"/adminPanel",element:(0,Vs.jsx)(Q_,{})}),(0,Vs.jsx)(xu,{path:"/createItem",element:(0,Vs.jsx)(M_,{})}),(0,Vs.jsx)(xu,{path:"/login",element:(0,Vs.jsx)(rN,{})})]})})]})})},aN={user:"undefined"!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):localStorage.clear(),foodItems:null,cartShow:!1,cartItems:function(){var e="undefined"!==localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):localStorage.clear();return e||[]}()};t.render((0,Vs.jsx)(Nu,{children:(0,Vs.jsx)(zs,{initialState:aN,reducer:Us,children:(0,Vs.jsx)(iN,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.932b4074.js.map